ARM GAS  /tmp/cc7rDAuv.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"bsp_ili9341_lcd.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.ILI9341_Delay,"ax",%progbits
  16              		.align	1
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  20              		.fpu softvfp
  22              	ILI9341_Delay:
  23              	.LFB64:
  24              		.file 1 "User/lcd/bsp_ili9341_lcd.c"
   1:User/lcd/bsp_ili9341_lcd.c **** /**
   2:User/lcd/bsp_ili9341_lcd.c ****  ******************************************************************************
   3:User/lcd/bsp_ili9341_lcd.c ****  * @file    bsp_ili9341_lcd.c
   4:User/lcd/bsp_ili9341_lcd.c ****  * @version V1.0
   5:User/lcd/bsp_ili9341_lcd.c ****  * @date    2013-xx-xx
   6:User/lcd/bsp_ili9341_lcd.c ****  * @brief   ili9341液晶屏驱动
   7:User/lcd/bsp_ili9341_lcd.c ****  ******************************************************************************
   8:User/lcd/bsp_ili9341_lcd.c ****  * @attention
   9:User/lcd/bsp_ili9341_lcd.c ****  *
  10:User/lcd/bsp_ili9341_lcd.c ****  * 实验平台:野火 F103-MINI STM32 开发板
  11:User/lcd/bsp_ili9341_lcd.c ****  * 论坛    :http://www.firebbs.cn
  12:User/lcd/bsp_ili9341_lcd.c ****  * 淘宝    :https://fire-stm32.taobao.com
  13:User/lcd/bsp_ili9341_lcd.c ****  *
  14:User/lcd/bsp_ili9341_lcd.c ****  ******************************************************************************
  15:User/lcd/bsp_ili9341_lcd.c ****  */
  16:User/lcd/bsp_ili9341_lcd.c **** 
  17:User/lcd/bsp_ili9341_lcd.c **** #include "./lcd/bsp_ili9341_lcd.h"
  18:User/lcd/bsp_ili9341_lcd.c **** #include "./font/fonts.h"
  19:User/lcd/bsp_ili9341_lcd.c **** 
  20:User/lcd/bsp_ili9341_lcd.c **** //根据液晶扫描方向而变化的XY像素宽度
  21:User/lcd/bsp_ili9341_lcd.c **** //调用ILI9341_GramScan函数设置方向时会自动更改
  22:User/lcd/bsp_ili9341_lcd.c **** uint16_t LCD_X_LENGTH = ILI9341_LESS_PIXEL;
  23:User/lcd/bsp_ili9341_lcd.c **** uint16_t LCD_Y_LENGTH = ILI9341_MORE_PIXEL;
  24:User/lcd/bsp_ili9341_lcd.c **** 
  25:User/lcd/bsp_ili9341_lcd.c **** //液晶屏扫描模式，本变量主要用于方便选择触摸屏的计算参数
  26:User/lcd/bsp_ili9341_lcd.c **** //参数可选值为0-7
  27:User/lcd/bsp_ili9341_lcd.c **** //调用ILI9341_GramScan函数设置方向时会自动更改
  28:User/lcd/bsp_ili9341_lcd.c **** // LCD刚初始化完成时会使用本默认值
  29:User/lcd/bsp_ili9341_lcd.c **** uint8_t LCD_SCAN_MODE = 6;
  30:User/lcd/bsp_ili9341_lcd.c **** 
  31:User/lcd/bsp_ili9341_lcd.c **** static sFONT *LCD_Currentfonts = &Font8x16; //英文字体
  32:User/lcd/bsp_ili9341_lcd.c **** static uint16_t CurrentTextColor = BLACK;   //前景色
  33:User/lcd/bsp_ili9341_lcd.c **** static uint16_t CurrentBackColor = WHITE;   //背景色
  34:User/lcd/bsp_ili9341_lcd.c **** 
ARM GAS  /tmp/cc7rDAuv.s 			page 2


  35:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_Write_Cmd(uint16_t usCmd);
  36:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_Write_Data(uint16_t usData);
  37:User/lcd/bsp_ili9341_lcd.c **** uint16_t ILI9341_Read_Data(void);
  38:User/lcd/bsp_ili9341_lcd.c **** static void ILI9341_Delay(__IO uint32_t nCount);
  39:User/lcd/bsp_ili9341_lcd.c **** static void ILI9341_GPIO_Config(void);
  40:User/lcd/bsp_ili9341_lcd.c **** static void ILI9341_REG_Config(void);
  41:User/lcd/bsp_ili9341_lcd.c **** static void ILI9341_SetCursor(uint16_t usX, uint16_t usY);
  42:User/lcd/bsp_ili9341_lcd.c **** static __inline void ILI9341_FillColor(uint32_t ulAmout_Point, uint16_t usColor);
  43:User/lcd/bsp_ili9341_lcd.c **** static uint16_t ILI9341_Read_PixelData(void);
  44:User/lcd/bsp_ili9341_lcd.c **** 
  45:User/lcd/bsp_ili9341_lcd.c **** /**
  46:User/lcd/bsp_ili9341_lcd.c ****  * @brief  用于 ILI9341 简单延时函数
  47:User/lcd/bsp_ili9341_lcd.c ****  * @param  nCount ：延时计数值
  48:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
  49:User/lcd/bsp_ili9341_lcd.c ****  */
  50:User/lcd/bsp_ili9341_lcd.c **** static void ILI9341_Delay(__IO uint32_t nCount)
  51:User/lcd/bsp_ili9341_lcd.c **** {
  25              		.loc 1 51 0
  26              		.cfi_startproc
  27              		@ args = 0, pretend = 0, frame = 8
  28              		@ frame_needed = 0, uses_anonymous_args = 0
  29              		@ link register save eliminated.
  30              	.LVL0:
  31 0000 82B0     		sub	sp, sp, #8
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34 0002 0190     		str	r0, [sp, #4]
  52:User/lcd/bsp_ili9341_lcd.c ****   for (; nCount != 0; nCount--)
  35              		.loc 1 52 0
  36 0004 02E0     		b	.L2
  37              	.L3:
  38              		.loc 1 52 0 is_stmt 0 discriminator 2
  39 0006 019B     		ldr	r3, [sp, #4]
  40 0008 013B     		subs	r3, r3, #1
  41 000a 0193     		str	r3, [sp, #4]
  42              	.L2:
  43              		.loc 1 52 0 discriminator 1
  44 000c 019B     		ldr	r3, [sp, #4]
  45 000e 002B     		cmp	r3, #0
  46 0010 F9D1     		bne	.L3
  53:User/lcd/bsp_ili9341_lcd.c ****     ;
  54:User/lcd/bsp_ili9341_lcd.c **** }
  47              		.loc 1 54 0 is_stmt 1
  48 0012 02B0     		add	sp, sp, #8
  49              	.LCFI1:
  50              		.cfi_def_cfa_offset 0
  51              		@ sp needed
  52 0014 7047     		bx	lr
  53              		.cfi_endproc
  54              	.LFE64:
  56              		.section	.text.ILI9341_GPIO_Config,"ax",%progbits
  57              		.align	1
  58              		.syntax unified
  59              		.thumb
  60              		.thumb_func
  61              		.fpu softvfp
  63              	ILI9341_GPIO_Config:
ARM GAS  /tmp/cc7rDAuv.s 			page 3


  64              	.LFB68:
  55:User/lcd/bsp_ili9341_lcd.c **** 
  56:User/lcd/bsp_ili9341_lcd.c **** /**
  57:User/lcd/bsp_ili9341_lcd.c ****  * @brief  向ILI9341写入命令
  58:User/lcd/bsp_ili9341_lcd.c ****  * @param  usCmd :要写入的命令（表寄存器地址）
  59:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
  60:User/lcd/bsp_ili9341_lcd.c ****  */
  61:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_Write_Cmd(uint16_t usCmd)
  62:User/lcd/bsp_ili9341_lcd.c **** {
  63:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_CLR; //开始片选
  64:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DC_CLR; //写命令
  65:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_RD_SET; //禁止读
  66:User/lcd/bsp_ili9341_lcd.c ****   DATAOUT(usCmd); //输出命令
  67:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_WR_CLR; //写入开始
  68:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_WR_SET; //写入结束
  69:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_SET; //结束片选
  70:User/lcd/bsp_ili9341_lcd.c **** }
  71:User/lcd/bsp_ili9341_lcd.c **** 
  72:User/lcd/bsp_ili9341_lcd.c **** /**
  73:User/lcd/bsp_ili9341_lcd.c ****  * @brief  向ILI9341写入数据
  74:User/lcd/bsp_ili9341_lcd.c ****  * @param  usData :要写入的数据
  75:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
  76:User/lcd/bsp_ili9341_lcd.c ****  */
  77:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_Write_Data(uint16_t usData)
  78:User/lcd/bsp_ili9341_lcd.c **** {
  79:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_CLR;  //开始片选
  80:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DC_SET;  //写数据
  81:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_RD_SET;  //禁止读
  82:User/lcd/bsp_ili9341_lcd.c ****   DATAOUT(usData); //输出数据
  83:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_WR_CLR;  //写入开始
  84:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_WR_SET;  //写入结束
  85:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_SET;  //结束片选
  86:User/lcd/bsp_ili9341_lcd.c **** }
  87:User/lcd/bsp_ili9341_lcd.c **** 
  88:User/lcd/bsp_ili9341_lcd.c **** /**
  89:User/lcd/bsp_ili9341_lcd.c ****  * @brief  从ILI9341读取数据
  90:User/lcd/bsp_ili9341_lcd.c ****  * @param  无
  91:User/lcd/bsp_ili9341_lcd.c ****  * @retval 读取到的数据
  92:User/lcd/bsp_ili9341_lcd.c ****  */
  93:User/lcd/bsp_ili9341_lcd.c **** uint16_t ILI9341_Read_Data(void)
  94:User/lcd/bsp_ili9341_lcd.c **** {
  95:User/lcd/bsp_ili9341_lcd.c ****   uint16_t data;
  96:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DATA_PORT->CRL = 0X88888888; //上拉输入
  97:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DATA_PORT->CRH = 0X88888888; //上拉输入
  98:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DATA_PORT->ODR = 0X0000;     //全部输出0
  99:User/lcd/bsp_ili9341_lcd.c **** 
 100:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DC_SET;
 101:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_WR_SET;
 102:User/lcd/bsp_ili9341_lcd.c **** 
 103:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_CLR;
 104:User/lcd/bsp_ili9341_lcd.c ****   //读取数据
 105:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_RD_CLR;
 106:User/lcd/bsp_ili9341_lcd.c **** 
 107:User/lcd/bsp_ili9341_lcd.c ****   data = DATAIN;
 108:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_RD_SET;
 109:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_SET;
 110:User/lcd/bsp_ili9341_lcd.c **** 
ARM GAS  /tmp/cc7rDAuv.s 			page 4


 111:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DATA_PORT->CRL = 0X33333333; // 上拉输出
 112:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DATA_PORT->CRH = 0X33333333; // 上拉输出
 113:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DATA_PORT->ODR = 0XFFFF;     //全部输出高
 114:User/lcd/bsp_ili9341_lcd.c ****   return data;
 115:User/lcd/bsp_ili9341_lcd.c **** }
 116:User/lcd/bsp_ili9341_lcd.c **** 
 117:User/lcd/bsp_ili9341_lcd.c **** /**
 118:User/lcd/bsp_ili9341_lcd.c ****  * @brief  初始化ILI9341的IO引脚
 119:User/lcd/bsp_ili9341_lcd.c ****  * @param  无
 120:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 121:User/lcd/bsp_ili9341_lcd.c ****  */
 122:User/lcd/bsp_ili9341_lcd.c **** static void ILI9341_GPIO_Config(void)
 123:User/lcd/bsp_ili9341_lcd.c **** {
  65              		.loc 1 123 0
  66              		.cfi_startproc
  67              		@ args = 0, pretend = 0, frame = 32
  68              		@ frame_needed = 0, uses_anonymous_args = 0
  69 0000 30B5     		push	{r4, r5, lr}
  70              	.LCFI2:
  71              		.cfi_def_cfa_offset 12
  72              		.cfi_offset 4, -12
  73              		.cfi_offset 5, -8
  74              		.cfi_offset 14, -4
  75 0002 89B0     		sub	sp, sp, #36
  76              	.LCFI3:
  77              		.cfi_def_cfa_offset 48
  78              	.LBB8:
 124:User/lcd/bsp_ili9341_lcd.c ****   GPIO_InitTypeDef GPIO_Initure;
 125:User/lcd/bsp_ili9341_lcd.c **** 
 126:User/lcd/bsp_ili9341_lcd.c ****   /* Enable GPIOs clock */
 127:User/lcd/bsp_ili9341_lcd.c ****   __HAL_RCC_GPIOC_CLK_ENABLE();
  79              		.loc 1 127 0
  80 0004 2E4B     		ldr	r3, .L7
  81 0006 9A69     		ldr	r2, [r3, #24]
  82 0008 42F01002 		orr	r2, r2, #16
  83 000c 9A61     		str	r2, [r3, #24]
  84 000e 9A69     		ldr	r2, [r3, #24]
  85 0010 02F01002 		and	r2, r2, #16
  86 0014 0092     		str	r2, [sp]
  87 0016 009A     		ldr	r2, [sp]
  88              	.LBE8:
  89              	.LBB9:
 128:User/lcd/bsp_ili9341_lcd.c ****   __HAL_RCC_GPIOD_CLK_ENABLE();
  90              		.loc 1 128 0
  91 0018 9A69     		ldr	r2, [r3, #24]
  92 001a 42F02002 		orr	r2, r2, #32
  93 001e 9A61     		str	r2, [r3, #24]
  94 0020 9A69     		ldr	r2, [r3, #24]
  95 0022 02F02002 		and	r2, r2, #32
  96 0026 0192     		str	r2, [sp, #4]
  97 0028 019A     		ldr	r2, [sp, #4]
  98              	.LBE9:
  99              	.LBB10:
 129:User/lcd/bsp_ili9341_lcd.c ****   __HAL_RCC_GPIOB_CLK_ENABLE();
 100              		.loc 1 129 0
 101 002a 9A69     		ldr	r2, [r3, #24]
 102 002c 42F00802 		orr	r2, r2, #8
ARM GAS  /tmp/cc7rDAuv.s 			page 5


 103 0030 9A61     		str	r2, [r3, #24]
 104 0032 9A69     		ldr	r2, [r3, #24]
 105 0034 02F00802 		and	r2, r2, #8
 106 0038 0292     		str	r2, [sp, #8]
 107 003a 029A     		ldr	r2, [sp, #8]
 108              	.LBE10:
 109              	.LBB11:
 130:User/lcd/bsp_ili9341_lcd.c ****   __HAL_RCC_AFIO_CLK_ENABLE();
 110              		.loc 1 130 0
 111 003c 9A69     		ldr	r2, [r3, #24]
 112 003e 42F00102 		orr	r2, r2, #1
 113 0042 9A61     		str	r2, [r3, #24]
 114 0044 9B69     		ldr	r3, [r3, #24]
 115 0046 03F00103 		and	r3, r3, #1
 116 004a 0393     		str	r3, [sp, #12]
 117 004c 039B     		ldr	r3, [sp, #12]
 118              	.LBE11:
 131:User/lcd/bsp_ili9341_lcd.c **** 
 132:User/lcd/bsp_ili9341_lcd.c ****   __HAL_AFIO_REMAP_SWJ_NOJTAG(); //禁止JTAG
 119              		.loc 1 132 0
 120 004e 1D4B     		ldr	r3, .L7+4
 121 0050 5A68     		ldr	r2, [r3, #4]
 122 0052 22F0E062 		bic	r2, r2, #117440512
 123 0056 5A60     		str	r2, [r3, #4]
 124 0058 5A68     		ldr	r2, [r3, #4]
 125 005a 42F00072 		orr	r2, r2, #33554432
 126 005e 5A60     		str	r2, [r3, #4]
 133:User/lcd/bsp_ili9341_lcd.c **** 
 134:User/lcd/bsp_ili9341_lcd.c ****   /* Common GPIO configuration */
 135:User/lcd/bsp_ili9341_lcd.c ****   GPIO_Initure.Mode = GPIO_MODE_OUTPUT_PP; //推挽输出
 127              		.loc 1 135 0
 128 0060 0123     		movs	r3, #1
 129 0062 0593     		str	r3, [sp, #20]
 136:User/lcd/bsp_ili9341_lcd.c ****   GPIO_Initure.Pull = GPIO_PULLUP;
 130              		.loc 1 136 0
 131 0064 0693     		str	r3, [sp, #24]
 137:User/lcd/bsp_ili9341_lcd.c ****   GPIO_Initure.Speed = GPIO_SPEED_FREQ_HIGH;
 132              		.loc 1 137 0
 133 0066 0323     		movs	r3, #3
 134 0068 0793     		str	r3, [sp, #28]
 138:User/lcd/bsp_ili9341_lcd.c **** 
 139:User/lcd/bsp_ili9341_lcd.c ****   GPIO_Initure.Pin = ILI9341_DATA_PIN;
 135              		.loc 1 139 0
 136 006a 08AC     		add	r4, sp, #32
 137 006c 4FF6FF73 		movw	r3, #65535
 138 0070 44F8103D 		str	r3, [r4, #-16]!
 140:User/lcd/bsp_ili9341_lcd.c ****   HAL_GPIO_Init(ILI9341_DATA_PORT, &GPIO_Initure);
 139              		.loc 1 140 0
 140 0074 2146     		mov	r1, r4
 141 0076 1448     		ldr	r0, .L7+8
 142 0078 FFF7FEFF 		bl	HAL_GPIO_Init
 143              	.LVL1:
 141:User/lcd/bsp_ili9341_lcd.c **** 
 142:User/lcd/bsp_ili9341_lcd.c ****   /* 配置液晶相对应的控制线
 143:User/lcd/bsp_ili9341_lcd.c ****    * 读   			:LCD-RD
 144:User/lcd/bsp_ili9341_lcd.c ****    * 写   			:LCD-WR
 145:User/lcd/bsp_ili9341_lcd.c ****    * 片选   		:LCD-CS
ARM GAS  /tmp/cc7rDAuv.s 			page 6


 146:User/lcd/bsp_ili9341_lcd.c ****    * 数据/命令 	:LCD-DC
 147:User/lcd/bsp_ili9341_lcd.c ****    */
 148:User/lcd/bsp_ili9341_lcd.c ****   GPIO_Initure.Pin = ILI9341_RD_PIN;
 144              		.loc 1 148 0
 145 007c 2023     		movs	r3, #32
 146 007e 0493     		str	r3, [sp, #16]
 149:User/lcd/bsp_ili9341_lcd.c ****   HAL_GPIO_Init(ILI9341_RD_PORT, &GPIO_Initure);
 147              		.loc 1 149 0
 148 0080 124D     		ldr	r5, .L7+12
 149 0082 2146     		mov	r1, r4
 150 0084 2846     		mov	r0, r5
 151 0086 FFF7FEFF 		bl	HAL_GPIO_Init
 152              	.LVL2:
 150:User/lcd/bsp_ili9341_lcd.c **** 
 151:User/lcd/bsp_ili9341_lcd.c ****   GPIO_Initure.Pin = ILI9341_WR_PIN;
 153              		.loc 1 151 0
 154 008a 4023     		movs	r3, #64
 155 008c 0493     		str	r3, [sp, #16]
 152:User/lcd/bsp_ili9341_lcd.c ****   HAL_GPIO_Init(ILI9341_WR_PORT, &GPIO_Initure);
 156              		.loc 1 152 0
 157 008e 2146     		mov	r1, r4
 158 0090 2846     		mov	r0, r5
 159 0092 FFF7FEFF 		bl	HAL_GPIO_Init
 160              	.LVL3:
 153:User/lcd/bsp_ili9341_lcd.c **** 
 154:User/lcd/bsp_ili9341_lcd.c ****   GPIO_Initure.Pin = ILI9341_CS_PIN;
 161              		.loc 1 154 0
 162 0096 1023     		movs	r3, #16
 163 0098 0493     		str	r3, [sp, #16]
 155:User/lcd/bsp_ili9341_lcd.c ****   HAL_GPIO_Init(ILI9341_CS_PORT, &GPIO_Initure);
 164              		.loc 1 155 0
 165 009a 2146     		mov	r1, r4
 166 009c 2846     		mov	r0, r5
 167 009e FFF7FEFF 		bl	HAL_GPIO_Init
 168              	.LVL4:
 156:User/lcd/bsp_ili9341_lcd.c **** 
 157:User/lcd/bsp_ili9341_lcd.c ****   GPIO_Initure.Pin = ILI9341_DC_PIN;
 169              		.loc 1 157 0
 170 00a2 8023     		movs	r3, #128
 171 00a4 0493     		str	r3, [sp, #16]
 158:User/lcd/bsp_ili9341_lcd.c ****   HAL_GPIO_Init(ILI9341_DC_PORT, &GPIO_Initure);
 172              		.loc 1 158 0
 173 00a6 2146     		mov	r1, r4
 174 00a8 2846     		mov	r0, r5
 175 00aa FFF7FEFF 		bl	HAL_GPIO_Init
 176              	.LVL5:
 159:User/lcd/bsp_ili9341_lcd.c **** 
 160:User/lcd/bsp_ili9341_lcd.c ****   GPIO_Initure.Pin = ILI9341_BK_PIN;
 177              		.loc 1 160 0
 178 00ae 0423     		movs	r3, #4
 179 00b0 0493     		str	r3, [sp, #16]
 161:User/lcd/bsp_ili9341_lcd.c ****   HAL_GPIO_Init(ILI9341_BK_PORT, &GPIO_Initure);
 180              		.loc 1 161 0
 181 00b2 2146     		mov	r1, r4
 182 00b4 0648     		ldr	r0, .L7+16
 183 00b6 FFF7FEFF 		bl	HAL_GPIO_Init
 184              	.LVL6:
ARM GAS  /tmp/cc7rDAuv.s 			page 7


 162:User/lcd/bsp_ili9341_lcd.c **** }
 185              		.loc 1 162 0
 186 00ba 09B0     		add	sp, sp, #36
 187              	.LCFI4:
 188              		.cfi_def_cfa_offset 12
 189              		@ sp needed
 190 00bc 30BD     		pop	{r4, r5, pc}
 191              	.L8:
 192 00be 00BF     		.align	2
 193              	.L7:
 194 00c0 00100240 		.word	1073876992
 195 00c4 00000140 		.word	1073807360
 196 00c8 000C0140 		.word	1073810432
 197 00cc 00100140 		.word	1073811456
 198 00d0 00140140 		.word	1073812480
 199              		.cfi_endproc
 200              	.LFE68:
 202              		.section	.text.ILI9341_Write_Cmd,"ax",%progbits
 203              		.align	1
 204              		.global	ILI9341_Write_Cmd
 205              		.syntax unified
 206              		.thumb
 207              		.thumb_func
 208              		.fpu softvfp
 210              	ILI9341_Write_Cmd:
 211              	.LFB65:
  62:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_CLR; //开始片选
 212              		.loc 1 62 0
 213              		.cfi_startproc
 214              		@ args = 0, pretend = 0, frame = 0
 215              		@ frame_needed = 0, uses_anonymous_args = 0
 216              		@ link register save eliminated.
 217              	.LVL7:
  63:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DC_CLR; //写命令
 218              		.loc 1 63 0
 219 0000 064B     		ldr	r3, .L10
 220 0002 1022     		movs	r2, #16
 221 0004 5A61     		str	r2, [r3, #20]
  64:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_RD_SET; //禁止读
 222              		.loc 1 64 0
 223 0006 8021     		movs	r1, #128
 224 0008 5961     		str	r1, [r3, #20]
  65:User/lcd/bsp_ili9341_lcd.c ****   DATAOUT(usCmd); //输出命令
 225              		.loc 1 65 0
 226 000a 2021     		movs	r1, #32
 227 000c 1961     		str	r1, [r3, #16]
  66:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_WR_CLR; //写入开始
 228              		.loc 1 66 0
 229 000e 0449     		ldr	r1, .L10+4
 230 0010 C860     		str	r0, [r1, #12]
  67:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_WR_SET; //写入结束
 231              		.loc 1 67 0
 232 0012 4021     		movs	r1, #64
 233 0014 5961     		str	r1, [r3, #20]
  68:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_SET; //结束片选
 234              		.loc 1 68 0
 235 0016 1961     		str	r1, [r3, #16]
ARM GAS  /tmp/cc7rDAuv.s 			page 8


  69:User/lcd/bsp_ili9341_lcd.c **** }
 236              		.loc 1 69 0
 237 0018 1A61     		str	r2, [r3, #16]
 238 001a 7047     		bx	lr
 239              	.L11:
 240              		.align	2
 241              	.L10:
 242 001c 00100140 		.word	1073811456
 243 0020 000C0140 		.word	1073810432
 244              		.cfi_endproc
 245              	.LFE65:
 247              		.section	.text.ILI9341_Write_Data,"ax",%progbits
 248              		.align	1
 249              		.global	ILI9341_Write_Data
 250              		.syntax unified
 251              		.thumb
 252              		.thumb_func
 253              		.fpu softvfp
 255              	ILI9341_Write_Data:
 256              	.LFB66:
  78:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_CLR;  //开始片选
 257              		.loc 1 78 0
 258              		.cfi_startproc
 259              		@ args = 0, pretend = 0, frame = 0
 260              		@ frame_needed = 0, uses_anonymous_args = 0
 261              		@ link register save eliminated.
 262              	.LVL8:
  79:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DC_SET;  //写数据
 263              		.loc 1 79 0
 264 0000 064B     		ldr	r3, .L13
 265 0002 1022     		movs	r2, #16
 266 0004 5A61     		str	r2, [r3, #20]
  80:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_RD_SET;  //禁止读
 267              		.loc 1 80 0
 268 0006 8021     		movs	r1, #128
 269 0008 1961     		str	r1, [r3, #16]
  81:User/lcd/bsp_ili9341_lcd.c ****   DATAOUT(usData); //输出数据
 270              		.loc 1 81 0
 271 000a 2021     		movs	r1, #32
 272 000c 1961     		str	r1, [r3, #16]
  82:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_WR_CLR;  //写入开始
 273              		.loc 1 82 0
 274 000e 0449     		ldr	r1, .L13+4
 275 0010 C860     		str	r0, [r1, #12]
  83:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_WR_SET;  //写入结束
 276              		.loc 1 83 0
 277 0012 4021     		movs	r1, #64
 278 0014 5961     		str	r1, [r3, #20]
  84:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_SET;  //结束片选
 279              		.loc 1 84 0
 280 0016 1961     		str	r1, [r3, #16]
  85:User/lcd/bsp_ili9341_lcd.c **** }
 281              		.loc 1 85 0
 282 0018 1A61     		str	r2, [r3, #16]
 283 001a 7047     		bx	lr
 284              	.L14:
 285              		.align	2
ARM GAS  /tmp/cc7rDAuv.s 			page 9


 286              	.L13:
 287 001c 00100140 		.word	1073811456
 288 0020 000C0140 		.word	1073810432
 289              		.cfi_endproc
 290              	.LFE66:
 292              		.section	.text.ILI9341_REG_Config,"ax",%progbits
 293              		.align	1
 294              		.syntax unified
 295              		.thumb
 296              		.thumb_func
 297              		.fpu softvfp
 299              	ILI9341_REG_Config:
 300              	.LFB69:
 163:User/lcd/bsp_ili9341_lcd.c **** 
 164:User/lcd/bsp_ili9341_lcd.c **** /**
 165:User/lcd/bsp_ili9341_lcd.c ****  * @brief  初始化ILI9341寄存器
 166:User/lcd/bsp_ili9341_lcd.c ****  * @param  无
 167:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 168:User/lcd/bsp_ili9341_lcd.c ****  */
 169:User/lcd/bsp_ili9341_lcd.c **** static void ILI9341_REG_Config(void)
 170:User/lcd/bsp_ili9341_lcd.c **** {
 301              		.loc 1 170 0
 302              		.cfi_startproc
 303              		@ args = 0, pretend = 0, frame = 0
 304              		@ frame_needed = 0, uses_anonymous_args = 0
 305 0000 08B5     		push	{r3, lr}
 306              	.LCFI5:
 307              		.cfi_def_cfa_offset 8
 308              		.cfi_offset 3, -8
 309              		.cfi_offset 14, -4
 171:User/lcd/bsp_ili9341_lcd.c ****   /*  Power control B (CFh)  */
 172:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 310              		.loc 1 172 0
 311 0002 4FF6FF70 		movw	r0, #65535
 312 0006 FFF7FEFF 		bl	ILI9341_Delay
 313              	.LVL9:
 173:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xCF);
 314              		.loc 1 173 0
 315 000a CF20     		movs	r0, #207
 316 000c FFF7FEFF 		bl	ILI9341_Write_Cmd
 317              	.LVL10:
 174:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 318              		.loc 1 174 0
 319 0010 0020     		movs	r0, #0
 320 0012 FFF7FEFF 		bl	ILI9341_Write_Data
 321              	.LVL11:
 175:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x81);
 322              		.loc 1 175 0
 323 0016 8120     		movs	r0, #129
 324 0018 FFF7FEFF 		bl	ILI9341_Write_Data
 325              	.LVL12:
 176:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x30);
 326              		.loc 1 176 0
 327 001c 3020     		movs	r0, #48
 328 001e FFF7FEFF 		bl	ILI9341_Write_Data
 329              	.LVL13:
 177:User/lcd/bsp_ili9341_lcd.c **** 
ARM GAS  /tmp/cc7rDAuv.s 			page 10


 178:User/lcd/bsp_ili9341_lcd.c ****   /*  Power on sequence control (EDh) */
 179:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 330              		.loc 1 179 0
 331 0022 4FF6FF70 		movw	r0, #65535
 332 0026 FFF7FEFF 		bl	ILI9341_Delay
 333              	.LVL14:
 180:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xED);
 334              		.loc 1 180 0
 335 002a ED20     		movs	r0, #237
 336 002c FFF7FEFF 		bl	ILI9341_Write_Cmd
 337              	.LVL15:
 181:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x64);
 338              		.loc 1 181 0
 339 0030 6420     		movs	r0, #100
 340 0032 FFF7FEFF 		bl	ILI9341_Write_Data
 341              	.LVL16:
 182:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x03);
 342              		.loc 1 182 0
 343 0036 0320     		movs	r0, #3
 344 0038 FFF7FEFF 		bl	ILI9341_Write_Data
 345              	.LVL17:
 183:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x12);
 346              		.loc 1 183 0
 347 003c 1220     		movs	r0, #18
 348 003e FFF7FEFF 		bl	ILI9341_Write_Data
 349              	.LVL18:
 184:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x81);
 350              		.loc 1 184 0
 351 0042 8120     		movs	r0, #129
 352 0044 FFF7FEFF 		bl	ILI9341_Write_Data
 353              	.LVL19:
 185:User/lcd/bsp_ili9341_lcd.c **** 
 186:User/lcd/bsp_ili9341_lcd.c ****   /*  Driver timing control A (E8h) */
 187:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 354              		.loc 1 187 0
 355 0048 4FF6FF70 		movw	r0, #65535
 356 004c FFF7FEFF 		bl	ILI9341_Delay
 357              	.LVL20:
 188:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xE8);
 358              		.loc 1 188 0
 359 0050 E820     		movs	r0, #232
 360 0052 FFF7FEFF 		bl	ILI9341_Write_Cmd
 361              	.LVL21:
 189:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x85);
 362              		.loc 1 189 0
 363 0056 8520     		movs	r0, #133
 364 0058 FFF7FEFF 		bl	ILI9341_Write_Data
 365              	.LVL22:
 190:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x10);
 366              		.loc 1 190 0
 367 005c 1020     		movs	r0, #16
 368 005e FFF7FEFF 		bl	ILI9341_Write_Data
 369              	.LVL23:
 191:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x78);
 370              		.loc 1 191 0
 371 0062 7820     		movs	r0, #120
 372 0064 FFF7FEFF 		bl	ILI9341_Write_Data
ARM GAS  /tmp/cc7rDAuv.s 			page 11


 373              	.LVL24:
 192:User/lcd/bsp_ili9341_lcd.c **** 
 193:User/lcd/bsp_ili9341_lcd.c ****   /*  Power control A (CBh) */
 194:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 374              		.loc 1 194 0
 375 0068 4FF6FF70 		movw	r0, #65535
 376 006c FFF7FEFF 		bl	ILI9341_Delay
 377              	.LVL25:
 195:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xCB);
 378              		.loc 1 195 0
 379 0070 CB20     		movs	r0, #203
 380 0072 FFF7FEFF 		bl	ILI9341_Write_Cmd
 381              	.LVL26:
 196:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x39);
 382              		.loc 1 196 0
 383 0076 3920     		movs	r0, #57
 384 0078 FFF7FEFF 		bl	ILI9341_Write_Data
 385              	.LVL27:
 197:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x2C);
 386              		.loc 1 197 0
 387 007c 2C20     		movs	r0, #44
 388 007e FFF7FEFF 		bl	ILI9341_Write_Data
 389              	.LVL28:
 198:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 390              		.loc 1 198 0
 391 0082 0020     		movs	r0, #0
 392 0084 FFF7FEFF 		bl	ILI9341_Write_Data
 393              	.LVL29:
 199:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x34);
 394              		.loc 1 199 0
 395 0088 3420     		movs	r0, #52
 396 008a FFF7FEFF 		bl	ILI9341_Write_Data
 397              	.LVL30:
 200:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x02);
 398              		.loc 1 200 0
 399 008e 0220     		movs	r0, #2
 400 0090 FFF7FEFF 		bl	ILI9341_Write_Data
 401              	.LVL31:
 201:User/lcd/bsp_ili9341_lcd.c **** 
 202:User/lcd/bsp_ili9341_lcd.c ****   /* Pump ratio control (F7h) */
 203:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 402              		.loc 1 203 0
 403 0094 4FF6FF70 		movw	r0, #65535
 404 0098 FFF7FEFF 		bl	ILI9341_Delay
 405              	.LVL32:
 204:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xF7);
 406              		.loc 1 204 0
 407 009c F720     		movs	r0, #247
 408 009e FFF7FEFF 		bl	ILI9341_Write_Cmd
 409              	.LVL33:
 205:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x20);
 410              		.loc 1 205 0
 411 00a2 2020     		movs	r0, #32
 412 00a4 FFF7FEFF 		bl	ILI9341_Write_Data
 413              	.LVL34:
 206:User/lcd/bsp_ili9341_lcd.c **** 
 207:User/lcd/bsp_ili9341_lcd.c ****   /* Driver timing control B */
ARM GAS  /tmp/cc7rDAuv.s 			page 12


 208:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 414              		.loc 1 208 0
 415 00a8 4FF6FF70 		movw	r0, #65535
 416 00ac FFF7FEFF 		bl	ILI9341_Delay
 417              	.LVL35:
 209:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xEA);
 418              		.loc 1 209 0
 419 00b0 EA20     		movs	r0, #234
 420 00b2 FFF7FEFF 		bl	ILI9341_Write_Cmd
 421              	.LVL36:
 210:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 422              		.loc 1 210 0
 423 00b6 0020     		movs	r0, #0
 424 00b8 FFF7FEFF 		bl	ILI9341_Write_Data
 425              	.LVL37:
 211:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 426              		.loc 1 211 0
 427 00bc 0020     		movs	r0, #0
 428 00be FFF7FEFF 		bl	ILI9341_Write_Data
 429              	.LVL38:
 212:User/lcd/bsp_ili9341_lcd.c **** 
 213:User/lcd/bsp_ili9341_lcd.c ****   /* Frame Rate Control (In Normal Mode/Full Colors) (B1h) */
 214:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 430              		.loc 1 214 0
 431 00c2 4FF6FF70 		movw	r0, #65535
 432 00c6 FFF7FEFF 		bl	ILI9341_Delay
 433              	.LVL39:
 215:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xB1);
 434              		.loc 1 215 0
 435 00ca B120     		movs	r0, #177
 436 00cc FFF7FEFF 		bl	ILI9341_Write_Cmd
 437              	.LVL40:
 216:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 438              		.loc 1 216 0
 439 00d0 0020     		movs	r0, #0
 440 00d2 FFF7FEFF 		bl	ILI9341_Write_Data
 441              	.LVL41:
 217:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x1B);
 442              		.loc 1 217 0
 443 00d6 1B20     		movs	r0, #27
 444 00d8 FFF7FEFF 		bl	ILI9341_Write_Data
 445              	.LVL42:
 218:User/lcd/bsp_ili9341_lcd.c **** 
 219:User/lcd/bsp_ili9341_lcd.c ****   /*  Display Function Control (B6h) */
 220:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 446              		.loc 1 220 0
 447 00dc 4FF6FF70 		movw	r0, #65535
 448 00e0 FFF7FEFF 		bl	ILI9341_Delay
 449              	.LVL43:
 221:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xB6);
 450              		.loc 1 221 0
 451 00e4 B620     		movs	r0, #182
 452 00e6 FFF7FEFF 		bl	ILI9341_Write_Cmd
 453              	.LVL44:
 222:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x0A);
 454              		.loc 1 222 0
 455 00ea 0A20     		movs	r0, #10
ARM GAS  /tmp/cc7rDAuv.s 			page 13


 456 00ec FFF7FEFF 		bl	ILI9341_Write_Data
 457              	.LVL45:
 223:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0xA2);
 458              		.loc 1 223 0
 459 00f0 A220     		movs	r0, #162
 460 00f2 FFF7FEFF 		bl	ILI9341_Write_Data
 461              	.LVL46:
 224:User/lcd/bsp_ili9341_lcd.c **** 
 225:User/lcd/bsp_ili9341_lcd.c ****   /* Power Control 1 (C0h) */
 226:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 462              		.loc 1 226 0
 463 00f6 4FF6FF70 		movw	r0, #65535
 464 00fa FFF7FEFF 		bl	ILI9341_Delay
 465              	.LVL47:
 227:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xC0);
 466              		.loc 1 227 0
 467 00fe C020     		movs	r0, #192
 468 0100 FFF7FEFF 		bl	ILI9341_Write_Cmd
 469              	.LVL48:
 228:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x35);
 470              		.loc 1 228 0
 471 0104 3520     		movs	r0, #53
 472 0106 FFF7FEFF 		bl	ILI9341_Write_Data
 473              	.LVL49:
 229:User/lcd/bsp_ili9341_lcd.c **** 
 230:User/lcd/bsp_ili9341_lcd.c ****   /* Power Control 2 (C1h) */
 231:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 474              		.loc 1 231 0
 475 010a 4FF6FF70 		movw	r0, #65535
 476 010e FFF7FEFF 		bl	ILI9341_Delay
 477              	.LVL50:
 232:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xC1);
 478              		.loc 1 232 0
 479 0112 C120     		movs	r0, #193
 480 0114 FFF7FEFF 		bl	ILI9341_Write_Cmd
 481              	.LVL51:
 233:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x11);
 482              		.loc 1 233 0
 483 0118 1120     		movs	r0, #17
 484 011a FFF7FEFF 		bl	ILI9341_Write_Data
 485              	.LVL52:
 234:User/lcd/bsp_ili9341_lcd.c **** 
 235:User/lcd/bsp_ili9341_lcd.c ****   /* VCOM Control 1 (C5h) */
 236:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xC5);
 486              		.loc 1 236 0
 487 011e C520     		movs	r0, #197
 488 0120 FFF7FEFF 		bl	ILI9341_Write_Cmd
 489              	.LVL53:
 237:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x45);
 490              		.loc 1 237 0
 491 0124 4520     		movs	r0, #69
 492 0126 FFF7FEFF 		bl	ILI9341_Write_Data
 493              	.LVL54:
 238:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x45);
 494              		.loc 1 238 0
 495 012a 4520     		movs	r0, #69
 496 012c FFF7FEFF 		bl	ILI9341_Write_Data
ARM GAS  /tmp/cc7rDAuv.s 			page 14


 497              	.LVL55:
 239:User/lcd/bsp_ili9341_lcd.c **** 
 240:User/lcd/bsp_ili9341_lcd.c ****   /*  VCOM Control 2 (C7h)  */
 241:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xC7);
 498              		.loc 1 241 0
 499 0130 C720     		movs	r0, #199
 500 0132 FFF7FEFF 		bl	ILI9341_Write_Cmd
 501              	.LVL56:
 242:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0xA2);
 502              		.loc 1 242 0
 503 0136 A220     		movs	r0, #162
 504 0138 FFF7FEFF 		bl	ILI9341_Write_Data
 505              	.LVL57:
 243:User/lcd/bsp_ili9341_lcd.c **** 
 244:User/lcd/bsp_ili9341_lcd.c ****   /* Enable 3G (F2h) */
 245:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xF2);
 506              		.loc 1 245 0
 507 013c F220     		movs	r0, #242
 508 013e FFF7FEFF 		bl	ILI9341_Write_Cmd
 509              	.LVL58:
 246:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 510              		.loc 1 246 0
 511 0142 0020     		movs	r0, #0
 512 0144 FFF7FEFF 		bl	ILI9341_Write_Data
 513              	.LVL59:
 247:User/lcd/bsp_ili9341_lcd.c **** 
 248:User/lcd/bsp_ili9341_lcd.c ****   /* Gamma Set (26h) */
 249:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0x26);
 514              		.loc 1 249 0
 515 0148 2620     		movs	r0, #38
 516 014a FFF7FEFF 		bl	ILI9341_Write_Cmd
 517              	.LVL60:
 250:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x01);
 518              		.loc 1 250 0
 519 014e 0120     		movs	r0, #1
 520 0150 FFF7FEFF 		bl	ILI9341_Write_Data
 521              	.LVL61:
 251:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 522              		.loc 1 251 0
 523 0154 4FF6FF70 		movw	r0, #65535
 524 0158 FFF7FEFF 		bl	ILI9341_Delay
 525              	.LVL62:
 252:User/lcd/bsp_ili9341_lcd.c **** 
 253:User/lcd/bsp_ili9341_lcd.c ****   /* Positive Gamma Correction */
 254:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xE0); // Set Gamma
 526              		.loc 1 254 0
 527 015c E020     		movs	r0, #224
 528 015e FFF7FEFF 		bl	ILI9341_Write_Cmd
 529              	.LVL63:
 255:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x0F);
 530              		.loc 1 255 0
 531 0162 0F20     		movs	r0, #15
 532 0164 FFF7FEFF 		bl	ILI9341_Write_Data
 533              	.LVL64:
 256:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x26);
 534              		.loc 1 256 0
 535 0168 2620     		movs	r0, #38
ARM GAS  /tmp/cc7rDAuv.s 			page 15


 536 016a FFF7FEFF 		bl	ILI9341_Write_Data
 537              	.LVL65:
 257:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x24);
 538              		.loc 1 257 0
 539 016e 2420     		movs	r0, #36
 540 0170 FFF7FEFF 		bl	ILI9341_Write_Data
 541              	.LVL66:
 258:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x0B);
 542              		.loc 1 258 0
 543 0174 0B20     		movs	r0, #11
 544 0176 FFF7FEFF 		bl	ILI9341_Write_Data
 545              	.LVL67:
 259:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x0E);
 546              		.loc 1 259 0
 547 017a 0E20     		movs	r0, #14
 548 017c FFF7FEFF 		bl	ILI9341_Write_Data
 549              	.LVL68:
 260:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x09);
 550              		.loc 1 260 0
 551 0180 0920     		movs	r0, #9
 552 0182 FFF7FEFF 		bl	ILI9341_Write_Data
 553              	.LVL69:
 261:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x54);
 554              		.loc 1 261 0
 555 0186 5420     		movs	r0, #84
 556 0188 FFF7FEFF 		bl	ILI9341_Write_Data
 557              	.LVL70:
 262:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0xA8);
 558              		.loc 1 262 0
 559 018c A820     		movs	r0, #168
 560 018e FFF7FEFF 		bl	ILI9341_Write_Data
 561              	.LVL71:
 263:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x46);
 562              		.loc 1 263 0
 563 0192 4620     		movs	r0, #70
 564 0194 FFF7FEFF 		bl	ILI9341_Write_Data
 565              	.LVL72:
 264:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x0C);
 566              		.loc 1 264 0
 567 0198 0C20     		movs	r0, #12
 568 019a FFF7FEFF 		bl	ILI9341_Write_Data
 569              	.LVL73:
 265:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x17);
 570              		.loc 1 265 0
 571 019e 1720     		movs	r0, #23
 572 01a0 FFF7FEFF 		bl	ILI9341_Write_Data
 573              	.LVL74:
 266:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x09);
 574              		.loc 1 266 0
 575 01a4 0920     		movs	r0, #9
 576 01a6 FFF7FEFF 		bl	ILI9341_Write_Data
 577              	.LVL75:
 267:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x0F);
 578              		.loc 1 267 0
 579 01aa 0F20     		movs	r0, #15
 580 01ac FFF7FEFF 		bl	ILI9341_Write_Data
 581              	.LVL76:
ARM GAS  /tmp/cc7rDAuv.s 			page 16


 268:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x07);
 582              		.loc 1 268 0
 583 01b0 0720     		movs	r0, #7
 584 01b2 FFF7FEFF 		bl	ILI9341_Write_Data
 585              	.LVL77:
 269:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 586              		.loc 1 269 0
 587 01b6 0020     		movs	r0, #0
 588 01b8 FFF7FEFF 		bl	ILI9341_Write_Data
 589              	.LVL78:
 270:User/lcd/bsp_ili9341_lcd.c **** 
 271:User/lcd/bsp_ili9341_lcd.c ****   /* Negative Gamma Correction (E1h) */
 272:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0XE1); // Set Gamma
 590              		.loc 1 272 0
 591 01bc E120     		movs	r0, #225
 592 01be FFF7FEFF 		bl	ILI9341_Write_Cmd
 593              	.LVL79:
 273:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 594              		.loc 1 273 0
 595 01c2 0020     		movs	r0, #0
 596 01c4 FFF7FEFF 		bl	ILI9341_Write_Data
 597              	.LVL80:
 274:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x19);
 598              		.loc 1 274 0
 599 01c8 1920     		movs	r0, #25
 600 01ca FFF7FEFF 		bl	ILI9341_Write_Data
 601              	.LVL81:
 275:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x1B);
 602              		.loc 1 275 0
 603 01ce 1B20     		movs	r0, #27
 604 01d0 FFF7FEFF 		bl	ILI9341_Write_Data
 605              	.LVL82:
 276:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x04);
 606              		.loc 1 276 0
 607 01d4 0420     		movs	r0, #4
 608 01d6 FFF7FEFF 		bl	ILI9341_Write_Data
 609              	.LVL83:
 277:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x10);
 610              		.loc 1 277 0
 611 01da 1020     		movs	r0, #16
 612 01dc FFF7FEFF 		bl	ILI9341_Write_Data
 613              	.LVL84:
 278:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x07);
 614              		.loc 1 278 0
 615 01e0 0720     		movs	r0, #7
 616 01e2 FFF7FEFF 		bl	ILI9341_Write_Data
 617              	.LVL85:
 279:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x2A);
 618              		.loc 1 279 0
 619 01e6 2A20     		movs	r0, #42
 620 01e8 FFF7FEFF 		bl	ILI9341_Write_Data
 621              	.LVL86:
 280:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x47);
 622              		.loc 1 280 0
 623 01ec 4720     		movs	r0, #71
 624 01ee FFF7FEFF 		bl	ILI9341_Write_Data
 625              	.LVL87:
ARM GAS  /tmp/cc7rDAuv.s 			page 17


 281:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x39);
 626              		.loc 1 281 0
 627 01f2 3920     		movs	r0, #57
 628 01f4 FFF7FEFF 		bl	ILI9341_Write_Data
 629              	.LVL88:
 282:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x03);
 630              		.loc 1 282 0
 631 01f8 0320     		movs	r0, #3
 632 01fa FFF7FEFF 		bl	ILI9341_Write_Data
 633              	.LVL89:
 283:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x06);
 634              		.loc 1 283 0
 635 01fe 0620     		movs	r0, #6
 636 0200 FFF7FEFF 		bl	ILI9341_Write_Data
 637              	.LVL90:
 284:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x06);
 638              		.loc 1 284 0
 639 0204 0620     		movs	r0, #6
 640 0206 FFF7FEFF 		bl	ILI9341_Write_Data
 641              	.LVL91:
 285:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x30);
 642              		.loc 1 285 0
 643 020a 3020     		movs	r0, #48
 644 020c FFF7FEFF 		bl	ILI9341_Write_Data
 645              	.LVL92:
 286:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x38);
 646              		.loc 1 286 0
 647 0210 3820     		movs	r0, #56
 648 0212 FFF7FEFF 		bl	ILI9341_Write_Data
 649              	.LVL93:
 287:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x0F);
 650              		.loc 1 287 0
 651 0216 0F20     		movs	r0, #15
 652 0218 FFF7FEFF 		bl	ILI9341_Write_Data
 653              	.LVL94:
 288:User/lcd/bsp_ili9341_lcd.c **** 
 289:User/lcd/bsp_ili9341_lcd.c ****   /* memory access control set */
 290:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 654              		.loc 1 290 0
 655 021c 4FF6FF70 		movw	r0, #65535
 656 0220 FFF7FEFF 		bl	ILI9341_Delay
 657              	.LVL95:
 291:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0x36);
 658              		.loc 1 291 0
 659 0224 3620     		movs	r0, #54
 660 0226 FFF7FEFF 		bl	ILI9341_Write_Cmd
 661              	.LVL96:
 292:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0xC8); /*竖屏  左上角到 (起点)到右下角 (终点)扫描方式*/
 662              		.loc 1 292 0
 663 022a C820     		movs	r0, #200
 664 022c FFF7FEFF 		bl	ILI9341_Write_Data
 665              	.LVL97:
 293:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 666              		.loc 1 293 0
 667 0230 4FF6FF70 		movw	r0, #65535
 668 0234 FFF7FEFF 		bl	ILI9341_Delay
 669              	.LVL98:
ARM GAS  /tmp/cc7rDAuv.s 			page 18


 294:User/lcd/bsp_ili9341_lcd.c **** 
 295:User/lcd/bsp_ili9341_lcd.c ****   /* column address control set */
 296:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetCoordinateX);
 670              		.loc 1 296 0
 671 0238 2A20     		movs	r0, #42
 672 023a FFF7FEFF 		bl	ILI9341_Write_Cmd
 673              	.LVL99:
 297:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 674              		.loc 1 297 0
 675 023e 0020     		movs	r0, #0
 676 0240 FFF7FEFF 		bl	ILI9341_Write_Data
 677              	.LVL100:
 298:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 678              		.loc 1 298 0
 679 0244 0020     		movs	r0, #0
 680 0246 FFF7FEFF 		bl	ILI9341_Write_Data
 681              	.LVL101:
 299:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 682              		.loc 1 299 0
 683 024a 0020     		movs	r0, #0
 684 024c FFF7FEFF 		bl	ILI9341_Write_Data
 685              	.LVL102:
 300:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0xEF);
 686              		.loc 1 300 0
 687 0250 EF20     		movs	r0, #239
 688 0252 FFF7FEFF 		bl	ILI9341_Write_Data
 689              	.LVL103:
 301:User/lcd/bsp_ili9341_lcd.c **** 
 302:User/lcd/bsp_ili9341_lcd.c ****   /* page address control set */
 303:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 690              		.loc 1 303 0
 691 0256 4FF6FF70 		movw	r0, #65535
 692 025a FFF7FEFF 		bl	ILI9341_Delay
 693              	.LVL104:
 304:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetCoordinateY);
 694              		.loc 1 304 0
 695 025e 2B20     		movs	r0, #43
 696 0260 FFF7FEFF 		bl	ILI9341_Write_Cmd
 697              	.LVL105:
 305:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 698              		.loc 1 305 0
 699 0264 0020     		movs	r0, #0
 700 0266 FFF7FEFF 		bl	ILI9341_Write_Data
 701              	.LVL106:
 306:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);
 702              		.loc 1 306 0
 703 026a 0020     		movs	r0, #0
 704 026c FFF7FEFF 		bl	ILI9341_Write_Data
 705              	.LVL107:
 307:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x01);
 706              		.loc 1 307 0
 707 0270 0120     		movs	r0, #1
 708 0272 FFF7FEFF 		bl	ILI9341_Write_Data
 709              	.LVL108:
 308:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x3F);
 710              		.loc 1 308 0
 711 0276 3F20     		movs	r0, #63
ARM GAS  /tmp/cc7rDAuv.s 			page 19


 712 0278 FFF7FEFF 		bl	ILI9341_Write_Data
 713              	.LVL109:
 309:User/lcd/bsp_ili9341_lcd.c **** 
 310:User/lcd/bsp_ili9341_lcd.c ****   /*  Pixel Format Set (3Ah)  */
 311:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 714              		.loc 1 311 0
 715 027c 4FF6FF70 		movw	r0, #65535
 716 0280 FFF7FEFF 		bl	ILI9341_Delay
 717              	.LVL110:
 312:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0x3a);
 718              		.loc 1 312 0
 719 0284 3A20     		movs	r0, #58
 720 0286 FFF7FEFF 		bl	ILI9341_Write_Cmd
 721              	.LVL111:
 313:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x55);
 722              		.loc 1 313 0
 723 028a 5520     		movs	r0, #85
 724 028c FFF7FEFF 		bl	ILI9341_Write_Data
 725              	.LVL112:
 314:User/lcd/bsp_ili9341_lcd.c **** 
 315:User/lcd/bsp_ili9341_lcd.c ****   /* Sleep Out (11h)  */
 316:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0x11);
 726              		.loc 1 316 0
 727 0290 1120     		movs	r0, #17
 728 0292 FFF7FEFF 		bl	ILI9341_Write_Cmd
 729              	.LVL113:
 317:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Delay(0xAFFf << 2);
 730              		.loc 1 317 0
 731 0296 0548     		ldr	r0, .L17
 732 0298 FFF7FEFF 		bl	ILI9341_Delay
 733              	.LVL114:
 318:User/lcd/bsp_ili9341_lcd.c ****   DEBUG_DELAY();
 734              		.loc 1 318 0
 735 029c 4FF6FF70 		movw	r0, #65535
 736 02a0 FFF7FEFF 		bl	ILI9341_Delay
 737              	.LVL115:
 319:User/lcd/bsp_ili9341_lcd.c **** 
 320:User/lcd/bsp_ili9341_lcd.c ****   /* Display ON (29h) */
 321:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0x29);
 738              		.loc 1 321 0
 739 02a4 2920     		movs	r0, #41
 740 02a6 FFF7FEFF 		bl	ILI9341_Write_Cmd
 741              	.LVL116:
 742 02aa 08BD     		pop	{r3, pc}
 743              	.L18:
 744              		.align	2
 745              	.L17:
 746 02ac FCBF0200 		.word	180220
 747              		.cfi_endproc
 748              	.LFE69:
 750              		.section	.text.ILI9341_Read_Data,"ax",%progbits
 751              		.align	1
 752              		.global	ILI9341_Read_Data
 753              		.syntax unified
 754              		.thumb
 755              		.thumb_func
 756              		.fpu softvfp
ARM GAS  /tmp/cc7rDAuv.s 			page 20


 758              	ILI9341_Read_Data:
 759              	.LFB67:
  94:User/lcd/bsp_ili9341_lcd.c ****   uint16_t data;
 760              		.loc 1 94 0
 761              		.cfi_startproc
 762              		@ args = 0, pretend = 0, frame = 0
 763              		@ frame_needed = 0, uses_anonymous_args = 0
 764              		@ link register save eliminated.
 765 0000 10B4     		push	{r4}
 766              	.LCFI6:
 767              		.cfi_def_cfa_offset 4
 768              		.cfi_offset 4, -4
  96:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DATA_PORT->CRH = 0X88888888; //上拉输入
 769              		.loc 1 96 0
 770 0002 104B     		ldr	r3, .L21
 771 0004 4FF08832 		mov	r2, #-2004318072
 772 0008 1A60     		str	r2, [r3]
  97:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DATA_PORT->ODR = 0X0000;     //全部输出0
 773              		.loc 1 97 0
 774 000a 5A60     		str	r2, [r3, #4]
  98:User/lcd/bsp_ili9341_lcd.c **** 
 775              		.loc 1 98 0
 776 000c 0022     		movs	r2, #0
 777 000e DA60     		str	r2, [r3, #12]
 100:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_WR_SET;
 778              		.loc 1 100 0
 779 0010 02F18042 		add	r2, r2, #1073741824
 780 0014 02F58832 		add	r2, r2, #69632
 781 0018 8021     		movs	r1, #128
 782 001a 1161     		str	r1, [r2, #16]
 101:User/lcd/bsp_ili9341_lcd.c **** 
 783              		.loc 1 101 0
 784 001c 4021     		movs	r1, #64
 785 001e 1161     		str	r1, [r2, #16]
 103:User/lcd/bsp_ili9341_lcd.c ****   //读取数据
 786              		.loc 1 103 0
 787 0020 1021     		movs	r1, #16
 788 0022 5161     		str	r1, [r2, #20]
 105:User/lcd/bsp_ili9341_lcd.c **** 
 789              		.loc 1 105 0
 790 0024 2024     		movs	r4, #32
 791 0026 5461     		str	r4, [r2, #20]
 107:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_RD_SET;
 792              		.loc 1 107 0
 793 0028 9868     		ldr	r0, [r3, #8]
 794              	.LVL117:
 108:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_CS_SET;
 795              		.loc 1 108 0
 796 002a 1461     		str	r4, [r2, #16]
 109:User/lcd/bsp_ili9341_lcd.c **** 
 797              		.loc 1 109 0
 798 002c 1161     		str	r1, [r2, #16]
 111:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DATA_PORT->CRH = 0X33333333; // 上拉输出
 799              		.loc 1 111 0
 800 002e 4FF03332 		mov	r2, #858993459
 801 0032 1A60     		str	r2, [r3]
 112:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_DATA_PORT->ODR = 0XFFFF;     //全部输出高
ARM GAS  /tmp/cc7rDAuv.s 			page 21


 802              		.loc 1 112 0
 803 0034 5A60     		str	r2, [r3, #4]
 113:User/lcd/bsp_ili9341_lcd.c ****   return data;
 804              		.loc 1 113 0
 805 0036 4FF6FF72 		movw	r2, #65535
 806 003a DA60     		str	r2, [r3, #12]
 115:User/lcd/bsp_ili9341_lcd.c **** 
 807              		.loc 1 115 0
 808 003c 80B2     		uxth	r0, r0
 809 003e 10BC     		pop	{r4}
 810              	.LCFI7:
 811              		.cfi_restore 4
 812              		.cfi_def_cfa_offset 0
 813 0040 7047     		bx	lr
 814              	.L22:
 815 0042 00BF     		.align	2
 816              	.L21:
 817 0044 000C0140 		.word	1073810432
 818              		.cfi_endproc
 819              	.LFE67:
 821              		.section	.text.ILI9341_Read_PixelData,"ax",%progbits
 822              		.align	1
 823              		.syntax unified
 824              		.thumb
 825              		.thumb_func
 826              		.fpu softvfp
 828              	ILI9341_Read_PixelData:
 829              	.LFB79:
 322:User/lcd/bsp_ili9341_lcd.c **** }
 323:User/lcd/bsp_ili9341_lcd.c **** 
 324:User/lcd/bsp_ili9341_lcd.c **** /**
 325:User/lcd/bsp_ili9341_lcd.c ****  * @brief  ILI9341读取芯片ID函数，可用于测试底层的读写函数
 326:User/lcd/bsp_ili9341_lcd.c ****  * @param  无
 327:User/lcd/bsp_ili9341_lcd.c ****  * @retval 正常时返回值为 0x9341
 328:User/lcd/bsp_ili9341_lcd.c ****  */
 329:User/lcd/bsp_ili9341_lcd.c **** uint16_t ILI9341_Read_ID(void)
 330:User/lcd/bsp_ili9341_lcd.c **** {
 331:User/lcd/bsp_ili9341_lcd.c ****   uint16_t id = 0;
 332:User/lcd/bsp_ili9341_lcd.c **** 
 333:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0xD3);
 334:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Read_Data();
 335:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Read_Data();
 336:User/lcd/bsp_ili9341_lcd.c ****   id = ILI9341_Read_Data();
 337:User/lcd/bsp_ili9341_lcd.c ****   id <<= 8;
 338:User/lcd/bsp_ili9341_lcd.c ****   id |= ILI9341_Read_Data();
 339:User/lcd/bsp_ili9341_lcd.c **** 
 340:User/lcd/bsp_ili9341_lcd.c ****   return id;
 341:User/lcd/bsp_ili9341_lcd.c **** }
 342:User/lcd/bsp_ili9341_lcd.c **** 
 343:User/lcd/bsp_ili9341_lcd.c **** /**
 344:User/lcd/bsp_ili9341_lcd.c ****  * @brief  ILI9341初始化函数，如果要用到lcd，一定要调用这个函数
 345:User/lcd/bsp_ili9341_lcd.c ****  * @param  无
 346:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 347:User/lcd/bsp_ili9341_lcd.c ****  */
 348:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_Init(void)
 349:User/lcd/bsp_ili9341_lcd.c **** {
 350:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_GPIO_Config();
ARM GAS  /tmp/cc7rDAuv.s 			page 22


 351:User/lcd/bsp_ili9341_lcd.c **** 
 352:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_BackLed_Control(ENABLE); //点亮LCD背光灯
 353:User/lcd/bsp_ili9341_lcd.c **** 
 354:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_REG_Config();
 355:User/lcd/bsp_ili9341_lcd.c **** 
 356:User/lcd/bsp_ili9341_lcd.c ****   //设置默认扫描方向，其中 6 模式为大部分液晶例程的默认显示方向
 357:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_GramScan(LCD_SCAN_MODE);
 358:User/lcd/bsp_ili9341_lcd.c **** }
 359:User/lcd/bsp_ili9341_lcd.c **** 
 360:User/lcd/bsp_ili9341_lcd.c **** /**
 361:User/lcd/bsp_ili9341_lcd.c ****  * @brief  ILI9341背光LED控制
 362:User/lcd/bsp_ili9341_lcd.c ****  * @param  enumState ：决定是否使能背光LED
 363:User/lcd/bsp_ili9341_lcd.c ****  *   该参数为以下值之一：
 364:User/lcd/bsp_ili9341_lcd.c ****  *     @arg ENABLE :使能背光LED
 365:User/lcd/bsp_ili9341_lcd.c ****  *     @arg DISABLE :禁用背光LED
 366:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 367:User/lcd/bsp_ili9341_lcd.c ****  */
 368:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_BackLed_Control(FunctionalState enumState)
 369:User/lcd/bsp_ili9341_lcd.c **** {
 370:User/lcd/bsp_ili9341_lcd.c ****   if (enumState)
 371:User/lcd/bsp_ili9341_lcd.c ****   {
 372:User/lcd/bsp_ili9341_lcd.c ****     digitalL(ILI9341_BK_PORT, ILI9341_BK_PIN);
 373:User/lcd/bsp_ili9341_lcd.c ****   }
 374:User/lcd/bsp_ili9341_lcd.c ****   else
 375:User/lcd/bsp_ili9341_lcd.c ****   {
 376:User/lcd/bsp_ili9341_lcd.c ****     digitalH(ILI9341_BK_PORT, ILI9341_BK_PIN);
 377:User/lcd/bsp_ili9341_lcd.c ****   }
 378:User/lcd/bsp_ili9341_lcd.c **** }
 379:User/lcd/bsp_ili9341_lcd.c **** 
 380:User/lcd/bsp_ili9341_lcd.c **** /**
 381:User/lcd/bsp_ili9341_lcd.c ****  * @brief  设置ILI9341的GRAM的扫描方向
 382:User/lcd/bsp_ili9341_lcd.c ****  * @param  ucOption ：选择GRAM的扫描方向
 383:User/lcd/bsp_ili9341_lcd.c ****  *     @arg 0-7 :参数可选值为0-7这八个方向
 384:User/lcd/bsp_ili9341_lcd.c ****  *
 385:User/lcd/bsp_ili9341_lcd.c ****  *	！！！其中0、3、5、6 模式适合从左至右显示文字，
 386:User/lcd/bsp_ili9341_lcd.c ****  *				不推荐使用其它模式显示文字	其它模式显示文字会有镜像效果
 387:User/lcd/bsp_ili9341_lcd.c ****  *
 388:User/lcd/bsp_ili9341_lcd.c ****  *	其中0、2、4、6 模式的X方向像素为240，Y方向像素为320
 389:User/lcd/bsp_ili9341_lcd.c ****  *	其中1、3、5、7 模式下X方向像素为320，Y方向像素为240
 390:User/lcd/bsp_ili9341_lcd.c ****  *
 391:User/lcd/bsp_ili9341_lcd.c ****  *	其中 6 模式为大部分液晶例程的默认显示方向
 392:User/lcd/bsp_ili9341_lcd.c ****  *	其中 3 模式为摄像头例程使用的方向
 393:User/lcd/bsp_ili9341_lcd.c ****  *	其中 0 模式为BMP图片显示例程使用的方向
 394:User/lcd/bsp_ili9341_lcd.c ****  *
 395:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 396:User/lcd/bsp_ili9341_lcd.c ****  * @note  坐标图例：A表示向上，V表示向下，<表示向左，>表示向右
 397:User/lcd/bsp_ili9341_lcd.c ****                                         X表示X轴，Y表示Y轴
 398:User/lcd/bsp_ili9341_lcd.c **** 
 399:User/lcd/bsp_ili9341_lcd.c **** ------------------------------------------------------------
 400:User/lcd/bsp_ili9341_lcd.c **** 模式0：				.		模式1：		.	模式2：			.	模式3：
 401:User/lcd/bsp_ili9341_lcd.c ****                                         A		.					A		.
 402:User/lcd/bsp_ili9341_lcd.c **** A					.		A
 403:User/lcd/bsp_ili9341_lcd.c ****                                         |		.					|		.
 404:User/lcd/bsp_ili9341_lcd.c **** |					.		|
 405:User/lcd/bsp_ili9341_lcd.c ****                                         Y		.					X		.
 406:User/lcd/bsp_ili9341_lcd.c **** Y					.		X
 407:User/lcd/bsp_ili9341_lcd.c ****                                         0		.					1		.
ARM GAS  /tmp/cc7rDAuv.s 			page 23


 408:User/lcd/bsp_ili9341_lcd.c **** 2					.		3
 409:User/lcd/bsp_ili9341_lcd.c ****         <--- X0 o		.	<----Y1	o		.		o 2X--->  .		o 3Y--->
 410:User/lcd/bsp_ili9341_lcd.c **** ------------------------------------------------------------
 411:User/lcd/bsp_ili9341_lcd.c **** 模式4：				.	模式5：			.	模式6：			.	模式7：
 412:User/lcd/bsp_ili9341_lcd.c ****         <--- X4 o		.	<--- Y5 o		.		o 6X--->  .		o 7Y--->
 413:User/lcd/bsp_ili9341_lcd.c ****                                         4		.					5		.
 414:User/lcd/bsp_ili9341_lcd.c **** 6					.		7
 415:User/lcd/bsp_ili9341_lcd.c ****                                         Y		.					X		.
 416:User/lcd/bsp_ili9341_lcd.c **** Y					.		X
 417:User/lcd/bsp_ili9341_lcd.c ****                                         |		.					|		.
 418:User/lcd/bsp_ili9341_lcd.c **** |					.		|
 419:User/lcd/bsp_ili9341_lcd.c ****                                         V		.					V		.
 420:User/lcd/bsp_ili9341_lcd.c **** V					.		V
 421:User/lcd/bsp_ili9341_lcd.c **** ---------------------------------------------------------
 422:User/lcd/bsp_ili9341_lcd.c ****                                                                                          LCD屏示例
 423:User/lcd/bsp_ili9341_lcd.c ****                                                                 |-----------------|
 424:User/lcd/bsp_ili9341_lcd.c ****                                                                 |			野火Logo		|
 425:User/lcd/bsp_ili9341_lcd.c ****                                                                 |
 426:User/lcd/bsp_ili9341_lcd.c **** | |									| |
 427:User/lcd/bsp_ili9341_lcd.c **** | |									| |
 428:User/lcd/bsp_ili9341_lcd.c **** | |									| |
 429:User/lcd/bsp_ili9341_lcd.c **** | |									|
 430:User/lcd/bsp_ili9341_lcd.c ****                                                                 |-----------------|
 431:User/lcd/bsp_ili9341_lcd.c ****                                                                 屏幕正面（宽240，高320）
 432:User/lcd/bsp_ili9341_lcd.c **** 
 433:User/lcd/bsp_ili9341_lcd.c ****  *******************************************************/
 434:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_GramScan(uint8_t ucOption)
 435:User/lcd/bsp_ili9341_lcd.c **** {
 436:User/lcd/bsp_ili9341_lcd.c ****   //参数检查，只可输入0-7
 437:User/lcd/bsp_ili9341_lcd.c ****   if (ucOption > 7)
 438:User/lcd/bsp_ili9341_lcd.c ****     return;
 439:User/lcd/bsp_ili9341_lcd.c **** 
 440:User/lcd/bsp_ili9341_lcd.c ****   //根据模式更新LCD_SCAN_MODE的值，主要用于触摸屏选择计算参数
 441:User/lcd/bsp_ili9341_lcd.c ****   LCD_SCAN_MODE = ucOption;
 442:User/lcd/bsp_ili9341_lcd.c **** 
 443:User/lcd/bsp_ili9341_lcd.c ****   //根据模式更新XY方向的像素宽度
 444:User/lcd/bsp_ili9341_lcd.c ****   if (ucOption % 2 == 0)
 445:User/lcd/bsp_ili9341_lcd.c ****   {
 446:User/lcd/bsp_ili9341_lcd.c ****     // 0 2 4 6模式下X方向像素宽度为240，Y方向为320
 447:User/lcd/bsp_ili9341_lcd.c ****     LCD_X_LENGTH = ILI9341_LESS_PIXEL;
 448:User/lcd/bsp_ili9341_lcd.c ****     LCD_Y_LENGTH = ILI9341_MORE_PIXEL;
 449:User/lcd/bsp_ili9341_lcd.c ****   }
 450:User/lcd/bsp_ili9341_lcd.c ****   else
 451:User/lcd/bsp_ili9341_lcd.c ****   {
 452:User/lcd/bsp_ili9341_lcd.c ****     // 1 3 5 7模式下X方向像素宽度为320，Y方向为240
 453:User/lcd/bsp_ili9341_lcd.c ****     LCD_X_LENGTH = ILI9341_MORE_PIXEL;
 454:User/lcd/bsp_ili9341_lcd.c ****     LCD_Y_LENGTH = ILI9341_LESS_PIXEL;
 455:User/lcd/bsp_ili9341_lcd.c ****   }
 456:User/lcd/bsp_ili9341_lcd.c **** 
 457:User/lcd/bsp_ili9341_lcd.c ****   // 0x36命令参数的高3位可用于设置GRAM扫描方向
 458:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0x36);
 459:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x08 | (ucOption << 5)); //根据ucOption的值设置LCD参数，共0-7种模式
 460:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetCoordinateX);
 461:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);                             /* x 起始坐标高8位 */
 462:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);                             /* x 起始坐标低8位 */
 463:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(((LCD_X_LENGTH - 1) >> 8) & 0xFF); /* x 结束坐标高8位 */
 464:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((LCD_X_LENGTH - 1) & 0xFF);        /* x 结束坐标低8位 */
ARM GAS  /tmp/cc7rDAuv.s 			page 24


 465:User/lcd/bsp_ili9341_lcd.c **** 
 466:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetCoordinateY);
 467:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);                             /* y 起始坐标高8位 */
 468:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);                             /* y 起始坐标低8位 */
 469:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(((LCD_Y_LENGTH - 1) >> 8) & 0xFF); /* y 结束坐标高8位 */
 470:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((LCD_Y_LENGTH - 1) & 0xFF);        /* y 结束坐标低8位 */
 471:User/lcd/bsp_ili9341_lcd.c **** 
 472:User/lcd/bsp_ili9341_lcd.c ****   /* write gram start */
 473:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetPixel);
 474:User/lcd/bsp_ili9341_lcd.c **** }
 475:User/lcd/bsp_ili9341_lcd.c **** 
 476:User/lcd/bsp_ili9341_lcd.c **** /**
 477:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在ILI9341显示器上开辟一个窗口
 478:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下窗口的起点X坐标
 479:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下窗口的起点Y坐标
 480:User/lcd/bsp_ili9341_lcd.c ****  * @param  usWidth ：窗口的宽度
 481:User/lcd/bsp_ili9341_lcd.c ****  * @param  usHeight ：窗口的高度
 482:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 483:User/lcd/bsp_ili9341_lcd.c ****  */
 484:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_OpenWindow(uint16_t usX, uint16_t usY, uint16_t usWidth, uint16_t usHeight)
 485:User/lcd/bsp_ili9341_lcd.c **** {
 486:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetCoordinateX); /* 设置X坐标 */
 487:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(usX >> 8);          /* 先高8位，然后低8位 */
 488:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(usX & 0xff);        /* 设置起始点和结束点*/
 489:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((usX + usWidth - 1) >> 8);
 490:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((usX + usWidth - 1) & 0xff);
 491:User/lcd/bsp_ili9341_lcd.c **** 
 492:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetCoordinateY); /* 设置Y坐标*/
 493:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(usY >> 8);
 494:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(usY & 0xff);
 495:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((usY + usHeight - 1) >> 8);
 496:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((usY + usHeight - 1) & 0xff);
 497:User/lcd/bsp_ili9341_lcd.c **** }
 498:User/lcd/bsp_ili9341_lcd.c **** 
 499:User/lcd/bsp_ili9341_lcd.c **** /**
 500:User/lcd/bsp_ili9341_lcd.c ****  * @brief  设定ILI9341的光标坐标
 501:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下光标的X坐标
 502:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下光标的Y坐标
 503:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 504:User/lcd/bsp_ili9341_lcd.c ****  */
 505:User/lcd/bsp_ili9341_lcd.c **** static void ILI9341_SetCursor(uint16_t usX, uint16_t usY) { ILI9341_OpenWindow(usX, usY, 1, 1); }
 506:User/lcd/bsp_ili9341_lcd.c **** 
 507:User/lcd/bsp_ili9341_lcd.c **** /**
 508:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在ILI9341显示器上以某一颜色填充像素点
 509:User/lcd/bsp_ili9341_lcd.c ****  * @param  ulAmout_Point ：要填充颜色的像素点的总数目
 510:User/lcd/bsp_ili9341_lcd.c ****  * @param  usColor ：颜色
 511:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 512:User/lcd/bsp_ili9341_lcd.c ****  */
 513:User/lcd/bsp_ili9341_lcd.c **** static __inline void ILI9341_FillColor(uint32_t ulAmout_Point, uint16_t usColor)
 514:User/lcd/bsp_ili9341_lcd.c **** {
 515:User/lcd/bsp_ili9341_lcd.c ****   uint32_t i = 0;
 516:User/lcd/bsp_ili9341_lcd.c **** 
 517:User/lcd/bsp_ili9341_lcd.c ****   /* memory write */
 518:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetPixel);
 519:User/lcd/bsp_ili9341_lcd.c **** 
 520:User/lcd/bsp_ili9341_lcd.c ****   for (i = 0; i < ulAmout_Point; i++)
 521:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_Write_Data(usColor);
ARM GAS  /tmp/cc7rDAuv.s 			page 25


 522:User/lcd/bsp_ili9341_lcd.c **** }
 523:User/lcd/bsp_ili9341_lcd.c **** 
 524:User/lcd/bsp_ili9341_lcd.c **** /**
 525:User/lcd/bsp_ili9341_lcd.c ****  * @brief  对ILI9341显示器的某一窗口以某种颜色进行清屏
 526:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下窗口的起点X坐标
 527:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下窗口的起点Y坐标
 528:User/lcd/bsp_ili9341_lcd.c ****  * @param  usWidth ：窗口的宽度
 529:User/lcd/bsp_ili9341_lcd.c ****  * @param  usHeight ：窗口的高度
 530:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 531:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 532:User/lcd/bsp_ili9341_lcd.c ****  */
 533:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_Clear(uint16_t usX, uint16_t usY, uint16_t usWidth, uint16_t usHeight)
 534:User/lcd/bsp_ili9341_lcd.c **** {
 535:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_OpenWindow(usX, usY, usWidth, usHeight);
 536:User/lcd/bsp_ili9341_lcd.c **** 
 537:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_FillColor(usWidth * usHeight, CurrentBackColor);
 538:User/lcd/bsp_ili9341_lcd.c **** }
 539:User/lcd/bsp_ili9341_lcd.c **** 
 540:User/lcd/bsp_ili9341_lcd.c **** /**
 541:User/lcd/bsp_ili9341_lcd.c ****  * @brief  对ILI9341显示器的某一点以某种颜色进行填充
 542:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下该点的X坐标
 543:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下该点的Y坐标
 544:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 545:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 546:User/lcd/bsp_ili9341_lcd.c ****  */
 547:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_SetPointPixel(uint16_t usX, uint16_t usY)
 548:User/lcd/bsp_ili9341_lcd.c **** {
 549:User/lcd/bsp_ili9341_lcd.c ****   if ((usX < LCD_X_LENGTH) && (usY < LCD_Y_LENGTH))
 550:User/lcd/bsp_ili9341_lcd.c ****   {
 551:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_SetCursor(usX, usY);
 552:User/lcd/bsp_ili9341_lcd.c **** 
 553:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_FillColor(1, CurrentTextColor);
 554:User/lcd/bsp_ili9341_lcd.c ****   }
 555:User/lcd/bsp_ili9341_lcd.c **** }
 556:User/lcd/bsp_ili9341_lcd.c **** 
 557:User/lcd/bsp_ili9341_lcd.c **** /**
 558:User/lcd/bsp_ili9341_lcd.c ****  * @brief  读取ILI9341 GRAN 的一个像素数据
 559:User/lcd/bsp_ili9341_lcd.c ****  * @param  无
 560:User/lcd/bsp_ili9341_lcd.c ****  * @retval 像素数据
 561:User/lcd/bsp_ili9341_lcd.c ****  */
 562:User/lcd/bsp_ili9341_lcd.c **** static uint16_t ILI9341_Read_PixelData(void)
 563:User/lcd/bsp_ili9341_lcd.c **** {
 830              		.loc 1 563 0
 831              		.cfi_startproc
 832              		@ args = 0, pretend = 0, frame = 0
 833              		@ frame_needed = 0, uses_anonymous_args = 0
 834 0000 38B5     		push	{r3, r4, r5, lr}
 835              	.LCFI8:
 836              		.cfi_def_cfa_offset 16
 837              		.cfi_offset 3, -16
 838              		.cfi_offset 4, -12
 839              		.cfi_offset 5, -8
 840              		.cfi_offset 14, -4
 841              	.LVL118:
 564:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usR = 0, usG = 0, usB = 0;
 565:User/lcd/bsp_ili9341_lcd.c **** 
 566:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(0x2E); /* 读数据 */
ARM GAS  /tmp/cc7rDAuv.s 			page 26


 842              		.loc 1 566 0
 843 0002 2E20     		movs	r0, #46
 844 0004 FFF7FEFF 		bl	ILI9341_Write_Cmd
 845              	.LVL119:
 567:User/lcd/bsp_ili9341_lcd.c **** 
 568:User/lcd/bsp_ili9341_lcd.c ****   usR = ILI9341_Read_Data(); /*FIRST READ OUT DUMMY DATA*/
 846              		.loc 1 568 0
 847 0008 FFF7FEFF 		bl	ILI9341_Read_Data
 848              	.LVL120:
 569:User/lcd/bsp_ili9341_lcd.c **** 
 570:User/lcd/bsp_ili9341_lcd.c ****   usR = ILI9341_Read_Data(); /*READ OUT RED DATA  */
 849              		.loc 1 570 0
 850 000c FFF7FEFF 		bl	ILI9341_Read_Data
 851              	.LVL121:
 852 0010 0446     		mov	r4, r0
 853              	.LVL122:
 571:User/lcd/bsp_ili9341_lcd.c ****   usB = ILI9341_Read_Data(); /*READ OUT BLUE DATA*/
 854              		.loc 1 571 0
 855 0012 FFF7FEFF 		bl	ILI9341_Read_Data
 856              	.LVL123:
 857 0016 0546     		mov	r5, r0
 858              	.LVL124:
 572:User/lcd/bsp_ili9341_lcd.c ****   usG = ILI9341_Read_Data(); /*READ OUT GREEN DATA*/
 859              		.loc 1 572 0
 860 0018 FFF7FEFF 		bl	ILI9341_Read_Data
 861              	.LVL125:
 573:User/lcd/bsp_ili9341_lcd.c **** 
 574:User/lcd/bsp_ili9341_lcd.c ****   return (((usR >> 11) << 11) | ((usG >> 10) << 5) | (usB >> 11));
 862              		.loc 1 574 0
 863 001c C4F3CF24 		ubfx	r4, r4, #11, #16
 864              	.LVL126:
 865 0020 C0F38F20 		ubfx	r0, r0, #10, #16
 866              	.LVL127:
 867 0024 4001     		lsls	r0, r0, #5
 868 0026 40EAC420 		orr	r0, r0, r4, lsl #11
 869 002a 00B2     		sxth	r0, r0
 870 002c 40EAD520 		orr	r0, r0, r5, lsr #11
 575:User/lcd/bsp_ili9341_lcd.c **** }
 871              		.loc 1 575 0
 872 0030 80B2     		uxth	r0, r0
 873 0032 38BD     		pop	{r3, r4, r5, pc}
 874              		.cfi_endproc
 875              	.LFE79:
 877              		.section	.text.ILI9341_Read_ID,"ax",%progbits
 878              		.align	1
 879              		.global	ILI9341_Read_ID
 880              		.syntax unified
 881              		.thumb
 882              		.thumb_func
 883              		.fpu softvfp
 885              	ILI9341_Read_ID:
 886              	.LFB70:
 330:User/lcd/bsp_ili9341_lcd.c ****   uint16_t id = 0;
 887              		.loc 1 330 0
 888              		.cfi_startproc
 889              		@ args = 0, pretend = 0, frame = 0
 890              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc7rDAuv.s 			page 27


 891 0000 10B5     		push	{r4, lr}
 892              	.LCFI9:
 893              		.cfi_def_cfa_offset 8
 894              		.cfi_offset 4, -8
 895              		.cfi_offset 14, -4
 896              	.LVL128:
 333:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Read_Data();
 897              		.loc 1 333 0
 898 0002 D320     		movs	r0, #211
 899 0004 FFF7FEFF 		bl	ILI9341_Write_Cmd
 900              	.LVL129:
 334:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Read_Data();
 901              		.loc 1 334 0
 902 0008 FFF7FEFF 		bl	ILI9341_Read_Data
 903              	.LVL130:
 335:User/lcd/bsp_ili9341_lcd.c ****   id = ILI9341_Read_Data();
 904              		.loc 1 335 0
 905 000c FFF7FEFF 		bl	ILI9341_Read_Data
 906              	.LVL131:
 336:User/lcd/bsp_ili9341_lcd.c ****   id <<= 8;
 907              		.loc 1 336 0
 908 0010 FFF7FEFF 		bl	ILI9341_Read_Data
 909              	.LVL132:
 337:User/lcd/bsp_ili9341_lcd.c ****   id |= ILI9341_Read_Data();
 910              		.loc 1 337 0
 911 0014 0002     		lsls	r0, r0, #8
 912              	.LVL133:
 913 0016 84B2     		uxth	r4, r0
 914              	.LVL134:
 338:User/lcd/bsp_ili9341_lcd.c **** 
 915              		.loc 1 338 0
 916 0018 FFF7FEFF 		bl	ILI9341_Read_Data
 917              	.LVL135:
 918 001c 2043     		orrs	r0, r0, r4
 919              	.LVL136:
 341:User/lcd/bsp_ili9341_lcd.c **** 
 920              		.loc 1 341 0
 921 001e 80B2     		uxth	r0, r0
 922 0020 10BD     		pop	{r4, pc}
 923              		.cfi_endproc
 924              	.LFE70:
 926              		.section	.text.ILI9341_BackLed_Control,"ax",%progbits
 927              		.align	1
 928              		.global	ILI9341_BackLed_Control
 929              		.syntax unified
 930              		.thumb
 931              		.thumb_func
 932              		.fpu softvfp
 934              	ILI9341_BackLed_Control:
 935              	.LFB72:
 369:User/lcd/bsp_ili9341_lcd.c ****   if (enumState)
 936              		.loc 1 369 0
 937              		.cfi_startproc
 938              		@ args = 0, pretend = 0, frame = 0
 939              		@ frame_needed = 0, uses_anonymous_args = 0
 940              		@ link register save eliminated.
 941              	.LVL137:
ARM GAS  /tmp/cc7rDAuv.s 			page 28


 370:User/lcd/bsp_ili9341_lcd.c ****   {
 942              		.loc 1 370 0
 943 0000 18B9     		cbnz	r0, .L30
 376:User/lcd/bsp_ili9341_lcd.c ****   }
 944              		.loc 1 376 0
 945 0002 0422     		movs	r2, #4
 946 0004 034B     		ldr	r3, .L31
 947 0006 1A61     		str	r2, [r3, #16]
 948 0008 7047     		bx	lr
 949              	.L30:
 372:User/lcd/bsp_ili9341_lcd.c ****   }
 950              		.loc 1 372 0
 951 000a 4FF48022 		mov	r2, #262144
 952 000e 014B     		ldr	r3, .L31
 953 0010 1A61     		str	r2, [r3, #16]
 954 0012 7047     		bx	lr
 955              	.L32:
 956              		.align	2
 957              	.L31:
 958 0014 00140140 		.word	1073812480
 959              		.cfi_endproc
 960              	.LFE72:
 962              		.section	.text.ILI9341_GramScan,"ax",%progbits
 963              		.align	1
 964              		.global	ILI9341_GramScan
 965              		.syntax unified
 966              		.thumb
 967              		.thumb_func
 968              		.fpu softvfp
 970              	ILI9341_GramScan:
 971              	.LFB73:
 435:User/lcd/bsp_ili9341_lcd.c ****   //参数检查，只可输入0-7
 972              		.loc 1 435 0
 973              		.cfi_startproc
 974              		@ args = 0, pretend = 0, frame = 0
 975              		@ frame_needed = 0, uses_anonymous_args = 0
 976              	.LVL138:
 437:User/lcd/bsp_ili9341_lcd.c ****     return;
 977              		.loc 1 437 0
 978 0000 0728     		cmp	r0, #7
 979 0002 4BD8     		bhi	.L38
 435:User/lcd/bsp_ili9341_lcd.c ****   //参数检查，只可输入0-7
 980              		.loc 1 435 0
 981 0004 10B5     		push	{r4, lr}
 982              	.LCFI10:
 983              		.cfi_def_cfa_offset 8
 984              		.cfi_offset 4, -8
 985              		.cfi_offset 14, -4
 441:User/lcd/bsp_ili9341_lcd.c **** 
 986              		.loc 1 441 0
 987 0006 264B     		ldr	r3, .L41
 988 0008 1870     		strb	r0, [r3]
 444:User/lcd/bsp_ili9341_lcd.c ****   {
 989              		.loc 1 444 0
 990 000a 10F0010F 		tst	r0, #1
 991 000e 3DD1     		bne	.L35
 447:User/lcd/bsp_ili9341_lcd.c ****     LCD_Y_LENGTH = ILI9341_MORE_PIXEL;
ARM GAS  /tmp/cc7rDAuv.s 			page 29


 992              		.loc 1 447 0
 993 0010 F022     		movs	r2, #240
 994 0012 244B     		ldr	r3, .L41+4
 995 0014 1A80     		strh	r2, [r3]	@ movhi
 448:User/lcd/bsp_ili9341_lcd.c ****   }
 996              		.loc 1 448 0
 997 0016 4FF4A072 		mov	r2, #320
 998 001a 234B     		ldr	r3, .L41+8
 999 001c 1A80     		strh	r2, [r3]	@ movhi
 1000              	.L36:
 1001 001e 0446     		mov	r4, r0
 458:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x08 | (ucOption << 5)); //根据ucOption的值设置LCD参数，共0-7种模式
 1002              		.loc 1 458 0
 1003 0020 3620     		movs	r0, #54
 1004              	.LVL139:
 1005 0022 FFF7FEFF 		bl	ILI9341_Write_Cmd
 1006              	.LVL140:
 459:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetCoordinateX);
 1007              		.loc 1 459 0
 1008 0026 6001     		lsls	r0, r4, #5
 1009 0028 40F00800 		orr	r0, r0, #8
 1010 002c FFF7FEFF 		bl	ILI9341_Write_Data
 1011              	.LVL141:
 460:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);                             /* x 起始坐标高8位 */
 1012              		.loc 1 460 0
 1013 0030 2A20     		movs	r0, #42
 1014 0032 FFF7FEFF 		bl	ILI9341_Write_Cmd
 1015              	.LVL142:
 461:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);                             /* x 起始坐标低8位 */
 1016              		.loc 1 461 0
 1017 0036 0020     		movs	r0, #0
 1018 0038 FFF7FEFF 		bl	ILI9341_Write_Data
 1019              	.LVL143:
 462:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(((LCD_X_LENGTH - 1) >> 8) & 0xFF); /* x 结束坐标高8位 */
 1020              		.loc 1 462 0
 1021 003c 0020     		movs	r0, #0
 1022 003e FFF7FEFF 		bl	ILI9341_Write_Data
 1023              	.LVL144:
 463:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((LCD_X_LENGTH - 1) & 0xFF);        /* x 结束坐标低8位 */
 1024              		.loc 1 463 0
 1025 0042 184C     		ldr	r4, .L41+4
 1026 0044 2088     		ldrh	r0, [r4]
 1027 0046 0138     		subs	r0, r0, #1
 1028 0048 C0F30720 		ubfx	r0, r0, #8, #8
 1029 004c FFF7FEFF 		bl	ILI9341_Write_Data
 1030              	.LVL145:
 464:User/lcd/bsp_ili9341_lcd.c **** 
 1031              		.loc 1 464 0
 1032 0050 2088     		ldrh	r0, [r4]
 1033 0052 0138     		subs	r0, r0, #1
 1034 0054 C0B2     		uxtb	r0, r0
 1035 0056 FFF7FEFF 		bl	ILI9341_Write_Data
 1036              	.LVL146:
 466:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);                             /* y 起始坐标高8位 */
 1037              		.loc 1 466 0
 1038 005a 2B20     		movs	r0, #43
 1039 005c FFF7FEFF 		bl	ILI9341_Write_Cmd
ARM GAS  /tmp/cc7rDAuv.s 			page 30


 1040              	.LVL147:
 467:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(0x00);                             /* y 起始坐标低8位 */
 1041              		.loc 1 467 0
 1042 0060 0020     		movs	r0, #0
 1043 0062 FFF7FEFF 		bl	ILI9341_Write_Data
 1044              	.LVL148:
 468:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(((LCD_Y_LENGTH - 1) >> 8) & 0xFF); /* y 结束坐标高8位 */
 1045              		.loc 1 468 0
 1046 0066 0020     		movs	r0, #0
 1047 0068 FFF7FEFF 		bl	ILI9341_Write_Data
 1048              	.LVL149:
 469:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((LCD_Y_LENGTH - 1) & 0xFF);        /* y 结束坐标低8位 */
 1049              		.loc 1 469 0
 1050 006c 0E4C     		ldr	r4, .L41+8
 1051 006e 2088     		ldrh	r0, [r4]
 1052 0070 0138     		subs	r0, r0, #1
 1053 0072 C0F30720 		ubfx	r0, r0, #8, #8
 1054 0076 FFF7FEFF 		bl	ILI9341_Write_Data
 1055              	.LVL150:
 470:User/lcd/bsp_ili9341_lcd.c **** 
 1056              		.loc 1 470 0
 1057 007a 2088     		ldrh	r0, [r4]
 1058 007c 0138     		subs	r0, r0, #1
 1059 007e C0B2     		uxtb	r0, r0
 1060 0080 FFF7FEFF 		bl	ILI9341_Write_Data
 1061              	.LVL151:
 473:User/lcd/bsp_ili9341_lcd.c **** }
 1062              		.loc 1 473 0
 1063 0084 2C20     		movs	r0, #44
 1064 0086 FFF7FEFF 		bl	ILI9341_Write_Cmd
 1065              	.LVL152:
 1066 008a 10BD     		pop	{r4, pc}
 1067              	.LVL153:
 1068              	.L35:
 453:User/lcd/bsp_ili9341_lcd.c ****     LCD_Y_LENGTH = ILI9341_LESS_PIXEL;
 1069              		.loc 1 453 0
 1070 008c 4FF4A072 		mov	r2, #320
 1071 0090 044B     		ldr	r3, .L41+4
 1072 0092 1A80     		strh	r2, [r3]	@ movhi
 454:User/lcd/bsp_ili9341_lcd.c ****   }
 1073              		.loc 1 454 0
 1074 0094 F022     		movs	r2, #240
 1075 0096 044B     		ldr	r3, .L41+8
 1076 0098 1A80     		strh	r2, [r3]	@ movhi
 1077 009a C0E7     		b	.L36
 1078              	.L38:
 1079              	.LCFI11:
 1080              		.cfi_def_cfa_offset 0
 1081              		.cfi_restore 4
 1082              		.cfi_restore 14
 1083 009c 7047     		bx	lr
 1084              	.L42:
 1085 009e 00BF     		.align	2
 1086              	.L41:
 1087 00a0 00000000 		.word	.LANCHOR0
 1088 00a4 00000000 		.word	.LANCHOR1
 1089 00a8 00000000 		.word	.LANCHOR2
ARM GAS  /tmp/cc7rDAuv.s 			page 31


 1090              		.cfi_endproc
 1091              	.LFE73:
 1093              		.section	.text.ILI9341_Init,"ax",%progbits
 1094              		.align	1
 1095              		.global	ILI9341_Init
 1096              		.syntax unified
 1097              		.thumb
 1098              		.thumb_func
 1099              		.fpu softvfp
 1101              	ILI9341_Init:
 1102              	.LFB71:
 349:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_GPIO_Config();
 1103              		.loc 1 349 0
 1104              		.cfi_startproc
 1105              		@ args = 0, pretend = 0, frame = 0
 1106              		@ frame_needed = 0, uses_anonymous_args = 0
 1107 0000 08B5     		push	{r3, lr}
 1108              	.LCFI12:
 1109              		.cfi_def_cfa_offset 8
 1110              		.cfi_offset 3, -8
 1111              		.cfi_offset 14, -4
 350:User/lcd/bsp_ili9341_lcd.c **** 
 1112              		.loc 1 350 0
 1113 0002 FFF7FEFF 		bl	ILI9341_GPIO_Config
 1114              	.LVL154:
 352:User/lcd/bsp_ili9341_lcd.c **** 
 1115              		.loc 1 352 0
 1116 0006 0120     		movs	r0, #1
 1117 0008 FFF7FEFF 		bl	ILI9341_BackLed_Control
 1118              	.LVL155:
 354:User/lcd/bsp_ili9341_lcd.c **** 
 1119              		.loc 1 354 0
 1120 000c FFF7FEFF 		bl	ILI9341_REG_Config
 1121              	.LVL156:
 357:User/lcd/bsp_ili9341_lcd.c **** }
 1122              		.loc 1 357 0
 1123 0010 024B     		ldr	r3, .L45
 1124 0012 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1125 0014 FFF7FEFF 		bl	ILI9341_GramScan
 1126              	.LVL157:
 1127 0018 08BD     		pop	{r3, pc}
 1128              	.L46:
 1129 001a 00BF     		.align	2
 1130              	.L45:
 1131 001c 00000000 		.word	.LANCHOR0
 1132              		.cfi_endproc
 1133              	.LFE71:
 1135              		.section	.text.ILI9341_OpenWindow,"ax",%progbits
 1136              		.align	1
 1137              		.global	ILI9341_OpenWindow
 1138              		.syntax unified
 1139              		.thumb
 1140              		.thumb_func
 1141              		.fpu softvfp
 1143              	ILI9341_OpenWindow:
 1144              	.LFB74:
 485:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetCoordinateX); /* 设置X坐标 */
ARM GAS  /tmp/cc7rDAuv.s 			page 32


 1145              		.loc 1 485 0
 1146              		.cfi_startproc
 1147              		@ args = 0, pretend = 0, frame = 0
 1148              		@ frame_needed = 0, uses_anonymous_args = 0
 1149              	.LVL158:
 1150 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1151              	.LCFI13:
 1152              		.cfi_def_cfa_offset 24
 1153              		.cfi_offset 3, -24
 1154              		.cfi_offset 4, -20
 1155              		.cfi_offset 5, -16
 1156              		.cfi_offset 6, -12
 1157              		.cfi_offset 7, -8
 1158              		.cfi_offset 14, -4
 1159 0002 0546     		mov	r5, r0
 1160 0004 0C46     		mov	r4, r1
 1161 0006 1746     		mov	r7, r2
 1162 0008 1E46     		mov	r6, r3
 486:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(usX >> 8);          /* 先高8位，然后低8位 */
 1163              		.loc 1 486 0
 1164 000a 2A20     		movs	r0, #42
 1165              	.LVL159:
 1166 000c FFF7FEFF 		bl	ILI9341_Write_Cmd
 1167              	.LVL160:
 487:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(usX & 0xff);        /* 设置起始点和结束点*/
 1168              		.loc 1 487 0
 1169 0010 280A     		lsrs	r0, r5, #8
 1170 0012 FFF7FEFF 		bl	ILI9341_Write_Data
 1171              	.LVL161:
 488:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((usX + usWidth - 1) >> 8);
 1172              		.loc 1 488 0
 1173 0016 E8B2     		uxtb	r0, r5
 1174 0018 FFF7FEFF 		bl	ILI9341_Write_Data
 1175              	.LVL162:
 489:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((usX + usWidth - 1) & 0xff);
 1176              		.loc 1 489 0
 1177 001c 3D44     		add	r5, r5, r7
 1178 001e 681E     		subs	r0, r5, #1
 1179 0020 C0F30F20 		ubfx	r0, r0, #8, #16
 1180 0024 FFF7FEFF 		bl	ILI9341_Write_Data
 1181              	.LVL163:
 490:User/lcd/bsp_ili9341_lcd.c **** 
 1182              		.loc 1 490 0
 1183 0028 ADB2     		uxth	r5, r5
 1184 002a 681E     		subs	r0, r5, #1
 1185 002c C0B2     		uxtb	r0, r0
 1186 002e FFF7FEFF 		bl	ILI9341_Write_Data
 1187              	.LVL164:
 492:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(usY >> 8);
 1188              		.loc 1 492 0
 1189 0032 2B20     		movs	r0, #43
 1190 0034 FFF7FEFF 		bl	ILI9341_Write_Cmd
 1191              	.LVL165:
 493:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data(usY & 0xff);
 1192              		.loc 1 493 0
 1193 0038 200A     		lsrs	r0, r4, #8
 1194 003a FFF7FEFF 		bl	ILI9341_Write_Data
ARM GAS  /tmp/cc7rDAuv.s 			page 33


 1195              	.LVL166:
 494:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((usY + usHeight - 1) >> 8);
 1196              		.loc 1 494 0
 1197 003e E0B2     		uxtb	r0, r4
 1198 0040 FFF7FEFF 		bl	ILI9341_Write_Data
 1199              	.LVL167:
 495:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Data((usY + usHeight - 1) & 0xff);
 1200              		.loc 1 495 0
 1201 0044 3444     		add	r4, r4, r6
 1202 0046 601E     		subs	r0, r4, #1
 1203 0048 C0F30F20 		ubfx	r0, r0, #8, #16
 1204 004c FFF7FEFF 		bl	ILI9341_Write_Data
 1205              	.LVL168:
 496:User/lcd/bsp_ili9341_lcd.c **** }
 1206              		.loc 1 496 0
 1207 0050 A4B2     		uxth	r4, r4
 1208 0052 601E     		subs	r0, r4, #1
 1209 0054 C0B2     		uxtb	r0, r0
 1210 0056 FFF7FEFF 		bl	ILI9341_Write_Data
 1211              	.LVL169:
 1212 005a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1213              		.cfi_endproc
 1214              	.LFE74:
 1216              		.section	.text.ILI9341_SetCursor,"ax",%progbits
 1217              		.align	1
 1218              		.syntax unified
 1219              		.thumb
 1220              		.thumb_func
 1221              		.fpu softvfp
 1223              	ILI9341_SetCursor:
 1224              	.LFB75:
 505:User/lcd/bsp_ili9341_lcd.c **** 
 1225              		.loc 1 505 0
 1226              		.cfi_startproc
 1227              		@ args = 0, pretend = 0, frame = 0
 1228              		@ frame_needed = 0, uses_anonymous_args = 0
 1229              	.LVL170:
 1230 0000 08B5     		push	{r3, lr}
 1231              	.LCFI14:
 1232              		.cfi_def_cfa_offset 8
 1233              		.cfi_offset 3, -8
 1234              		.cfi_offset 14, -4
 505:User/lcd/bsp_ili9341_lcd.c **** 
 1235              		.loc 1 505 0
 1236 0002 0123     		movs	r3, #1
 1237 0004 1A46     		mov	r2, r3
 1238 0006 FFF7FEFF 		bl	ILI9341_OpenWindow
 1239              	.LVL171:
 1240 000a 08BD     		pop	{r3, pc}
 1241              		.cfi_endproc
 1242              	.LFE75:
 1244              		.section	.text.ILI9341_Clear,"ax",%progbits
 1245              		.align	1
 1246              		.global	ILI9341_Clear
 1247              		.syntax unified
 1248              		.thumb
 1249              		.thumb_func
ARM GAS  /tmp/cc7rDAuv.s 			page 34


 1250              		.fpu softvfp
 1252              	ILI9341_Clear:
 1253              	.LFB77:
 534:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_OpenWindow(usX, usY, usWidth, usHeight);
 1254              		.loc 1 534 0
 1255              		.cfi_startproc
 1256              		@ args = 0, pretend = 0, frame = 0
 1257              		@ frame_needed = 0, uses_anonymous_args = 0
 1258              	.LVL172:
 1259 0000 70B5     		push	{r4, r5, r6, lr}
 1260              	.LCFI15:
 1261              		.cfi_def_cfa_offset 16
 1262              		.cfi_offset 4, -16
 1263              		.cfi_offset 5, -12
 1264              		.cfi_offset 6, -8
 1265              		.cfi_offset 14, -4
 1266 0002 1446     		mov	r4, r2
 1267 0004 1D46     		mov	r5, r3
 535:User/lcd/bsp_ili9341_lcd.c **** 
 1268              		.loc 1 535 0
 1269 0006 FFF7FEFF 		bl	ILI9341_OpenWindow
 1270              	.LVL173:
 537:User/lcd/bsp_ili9341_lcd.c **** }
 1271              		.loc 1 537 0
 1272 000a 05FB04F5 		mul	r5, r5, r4
 1273 000e 074B     		ldr	r3, .L55
 1274 0010 1E88     		ldrh	r6, [r3]
 1275              	.LVL174:
 1276              	.LBB12:
 1277              	.LBB13:
 518:User/lcd/bsp_ili9341_lcd.c **** 
 1278              		.loc 1 518 0
 1279 0012 2C20     		movs	r0, #44
 1280 0014 FFF7FEFF 		bl	ILI9341_Write_Cmd
 1281              	.LVL175:
 520:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_Write_Data(usColor);
 1282              		.loc 1 520 0
 1283 0018 0024     		movs	r4, #0
 1284 001a 03E0     		b	.L52
 1285              	.LVL176:
 1286              	.L53:
 521:User/lcd/bsp_ili9341_lcd.c **** }
 1287              		.loc 1 521 0
 1288 001c 3046     		mov	r0, r6
 1289 001e FFF7FEFF 		bl	ILI9341_Write_Data
 1290              	.LVL177:
 520:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_Write_Data(usColor);
 1291              		.loc 1 520 0
 1292 0022 0134     		adds	r4, r4, #1
 1293              	.LVL178:
 1294              	.L52:
 1295 0024 A542     		cmp	r5, r4
 1296 0026 F9D8     		bhi	.L53
 1297              	.LBE13:
 1298              	.LBE12:
 538:User/lcd/bsp_ili9341_lcd.c **** 
 1299              		.loc 1 538 0
ARM GAS  /tmp/cc7rDAuv.s 			page 35


 1300 0028 70BD     		pop	{r4, r5, r6, pc}
 1301              	.LVL179:
 1302              	.L56:
 1303 002a 00BF     		.align	2
 1304              	.L55:
 1305 002c 00000000 		.word	.LANCHOR3
 1306              		.cfi_endproc
 1307              	.LFE77:
 1309              		.section	.text.ILI9341_SetPointPixel,"ax",%progbits
 1310              		.align	1
 1311              		.global	ILI9341_SetPointPixel
 1312              		.syntax unified
 1313              		.thumb
 1314              		.thumb_func
 1315              		.fpu softvfp
 1317              	ILI9341_SetPointPixel:
 1318              	.LFB78:
 548:User/lcd/bsp_ili9341_lcd.c ****   if ((usX < LCD_X_LENGTH) && (usY < LCD_Y_LENGTH))
 1319              		.loc 1 548 0
 1320              		.cfi_startproc
 1321              		@ args = 0, pretend = 0, frame = 0
 1322              		@ frame_needed = 0, uses_anonymous_args = 0
 1323              	.LVL180:
 1324 0000 38B5     		push	{r3, r4, r5, lr}
 1325              	.LCFI16:
 1326              		.cfi_def_cfa_offset 16
 1327              		.cfi_offset 3, -16
 1328              		.cfi_offset 4, -12
 1329              		.cfi_offset 5, -8
 1330              		.cfi_offset 14, -4
 549:User/lcd/bsp_ili9341_lcd.c ****   {
 1331              		.loc 1 549 0
 1332 0002 0C4B     		ldr	r3, .L63
 1333 0004 1B88     		ldrh	r3, [r3]
 1334 0006 8342     		cmp	r3, r0
 1335 0008 03D9     		bls	.L57
 549:User/lcd/bsp_ili9341_lcd.c ****   {
 1336              		.loc 1 549 0 is_stmt 0 discriminator 1
 1337 000a 0B4B     		ldr	r3, .L63+4
 1338 000c 1B88     		ldrh	r3, [r3]
 1339 000e 8B42     		cmp	r3, r1
 1340 0010 00D8     		bhi	.L62
 1341              	.LVL181:
 1342              	.L57:
 1343 0012 38BD     		pop	{r3, r4, r5, pc}
 1344              	.LVL182:
 1345              	.L62:
 551:User/lcd/bsp_ili9341_lcd.c **** 
 1346              		.loc 1 551 0 is_stmt 1
 1347 0014 FFF7FEFF 		bl	ILI9341_SetCursor
 1348              	.LVL183:
 553:User/lcd/bsp_ili9341_lcd.c ****   }
 1349              		.loc 1 553 0
 1350 0018 084B     		ldr	r3, .L63+8
 1351 001a 1D88     		ldrh	r5, [r3]
 1352              	.LVL184:
 1353              	.LBB14:
ARM GAS  /tmp/cc7rDAuv.s 			page 36


 1354              	.LBB15:
 518:User/lcd/bsp_ili9341_lcd.c **** 
 1355              		.loc 1 518 0
 1356 001c 2C20     		movs	r0, #44
 1357 001e FFF7FEFF 		bl	ILI9341_Write_Cmd
 1358              	.LVL185:
 520:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_Write_Data(usColor);
 1359              		.loc 1 520 0
 1360 0022 0024     		movs	r4, #0
 1361              	.LVL186:
 1362              	.L59:
 1363 0024 002C     		cmp	r4, #0
 1364 0026 F4D1     		bne	.L57
 521:User/lcd/bsp_ili9341_lcd.c **** }
 1365              		.loc 1 521 0
 1366 0028 2846     		mov	r0, r5
 1367 002a FFF7FEFF 		bl	ILI9341_Write_Data
 1368              	.LVL187:
 520:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_Write_Data(usColor);
 1369              		.loc 1 520 0
 1370 002e 0134     		adds	r4, r4, #1
 1371              	.LVL188:
 1372 0030 F8E7     		b	.L59
 1373              	.L64:
 1374 0032 00BF     		.align	2
 1375              	.L63:
 1376 0034 00000000 		.word	.LANCHOR1
 1377 0038 00000000 		.word	.LANCHOR2
 1378 003c 00000000 		.word	.LANCHOR4
 1379              	.LBE15:
 1380              	.LBE14:
 1381              		.cfi_endproc
 1382              	.LFE78:
 1384              		.section	.text.ILI9341_GetPointPixel,"ax",%progbits
 1385              		.align	1
 1386              		.global	ILI9341_GetPointPixel
 1387              		.syntax unified
 1388              		.thumb
 1389              		.thumb_func
 1390              		.fpu softvfp
 1392              	ILI9341_GetPointPixel:
 1393              	.LFB80:
 576:User/lcd/bsp_ili9341_lcd.c **** 
 577:User/lcd/bsp_ili9341_lcd.c **** /**
 578:User/lcd/bsp_ili9341_lcd.c ****  * @brief  获取 ILI9341 显示器上某一个坐标点的像素数据
 579:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下该点的X坐标
 580:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下该点的Y坐标
 581:User/lcd/bsp_ili9341_lcd.c ****  * @retval 像素数据
 582:User/lcd/bsp_ili9341_lcd.c ****  */
 583:User/lcd/bsp_ili9341_lcd.c **** uint16_t ILI9341_GetPointPixel(uint16_t usX, uint16_t usY)
 584:User/lcd/bsp_ili9341_lcd.c **** {
 1394              		.loc 1 584 0
 1395              		.cfi_startproc
 1396              		@ args = 0, pretend = 0, frame = 0
 1397              		@ frame_needed = 0, uses_anonymous_args = 0
 1398              	.LVL189:
 1399 0000 08B5     		push	{r3, lr}
ARM GAS  /tmp/cc7rDAuv.s 			page 37


 1400              	.LCFI17:
 1401              		.cfi_def_cfa_offset 8
 1402              		.cfi_offset 3, -8
 1403              		.cfi_offset 14, -4
 585:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usPixelData;
 586:User/lcd/bsp_ili9341_lcd.c **** 
 587:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_SetCursor(usX, usY);
 1404              		.loc 1 587 0
 1405 0002 FFF7FEFF 		bl	ILI9341_SetCursor
 1406              	.LVL190:
 588:User/lcd/bsp_ili9341_lcd.c **** 
 589:User/lcd/bsp_ili9341_lcd.c ****   usPixelData = ILI9341_Read_PixelData();
 1407              		.loc 1 589 0
 1408 0006 FFF7FEFF 		bl	ILI9341_Read_PixelData
 1409              	.LVL191:
 590:User/lcd/bsp_ili9341_lcd.c **** 
 591:User/lcd/bsp_ili9341_lcd.c ****   return usPixelData;
 592:User/lcd/bsp_ili9341_lcd.c **** }
 1410              		.loc 1 592 0
 1411 000a 08BD     		pop	{r3, pc}
 1412              		.cfi_endproc
 1413              	.LFE80:
 1415              		.section	.text.ILI9341_DrawLine,"ax",%progbits
 1416              		.align	1
 1417              		.global	ILI9341_DrawLine
 1418              		.syntax unified
 1419              		.thumb
 1420              		.thumb_func
 1421              		.fpu softvfp
 1423              	ILI9341_DrawLine:
 1424              	.LFB81:
 593:User/lcd/bsp_ili9341_lcd.c **** 
 594:User/lcd/bsp_ili9341_lcd.c **** /**
 595:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上使用 Bresenham 算法画线段
 596:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX1 ：在特定扫描方向下线段的一个端点X坐标
 597:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY1 ：在特定扫描方向下线段的一个端点Y坐标
 598:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX2 ：在特定扫描方向下线段的另一个端点X坐标
 599:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY2 ：在特定扫描方向下线段的另一个端点Y坐标
 600:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 601:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 602:User/lcd/bsp_ili9341_lcd.c ****  */
 603:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DrawLine(uint16_t usX1, uint16_t usY1, uint16_t usX2, uint16_t usY2)
 604:User/lcd/bsp_ili9341_lcd.c **** {
 1425              		.loc 1 604 0
 1426              		.cfi_startproc
 1427              		@ args = 0, pretend = 0, frame = 8
 1428              		@ frame_needed = 0, uses_anonymous_args = 0
 1429              	.LVL192:
 1430 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1431              	.LCFI18:
 1432              		.cfi_def_cfa_offset 36
 1433              		.cfi_offset 4, -36
 1434              		.cfi_offset 5, -32
 1435              		.cfi_offset 6, -28
 1436              		.cfi_offset 7, -24
 1437              		.cfi_offset 8, -20
 1438              		.cfi_offset 9, -16
ARM GAS  /tmp/cc7rDAuv.s 			page 38


 1439              		.cfi_offset 10, -12
 1440              		.cfi_offset 11, -8
 1441              		.cfi_offset 14, -4
 1442 0004 83B0     		sub	sp, sp, #12
 1443              	.LCFI19:
 1444              		.cfi_def_cfa_offset 48
 1445 0006 8046     		mov	r8, r0
 1446 0008 8946     		mov	r9, r1
 1447              	.LVL193:
 605:User/lcd/bsp_ili9341_lcd.c ****   uint16_t us;
 606:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usX_Current, usY_Current;
 607:User/lcd/bsp_ili9341_lcd.c **** 
 608:User/lcd/bsp_ili9341_lcd.c ****   int32_t lError_X = 0, lError_Y = 0, lDelta_X, lDelta_Y, lDistance;
 609:User/lcd/bsp_ili9341_lcd.c ****   int32_t lIncrease_X, lIncrease_Y;
 610:User/lcd/bsp_ili9341_lcd.c **** 
 611:User/lcd/bsp_ili9341_lcd.c ****   lDelta_X = usX2 - usX1; //计算坐标增量
 1448              		.loc 1 611 0
 1449 000a A2EB000A 		sub	r10, r2, r0
 1450              	.LVL194:
 612:User/lcd/bsp_ili9341_lcd.c ****   lDelta_Y = usY2 - usY1;
 1451              		.loc 1 612 0
 1452 000e A3EB010B 		sub	fp, r3, r1
 1453              	.LVL195:
 613:User/lcd/bsp_ili9341_lcd.c **** 
 614:User/lcd/bsp_ili9341_lcd.c ****   usX_Current = usX1;
 615:User/lcd/bsp_ili9341_lcd.c ****   usY_Current = usY1;
 616:User/lcd/bsp_ili9341_lcd.c **** 
 617:User/lcd/bsp_ili9341_lcd.c ****   if (lDelta_X > 0)
 1454              		.loc 1 617 0
 1455 0012 BAF1000F 		cmp	r10, #0
 1456 0016 0DDD     		ble	.L81
 618:User/lcd/bsp_ili9341_lcd.c ****     lIncrease_X = 1; //设置单步方向
 1457              		.loc 1 618 0
 1458 0018 0123     		movs	r3, #1
 1459              	.LVL196:
 1460 001a 0093     		str	r3, [sp]
 1461              	.L68:
 1462              	.LVL197:
 619:User/lcd/bsp_ili9341_lcd.c **** 
 620:User/lcd/bsp_ili9341_lcd.c ****   else if (lDelta_X == 0)
 621:User/lcd/bsp_ili9341_lcd.c ****     lIncrease_X = 0; //垂直线
 622:User/lcd/bsp_ili9341_lcd.c **** 
 623:User/lcd/bsp_ili9341_lcd.c ****   else
 624:User/lcd/bsp_ili9341_lcd.c ****   {
 625:User/lcd/bsp_ili9341_lcd.c ****     lIncrease_X = -1;
 626:User/lcd/bsp_ili9341_lcd.c ****     lDelta_X = -lDelta_X;
 627:User/lcd/bsp_ili9341_lcd.c ****   }
 628:User/lcd/bsp_ili9341_lcd.c **** 
 629:User/lcd/bsp_ili9341_lcd.c ****   if (lDelta_Y > 0)
 1463              		.loc 1 629 0
 1464 001c BBF1000F 		cmp	fp, #0
 1465 0020 14DD     		ble	.L82
 630:User/lcd/bsp_ili9341_lcd.c ****     lIncrease_Y = 1;
 1466              		.loc 1 630 0
 1467 0022 0123     		movs	r3, #1
 1468 0024 0193     		str	r3, [sp, #4]
 1469              	.L69:
ARM GAS  /tmp/cc7rDAuv.s 			page 39


 1470              	.LVL198:
 631:User/lcd/bsp_ili9341_lcd.c **** 
 632:User/lcd/bsp_ili9341_lcd.c ****   else if (lDelta_Y == 0)
 633:User/lcd/bsp_ili9341_lcd.c ****     lIncrease_Y = 0; //水平线
 634:User/lcd/bsp_ili9341_lcd.c **** 
 635:User/lcd/bsp_ili9341_lcd.c ****   else
 636:User/lcd/bsp_ili9341_lcd.c ****   {
 637:User/lcd/bsp_ili9341_lcd.c ****     lIncrease_Y = -1;
 638:User/lcd/bsp_ili9341_lcd.c ****     lDelta_Y = -lDelta_Y;
 639:User/lcd/bsp_ili9341_lcd.c ****   }
 640:User/lcd/bsp_ili9341_lcd.c **** 
 641:User/lcd/bsp_ili9341_lcd.c ****   if (lDelta_X > lDelta_Y)
 1471              		.loc 1 641 0
 1472 0026 DA45     		cmp	r10, fp
 1473 0028 1CDD     		ble	.L79
 642:User/lcd/bsp_ili9341_lcd.c ****     lDistance = lDelta_X; //选取基本增量坐标轴
 1474              		.loc 1 642 0
 1475 002a 5646     		mov	r6, r10
 1476              	.L70:
 1477              	.LVL199:
 608:User/lcd/bsp_ili9341_lcd.c ****   int32_t lIncrease_X, lIncrease_Y;
 1478              		.loc 1 608 0
 1479 002c 0025     		movs	r5, #0
 1480 002e 2F46     		mov	r7, r5
 643:User/lcd/bsp_ili9341_lcd.c **** 
 644:User/lcd/bsp_ili9341_lcd.c ****   else
 645:User/lcd/bsp_ili9341_lcd.c ****     lDistance = lDelta_Y;
 646:User/lcd/bsp_ili9341_lcd.c **** 
 647:User/lcd/bsp_ili9341_lcd.c ****   for (us = 0; us <= lDistance + 1; us++) //画线输出
 1481              		.loc 1 647 0
 1482 0030 2C46     		mov	r4, r5
 1483 0032 1BE0     		b	.L71
 1484              	.LVL200:
 1485              	.L81:
 620:User/lcd/bsp_ili9341_lcd.c ****     lIncrease_X = 0; //垂直线
 1486              		.loc 1 620 0
 1487 0034 BAF1000F 		cmp	r10, #0
 1488 0038 05D0     		beq	.L76
 1489              	.LVL201:
 626:User/lcd/bsp_ili9341_lcd.c ****   }
 1490              		.loc 1 626 0
 1491 003a CAF1000A 		rsb	r10, r10, #0
 1492              	.LVL202:
 625:User/lcd/bsp_ili9341_lcd.c ****     lDelta_X = -lDelta_X;
 1493              		.loc 1 625 0
 1494 003e 4FF0FF33 		mov	r3, #-1
 1495              	.LVL203:
 1496 0042 0093     		str	r3, [sp]
 1497 0044 EAE7     		b	.L68
 1498              	.LVL204:
 1499              	.L76:
 621:User/lcd/bsp_ili9341_lcd.c **** 
 1500              		.loc 1 621 0
 1501 0046 CDF800A0 		str	r10, [sp]
 1502 004a E7E7     		b	.L68
 1503              	.LVL205:
 1504              	.L82:
ARM GAS  /tmp/cc7rDAuv.s 			page 40


 632:User/lcd/bsp_ili9341_lcd.c ****     lIncrease_Y = 0; //水平线
 1505              		.loc 1 632 0
 1506 004c BBF1000F 		cmp	fp, #0
 1507 0050 05D0     		beq	.L78
 1508              	.LVL206:
 638:User/lcd/bsp_ili9341_lcd.c ****   }
 1509              		.loc 1 638 0
 1510 0052 CBF1000B 		rsb	fp, fp, #0
 1511              	.LVL207:
 637:User/lcd/bsp_ili9341_lcd.c ****     lDelta_Y = -lDelta_Y;
 1512              		.loc 1 637 0
 1513 0056 4FF0FF33 		mov	r3, #-1
 1514 005a 0193     		str	r3, [sp, #4]
 1515 005c E3E7     		b	.L69
 1516              	.LVL208:
 1517              	.L78:
 633:User/lcd/bsp_ili9341_lcd.c **** 
 1518              		.loc 1 633 0
 1519 005e CDF804B0 		str	fp, [sp, #4]
 1520 0062 E0E7     		b	.L69
 1521              	.LVL209:
 1522              	.L79:
 645:User/lcd/bsp_ili9341_lcd.c **** 
 1523              		.loc 1 645 0
 1524 0064 5E46     		mov	r6, fp
 1525 0066 E1E7     		b	.L70
 1526              	.LVL210:
 1527              	.L73:
 1528              		.loc 1 647 0 discriminator 2
 1529 0068 0134     		adds	r4, r4, #1
 1530              	.LVL211:
 1531 006a A4B2     		uxth	r4, r4
 1532              	.LVL212:
 1533              	.L71:
 1534              		.loc 1 647 0 is_stmt 0 discriminator 1
 1535 006c 731C     		adds	r3, r6, #1
 1536 006e 9C42     		cmp	r4, r3
 1537 0070 14DC     		bgt	.L83
 648:User/lcd/bsp_ili9341_lcd.c ****   {
 649:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_SetPointPixel(usX_Current, usY_Current); //画点
 1538              		.loc 1 649 0 is_stmt 1
 1539 0072 4946     		mov	r1, r9
 1540 0074 4046     		mov	r0, r8
 1541 0076 FFF7FEFF 		bl	ILI9341_SetPointPixel
 1542              	.LVL213:
 650:User/lcd/bsp_ili9341_lcd.c **** 
 651:User/lcd/bsp_ili9341_lcd.c ****     lError_X += lDelta_X;
 1543              		.loc 1 651 0
 1544 007a 5744     		add	r7, r7, r10
 1545              	.LVL214:
 652:User/lcd/bsp_ili9341_lcd.c ****     lError_Y += lDelta_Y;
 1546              		.loc 1 652 0
 1547 007c 5D44     		add	r5, r5, fp
 1548              	.LVL215:
 653:User/lcd/bsp_ili9341_lcd.c **** 
 654:User/lcd/bsp_ili9341_lcd.c ****     if (lError_X > lDistance)
 1549              		.loc 1 654 0
ARM GAS  /tmp/cc7rDAuv.s 			page 41


 1550 007e BE42     		cmp	r6, r7
 1551 0080 04DA     		bge	.L72
 655:User/lcd/bsp_ili9341_lcd.c ****     {
 656:User/lcd/bsp_ili9341_lcd.c ****       lError_X -= lDistance;
 1552              		.loc 1 656 0
 1553 0082 BF1B     		subs	r7, r7, r6
 1554              	.LVL216:
 657:User/lcd/bsp_ili9341_lcd.c ****       usX_Current += lIncrease_X;
 1555              		.loc 1 657 0
 1556 0084 009B     		ldr	r3, [sp]
 1557 0086 9844     		add	r8, r8, r3
 1558              	.LVL217:
 1559 0088 1FFA88F8 		uxth	r8, r8
 1560              	.LVL218:
 1561              	.L72:
 658:User/lcd/bsp_ili9341_lcd.c ****     }
 659:User/lcd/bsp_ili9341_lcd.c **** 
 660:User/lcd/bsp_ili9341_lcd.c ****     if (lError_Y > lDistance)
 1562              		.loc 1 660 0
 1563 008c AE42     		cmp	r6, r5
 1564 008e EBDA     		bge	.L73
 661:User/lcd/bsp_ili9341_lcd.c ****     {
 662:User/lcd/bsp_ili9341_lcd.c ****       lError_Y -= lDistance;
 1565              		.loc 1 662 0
 1566 0090 AD1B     		subs	r5, r5, r6
 1567              	.LVL219:
 663:User/lcd/bsp_ili9341_lcd.c ****       usY_Current += lIncrease_Y;
 1568              		.loc 1 663 0
 1569 0092 019B     		ldr	r3, [sp, #4]
 1570 0094 9944     		add	r9, r9, r3
 1571              	.LVL220:
 1572 0096 1FFA89F9 		uxth	r9, r9
 1573              	.LVL221:
 1574 009a E5E7     		b	.L73
 1575              	.L83:
 664:User/lcd/bsp_ili9341_lcd.c ****     }
 665:User/lcd/bsp_ili9341_lcd.c ****   }
 666:User/lcd/bsp_ili9341_lcd.c **** }
 1576              		.loc 1 666 0
 1577 009c 03B0     		add	sp, sp, #12
 1578              	.LCFI20:
 1579              		.cfi_def_cfa_offset 36
 1580              	.LVL222:
 1581              		@ sp needed
 1582 009e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1583              		.cfi_endproc
 1584              	.LFE81:
 1586              		.section	.text.ILI9341_DrawRectangle,"ax",%progbits
 1587              		.align	1
 1588              		.global	ILI9341_DrawRectangle
 1589              		.syntax unified
 1590              		.thumb
 1591              		.thumb_func
 1592              		.fpu softvfp
 1594              	ILI9341_DrawRectangle:
 1595              	.LFB82:
 667:User/lcd/bsp_ili9341_lcd.c **** 
ARM GAS  /tmp/cc7rDAuv.s 			page 42


 668:User/lcd/bsp_ili9341_lcd.c **** /**
 669:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上画一个矩形
 670:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX_Start ：在特定扫描方向下矩形的起始点X坐标
 671:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY_Start ：在特定扫描方向下矩形的起始点Y坐标
 672:User/lcd/bsp_ili9341_lcd.c ****  * @param  usWidth：矩形的宽度（单位：像素）
 673:User/lcd/bsp_ili9341_lcd.c ****  * @param  usHeight：矩形的高度（单位：像素）
 674:User/lcd/bsp_ili9341_lcd.c ****  * @param  ucFilled ：选择是否填充该矩形
 675:User/lcd/bsp_ili9341_lcd.c ****  *   该参数为以下值之一：
 676:User/lcd/bsp_ili9341_lcd.c ****  *     @arg 0 :空心矩形
 677:User/lcd/bsp_ili9341_lcd.c ****  *     @arg 1 :实心矩形
 678:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 679:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 680:User/lcd/bsp_ili9341_lcd.c ****  */
 681:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DrawRectangle(uint16_t usX_Start, uint16_t usY_Start, uint16_t usWidth, uint16_t usHei
 682:User/lcd/bsp_ili9341_lcd.c ****                            uint8_t ucFilled)
 683:User/lcd/bsp_ili9341_lcd.c **** {
 1596              		.loc 1 683 0
 1597              		.cfi_startproc
 1598              		@ args = 4, pretend = 0, frame = 0
 1599              		@ frame_needed = 0, uses_anonymous_args = 0
 1600              	.LVL223:
 1601 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1602              	.LCFI21:
 1603              		.cfi_def_cfa_offset 24
 1604              		.cfi_offset 4, -24
 1605              		.cfi_offset 5, -20
 1606              		.cfi_offset 6, -16
 1607              		.cfi_offset 7, -12
 1608              		.cfi_offset 8, -8
 1609              		.cfi_offset 14, -4
 1610 0004 0746     		mov	r7, r0
 1611 0006 0E46     		mov	r6, r1
 1612 0008 1546     		mov	r5, r2
 1613 000a 9846     		mov	r8, r3
 1614 000c 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 1615              	.LVL224:
 684:User/lcd/bsp_ili9341_lcd.c ****   if (ucFilled)
 1616              		.loc 1 684 0
 1617 0010 9BB1     		cbz	r3, .L85
 685:User/lcd/bsp_ili9341_lcd.c ****   {
 686:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_OpenWindow(usX_Start, usY_Start, usWidth, usHeight);
 1618              		.loc 1 686 0
 1619 0012 4346     		mov	r3, r8
 1620 0014 FFF7FEFF 		bl	ILI9341_OpenWindow
 1621              	.LVL225:
 687:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_FillColor(usWidth * usHeight, CurrentTextColor);
 1622              		.loc 1 687 0
 1623 0018 08FB05F5 		mul	r5, r8, r5
 1624 001c 174B     		ldr	r3, .L90
 1625 001e 1E88     		ldrh	r6, [r3]
 1626              	.LVL226:
 1627              	.LBB16:
 1628              	.LBB17:
 518:User/lcd/bsp_ili9341_lcd.c **** 
 1629              		.loc 1 518 0
 1630 0020 2C20     		movs	r0, #44
 1631 0022 FFF7FEFF 		bl	ILI9341_Write_Cmd
ARM GAS  /tmp/cc7rDAuv.s 			page 43


 1632              	.LVL227:
 520:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_Write_Data(usColor);
 1633              		.loc 1 520 0
 1634 0026 0024     		movs	r4, #0
 1635 0028 03E0     		b	.L86
 1636              	.LVL228:
 1637              	.L87:
 521:User/lcd/bsp_ili9341_lcd.c **** }
 1638              		.loc 1 521 0
 1639 002a 3046     		mov	r0, r6
 1640 002c FFF7FEFF 		bl	ILI9341_Write_Data
 1641              	.LVL229:
 520:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_Write_Data(usColor);
 1642              		.loc 1 520 0
 1643 0030 0134     		adds	r4, r4, #1
 1644              	.LVL230:
 1645              	.L86:
 1646 0032 A542     		cmp	r5, r4
 1647 0034 F9D8     		bhi	.L87
 1648 0036 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1649              	.LVL231:
 1650              	.L85:
 1651              	.LBE17:
 1652              	.LBE16:
 688:User/lcd/bsp_ili9341_lcd.c ****   }
 689:User/lcd/bsp_ili9341_lcd.c ****   else
 690:User/lcd/bsp_ili9341_lcd.c ****   {
 691:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_DrawLine(usX_Start, usY_Start, usX_Start + usWidth - 1, usY_Start);
 1653              		.loc 1 691 0
 1654 003a 8418     		adds	r4, r0, r2
 1655 003c A4B2     		uxth	r4, r4
 1656 003e 013C     		subs	r4, r4, #1
 1657 0040 A4B2     		uxth	r4, r4
 1658 0042 0B46     		mov	r3, r1
 1659 0044 2246     		mov	r2, r4
 1660              	.LVL232:
 1661 0046 FFF7FEFF 		bl	ILI9341_DrawLine
 1662              	.LVL233:
 692:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_DrawLine(usX_Start, usY_Start + usHeight - 1, usX_Start + usWidth - 1, usY_Start + usHe
 1663              		.loc 1 692 0
 1664 004a 06EB0805 		add	r5, r6, r8
 1665 004e ADB2     		uxth	r5, r5
 1666 0050 013D     		subs	r5, r5, #1
 1667 0052 ADB2     		uxth	r5, r5
 1668 0054 2B46     		mov	r3, r5
 1669 0056 2246     		mov	r2, r4
 1670 0058 2946     		mov	r1, r5
 1671 005a 3846     		mov	r0, r7
 1672 005c FFF7FEFF 		bl	ILI9341_DrawLine
 1673              	.LVL234:
 693:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_DrawLine(usX_Start, usY_Start, usX_Start, usY_Start + usHeight - 1);
 1674              		.loc 1 693 0
 1675 0060 2B46     		mov	r3, r5
 1676 0062 3A46     		mov	r2, r7
 1677 0064 3146     		mov	r1, r6
 1678 0066 3846     		mov	r0, r7
 1679 0068 FFF7FEFF 		bl	ILI9341_DrawLine
ARM GAS  /tmp/cc7rDAuv.s 			page 44


 1680              	.LVL235:
 694:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_DrawLine(usX_Start + usWidth - 1, usY_Start, usX_Start + usWidth - 1, usY_Start + usHei
 1681              		.loc 1 694 0
 1682 006c 2B46     		mov	r3, r5
 1683 006e 2246     		mov	r2, r4
 1684 0070 3146     		mov	r1, r6
 1685 0072 2046     		mov	r0, r4
 1686 0074 FFF7FEFF 		bl	ILI9341_DrawLine
 1687              	.LVL236:
 1688 0078 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1689              	.LVL237:
 1690              	.L91:
 1691              		.align	2
 1692              	.L90:
 1693 007c 00000000 		.word	.LANCHOR4
 1694              		.cfi_endproc
 1695              	.LFE82:
 1697              		.section	.text.ILI9341_DrawCircle,"ax",%progbits
 1698              		.align	1
 1699              		.global	ILI9341_DrawCircle
 1700              		.syntax unified
 1701              		.thumb
 1702              		.thumb_func
 1703              		.fpu softvfp
 1705              	ILI9341_DrawCircle:
 1706              	.LFB83:
 695:User/lcd/bsp_ili9341_lcd.c ****   }
 696:User/lcd/bsp_ili9341_lcd.c **** }
 697:User/lcd/bsp_ili9341_lcd.c **** 
 698:User/lcd/bsp_ili9341_lcd.c **** /**
 699:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上使用 Bresenham 算法画圆
 700:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX_Center ：在特定扫描方向下圆心的X坐标
 701:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY_Center ：在特定扫描方向下圆心的Y坐标
 702:User/lcd/bsp_ili9341_lcd.c ****  * @param  usRadius：圆的半径（单位：像素）
 703:User/lcd/bsp_ili9341_lcd.c ****  * @param  ucFilled ：选择是否填充该圆
 704:User/lcd/bsp_ili9341_lcd.c ****  *   该参数为以下值之一：
 705:User/lcd/bsp_ili9341_lcd.c ****  *     @arg 0 :空心圆
 706:User/lcd/bsp_ili9341_lcd.c ****  *     @arg 1 :实心圆
 707:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 708:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 709:User/lcd/bsp_ili9341_lcd.c ****  */
 710:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DrawCircle(uint16_t usX_Center, uint16_t usY_Center, uint16_t usRadius, uint8_t ucFill
 711:User/lcd/bsp_ili9341_lcd.c **** {
 1707              		.loc 1 711 0
 1708              		.cfi_startproc
 1709              		@ args = 0, pretend = 0, frame = 16
 1710              		@ frame_needed = 0, uses_anonymous_args = 0
 1711              	.LVL238:
 1712 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1713              	.LCFI22:
 1714              		.cfi_def_cfa_offset 36
 1715              		.cfi_offset 4, -36
 1716              		.cfi_offset 5, -32
 1717              		.cfi_offset 6, -28
 1718              		.cfi_offset 7, -24
 1719              		.cfi_offset 8, -20
 1720              		.cfi_offset 9, -16
ARM GAS  /tmp/cc7rDAuv.s 			page 45


 1721              		.cfi_offset 10, -12
 1722              		.cfi_offset 11, -8
 1723              		.cfi_offset 14, -4
 1724 0004 85B0     		sub	sp, sp, #20
 1725              	.LCFI23:
 1726              		.cfi_def_cfa_offset 56
 1727 0006 8346     		mov	fp, r0
 1728 0008 8A46     		mov	r10, r1
 1729 000a 0393     		str	r3, [sp, #12]
 1730              	.LVL239:
 712:User/lcd/bsp_ili9341_lcd.c ****   int16_t sCurrentX, sCurrentY;
 713:User/lcd/bsp_ili9341_lcd.c ****   int16_t sError;
 714:User/lcd/bsp_ili9341_lcd.c **** 
 715:User/lcd/bsp_ili9341_lcd.c ****   sCurrentX = 0;
 716:User/lcd/bsp_ili9341_lcd.c ****   sCurrentY = usRadius;
 1731              		.loc 1 716 0
 1732 000c 13B2     		sxth	r3, r2
 1733              	.LVL240:
 1734 000e 0193     		str	r3, [sp, #4]
 1735              	.LVL241:
 717:User/lcd/bsp_ili9341_lcd.c **** 
 718:User/lcd/bsp_ili9341_lcd.c ****   sError = 3 - (usRadius << 1); //判断下个点位置的标志
 1736              		.loc 1 718 0
 1737 0010 5300     		lsls	r3, r2, #1
 1738 0012 9BB2     		uxth	r3, r3
 1739 0014 C3F10303 		rsb	r3, r3, #3
 1740 0018 1BB2     		sxth	r3, r3
 1741 001a 0293     		str	r3, [sp, #8]
 1742              	.LVL242:
 715:User/lcd/bsp_ili9341_lcd.c ****   sCurrentY = usRadius;
 1743              		.loc 1 715 0
 1744 001c 0023     		movs	r3, #0
 1745 001e 0093     		str	r3, [sp]
 719:User/lcd/bsp_ili9341_lcd.c **** 
 720:User/lcd/bsp_ili9341_lcd.c ****   while (sCurrentX <= sCurrentY)
 1746              		.loc 1 720 0
 1747 0020 56E0     		b	.L93
 1748              	.LVL243:
 1749              	.L96:
 1750              	.LBB18:
 721:User/lcd/bsp_ili9341_lcd.c ****   {
 722:User/lcd/bsp_ili9341_lcd.c ****     int16_t sCountY;
 723:User/lcd/bsp_ili9341_lcd.c **** 
 724:User/lcd/bsp_ili9341_lcd.c ****     if (ucFilled)
 725:User/lcd/bsp_ili9341_lcd.c ****       for (sCountY = sCurrentX; sCountY <= sCurrentY; sCountY++)
 726:User/lcd/bsp_ili9341_lcd.c ****       {
 727:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_SetPointPixel(usX_Center + sCurrentX, usY_Center + sCountY); // 1，研究对象
 1751              		.loc 1 727 0 discriminator 3
 1752 0022 BDF80050 		ldrh	r5, [sp]
 1753 0026 05EB0B07 		add	r7, r5, fp
 1754 002a BFB2     		uxth	r7, r7
 1755 002c A4B2     		uxth	r4, r4
 1756 002e 04EB0A06 		add	r6, r4, r10
 1757 0032 B6B2     		uxth	r6, r6
 1758 0034 3146     		mov	r1, r6
 1759 0036 3846     		mov	r0, r7
 1760 0038 FFF7FEFF 		bl	ILI9341_SetPointPixel
ARM GAS  /tmp/cc7rDAuv.s 			page 46


 1761              	.LVL244:
 728:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_SetPointPixel(usX_Center - sCurrentX, usY_Center + sCountY); // 2
 1762              		.loc 1 728 0 discriminator 3
 1763 003c ABEB0508 		sub	r8, fp, r5
 1764 0040 1FFA88F8 		uxth	r8, r8
 1765 0044 3146     		mov	r1, r6
 1766 0046 4046     		mov	r0, r8
 1767 0048 FFF7FEFF 		bl	ILI9341_SetPointPixel
 1768              	.LVL245:
 729:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_SetPointPixel(usX_Center - sCountY, usY_Center + sCurrentX); // 3
 1769              		.loc 1 729 0 discriminator 3
 1770 004c ABEB0409 		sub	r9, fp, r4
 1771 0050 1FFA89F9 		uxth	r9, r9
 1772 0054 05EB0A06 		add	r6, r5, r10
 1773 0058 B6B2     		uxth	r6, r6
 1774 005a 3146     		mov	r1, r6
 1775 005c 4846     		mov	r0, r9
 1776 005e FFF7FEFF 		bl	ILI9341_SetPointPixel
 1777              	.LVL246:
 730:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_SetPointPixel(usX_Center - sCountY, usY_Center - sCurrentX); // 4
 1778              		.loc 1 730 0 discriminator 3
 1779 0062 AAEB0505 		sub	r5, r10, r5
 1780 0066 ADB2     		uxth	r5, r5
 1781 0068 2946     		mov	r1, r5
 1782 006a 4846     		mov	r0, r9
 1783 006c FFF7FEFF 		bl	ILI9341_SetPointPixel
 1784              	.LVL247:
 731:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_SetPointPixel(usX_Center - sCurrentX, usY_Center - sCountY); // 5
 1785              		.loc 1 731 0 discriminator 3
 1786 0070 AAEB0409 		sub	r9, r10, r4
 1787 0074 1FFA89F9 		uxth	r9, r9
 1788 0078 4946     		mov	r1, r9
 1789 007a 4046     		mov	r0, r8
 1790 007c FFF7FEFF 		bl	ILI9341_SetPointPixel
 1791              	.LVL248:
 732:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_SetPointPixel(usX_Center + sCurrentX, usY_Center - sCountY); // 6
 1792              		.loc 1 732 0 discriminator 3
 1793 0080 4946     		mov	r1, r9
 1794 0082 3846     		mov	r0, r7
 1795 0084 FFF7FEFF 		bl	ILI9341_SetPointPixel
 1796              	.LVL249:
 733:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_SetPointPixel(usX_Center + sCountY, usY_Center - sCurrentX); // 7
 1797              		.loc 1 733 0 discriminator 3
 1798 0088 0BEB0407 		add	r7, fp, r4
 1799 008c BFB2     		uxth	r7, r7
 1800 008e 2946     		mov	r1, r5
 1801 0090 3846     		mov	r0, r7
 1802 0092 FFF7FEFF 		bl	ILI9341_SetPointPixel
 1803              	.LVL250:
 734:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_SetPointPixel(usX_Center + sCountY, usY_Center + sCurrentX); // 0
 1804              		.loc 1 734 0 discriminator 3
 1805 0096 3146     		mov	r1, r6
 1806 0098 3846     		mov	r0, r7
 1807 009a FFF7FEFF 		bl	ILI9341_SetPointPixel
 1808              	.LVL251:
 725:User/lcd/bsp_ili9341_lcd.c ****       {
 1809              		.loc 1 725 0 discriminator 3
ARM GAS  /tmp/cc7rDAuv.s 			page 47


 1810 009e 0134     		adds	r4, r4, #1
 1811              	.LVL252:
 1812 00a0 24B2     		sxth	r4, r4
 1813              	.LVL253:
 1814              	.L94:
 725:User/lcd/bsp_ili9341_lcd.c ****       {
 1815              		.loc 1 725 0 is_stmt 0 discriminator 1
 1816 00a2 019B     		ldr	r3, [sp, #4]
 1817 00a4 A342     		cmp	r3, r4
 1818 00a6 BCDA     		bge	.L96
 1819              	.LVL254:
 1820              	.L97:
 735:User/lcd/bsp_ili9341_lcd.c ****       }
 736:User/lcd/bsp_ili9341_lcd.c **** 
 737:User/lcd/bsp_ili9341_lcd.c ****     else
 738:User/lcd/bsp_ili9341_lcd.c ****     {
 739:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center + sCurrentX, usY_Center + sCurrentY); // 1，研究对象
 740:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center - sCurrentX, usY_Center + sCurrentY); // 2
 741:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center - sCurrentY, usY_Center + sCurrentX); // 3
 742:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center - sCurrentY, usY_Center - sCurrentX); // 4
 743:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center - sCurrentX, usY_Center - sCurrentY); // 5
 744:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center + sCurrentX, usY_Center - sCurrentY); // 6
 745:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center + sCurrentY, usY_Center - sCurrentX); // 7
 746:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center + sCurrentY, usY_Center + sCurrentX); // 0
 747:User/lcd/bsp_ili9341_lcd.c ****     }
 748:User/lcd/bsp_ili9341_lcd.c **** 
 749:User/lcd/bsp_ili9341_lcd.c ****     sCurrentX++;
 1821              		.loc 1 749 0 is_stmt 1
 1822 00a8 009B     		ldr	r3, [sp]
 1823 00aa 0133     		adds	r3, r3, #1
 1824 00ac 9BB2     		uxth	r3, r3
 1825 00ae 1AB2     		sxth	r2, r3
 1826 00b0 0092     		str	r2, [sp]
 1827              	.LVL255:
 750:User/lcd/bsp_ili9341_lcd.c **** 
 751:User/lcd/bsp_ili9341_lcd.c ****     if (sError < 0)
 1828              		.loc 1 751 0
 1829 00b2 029A     		ldr	r2, [sp, #8]
 1830 00b4 002A     		cmp	r2, #0
 1831 00b6 51DB     		blt	.L104
 752:User/lcd/bsp_ili9341_lcd.c ****       sError += 4 * sCurrentX + 6;
 753:User/lcd/bsp_ili9341_lcd.c **** 
 754:User/lcd/bsp_ili9341_lcd.c ****     else
 755:User/lcd/bsp_ili9341_lcd.c ****     {
 756:User/lcd/bsp_ili9341_lcd.c ****       sError += 10 + 4 * (sCurrentX - sCurrentY);
 1832              		.loc 1 756 0
 1833 00b8 0099     		ldr	r1, [sp]
 1834 00ba 019A     		ldr	r2, [sp, #4]
 1835 00bc 8B1A     		subs	r3, r1, r2
 1836 00be 0299     		ldr	r1, [sp, #8]
 1837 00c0 01EB8303 		add	r3, r1, r3, lsl #2
 1838 00c4 0A33     		adds	r3, r3, #10
 1839 00c6 1BB2     		sxth	r3, r3
 1840 00c8 0293     		str	r3, [sp, #8]
 1841              	.LVL256:
 757:User/lcd/bsp_ili9341_lcd.c ****       sCurrentY--;
 1842              		.loc 1 757 0
ARM GAS  /tmp/cc7rDAuv.s 			page 48


 1843 00ca 531E     		subs	r3, r2, #1
 1844 00cc 1BB2     		sxth	r3, r3
 1845 00ce 0193     		str	r3, [sp, #4]
 1846              	.LVL257:
 1847              	.L93:
 1848              	.LBE18:
 720:User/lcd/bsp_ili9341_lcd.c ****   {
 1849              		.loc 1 720 0
 1850 00d0 009B     		ldr	r3, [sp]
 1851 00d2 019A     		ldr	r2, [sp, #4]
 1852 00d4 9342     		cmp	r3, r2
 1853 00d6 47DC     		bgt	.L105
 1854              	.LBB19:
 724:User/lcd/bsp_ili9341_lcd.c ****       for (sCountY = sCurrentX; sCountY <= sCurrentY; sCountY++)
 1855              		.loc 1 724 0
 1856 00d8 039B     		ldr	r3, [sp, #12]
 1857 00da 0BB1     		cbz	r3, .L106
 1858 00dc 009C     		ldr	r4, [sp]
 1859 00de E0E7     		b	.L94
 1860              	.L106:
 739:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center - sCurrentX, usY_Center + sCurrentY); // 2
 1861              		.loc 1 739 0
 1862 00e0 BDF80050 		ldrh	r5, [sp]
 1863 00e4 0BEB0508 		add	r8, fp, r5
 1864 00e8 1FFA88F8 		uxth	r8, r8
 1865 00ec BDF80440 		ldrh	r4, [sp, #4]
 1866 00f0 0AEB0407 		add	r7, r10, r4
 1867 00f4 BFB2     		uxth	r7, r7
 1868 00f6 3946     		mov	r1, r7
 1869 00f8 4046     		mov	r0, r8
 1870 00fa FFF7FEFF 		bl	ILI9341_SetPointPixel
 1871              	.LVL258:
 740:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center - sCurrentY, usY_Center + sCurrentX); // 3
 1872              		.loc 1 740 0
 1873 00fe ABEB0506 		sub	r6, fp, r5
 1874 0102 B6B2     		uxth	r6, r6
 1875 0104 3946     		mov	r1, r7
 1876 0106 3046     		mov	r0, r6
 1877 0108 FFF7FEFF 		bl	ILI9341_SetPointPixel
 1878              	.LVL259:
 741:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center - sCurrentY, usY_Center - sCurrentX); // 4
 1879              		.loc 1 741 0
 1880 010c ABEB0407 		sub	r7, fp, r4
 1881 0110 BFB2     		uxth	r7, r7
 1882 0112 0AEB0509 		add	r9, r10, r5
 1883 0116 1FFA89F9 		uxth	r9, r9
 1884 011a 4946     		mov	r1, r9
 1885 011c 3846     		mov	r0, r7
 1886 011e FFF7FEFF 		bl	ILI9341_SetPointPixel
 1887              	.LVL260:
 742:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center - sCurrentX, usY_Center - sCurrentY); // 5
 1888              		.loc 1 742 0
 1889 0122 AAEB0505 		sub	r5, r10, r5
 1890 0126 ADB2     		uxth	r5, r5
 1891 0128 2946     		mov	r1, r5
 1892 012a 3846     		mov	r0, r7
 1893 012c FFF7FEFF 		bl	ILI9341_SetPointPixel
ARM GAS  /tmp/cc7rDAuv.s 			page 49


 1894              	.LVL261:
 743:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center + sCurrentX, usY_Center - sCurrentY); // 6
 1895              		.loc 1 743 0
 1896 0130 AAEB0407 		sub	r7, r10, r4
 1897 0134 BFB2     		uxth	r7, r7
 1898 0136 3946     		mov	r1, r7
 1899 0138 3046     		mov	r0, r6
 1900 013a FFF7FEFF 		bl	ILI9341_SetPointPixel
 1901              	.LVL262:
 744:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center + sCurrentY, usY_Center - sCurrentX); // 7
 1902              		.loc 1 744 0
 1903 013e 3946     		mov	r1, r7
 1904 0140 4046     		mov	r0, r8
 1905 0142 FFF7FEFF 		bl	ILI9341_SetPointPixel
 1906              	.LVL263:
 745:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_SetPointPixel(usX_Center + sCurrentY, usY_Center + sCurrentX); // 0
 1907              		.loc 1 745 0
 1908 0146 5C44     		add	r4, r4, fp
 1909 0148 A4B2     		uxth	r4, r4
 1910 014a 2946     		mov	r1, r5
 1911 014c 2046     		mov	r0, r4
 1912 014e FFF7FEFF 		bl	ILI9341_SetPointPixel
 1913              	.LVL264:
 746:User/lcd/bsp_ili9341_lcd.c ****     }
 1914              		.loc 1 746 0
 1915 0152 4946     		mov	r1, r9
 1916 0154 2046     		mov	r0, r4
 1917 0156 FFF7FEFF 		bl	ILI9341_SetPointPixel
 1918              	.LVL265:
 1919 015a A5E7     		b	.L97
 1920              	.L104:
 752:User/lcd/bsp_ili9341_lcd.c **** 
 1921              		.loc 1 752 0
 1922 015c 02EB8303 		add	r3, r2, r3, lsl #2
 1923 0160 0633     		adds	r3, r3, #6
 1924 0162 1BB2     		sxth	r3, r3
 1925 0164 0293     		str	r3, [sp, #8]
 1926              	.LVL266:
 1927 0166 B3E7     		b	.L93
 1928              	.L105:
 1929              	.LBE19:
 758:User/lcd/bsp_ili9341_lcd.c ****     }
 759:User/lcd/bsp_ili9341_lcd.c ****   }
 760:User/lcd/bsp_ili9341_lcd.c **** }
 1930              		.loc 1 760 0
 1931 0168 05B0     		add	sp, sp, #20
 1932              	.LCFI24:
 1933              		.cfi_def_cfa_offset 36
 1934              	.LVL267:
 1935              		@ sp needed
 1936 016a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1937              		.cfi_endproc
 1938              	.LFE83:
 1940              		.section	.text.ILI9341_DispChar_EN,"ax",%progbits
 1941              		.align	1
 1942              		.global	ILI9341_DispChar_EN
 1943              		.syntax unified
ARM GAS  /tmp/cc7rDAuv.s 			page 50


 1944              		.thumb
 1945              		.thumb_func
 1946              		.fpu softvfp
 1948              	ILI9341_DispChar_EN:
 1949              	.LFB84:
 761:User/lcd/bsp_ili9341_lcd.c **** 
 762:User/lcd/bsp_ili9341_lcd.c **** /**
 763:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上显示一个英文字符
 764:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下字符的起始X坐标
 765:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下该点的起始Y坐标
 766:User/lcd/bsp_ili9341_lcd.c ****  * @param  cChar ：要显示的英文字符
 767:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 768:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 769:User/lcd/bsp_ili9341_lcd.c ****  */
 770:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DispChar_EN(uint16_t usX, uint16_t usY, const char cChar)
 771:User/lcd/bsp_ili9341_lcd.c **** {
 1950              		.loc 1 771 0
 1951              		.cfi_startproc
 1952              		@ args = 0, pretend = 0, frame = 0
 1953              		@ frame_needed = 0, uses_anonymous_args = 0
 1954              	.LVL268:
 1955 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1956              	.LCFI25:
 1957              		.cfi_def_cfa_offset 24
 1958              		.cfi_offset 4, -24
 1959              		.cfi_offset 5, -20
 1960              		.cfi_offset 6, -16
 1961              		.cfi_offset 7, -12
 1962              		.cfi_offset 8, -8
 1963              		.cfi_offset 14, -4
 772:User/lcd/bsp_ili9341_lcd.c ****   uint8_t byteCount, bitCount, fontLength;
 773:User/lcd/bsp_ili9341_lcd.c ****   uint16_t ucRelativePositon;
 774:User/lcd/bsp_ili9341_lcd.c ****   uint8_t *Pfont;
 775:User/lcd/bsp_ili9341_lcd.c **** 
 776:User/lcd/bsp_ili9341_lcd.c ****   //对ascii码表偏移（字模表不包含ASCII表的前32个非图形符号）
 777:User/lcd/bsp_ili9341_lcd.c ****   ucRelativePositon = cChar - ' ';
 1964              		.loc 1 777 0
 1965 0004 A2F12006 		sub	r6, r2, #32
 1966 0008 B6B2     		uxth	r6, r6
 1967              	.LVL269:
 778:User/lcd/bsp_ili9341_lcd.c **** 
 779:User/lcd/bsp_ili9341_lcd.c ****   //每个字模的字节数
 780:User/lcd/bsp_ili9341_lcd.c ****   fontLength = (LCD_Currentfonts->Width * LCD_Currentfonts->Height) / 8;
 1968              		.loc 1 780 0
 1969 000a 194B     		ldr	r3, .L119
 1970 000c 1C68     		ldr	r4, [r3]
 1971 000e A288     		ldrh	r2, [r4, #4]
 1972              	.LVL270:
 1973 0010 E388     		ldrh	r3, [r4, #6]
 1974 0012 03FB02F8 		mul	r8, r3, r2
 1975 0016 B8F1000F 		cmp	r8, #0
 1976 001a 0BDB     		blt	.L116
 1977              	.L108:
 1978 001c C8F3C708 		ubfx	r8, r8, #3, #8
 1979              	.LVL271:
 781:User/lcd/bsp_ili9341_lcd.c **** 
 782:User/lcd/bsp_ili9341_lcd.c ****   //字模首地址
ARM GAS  /tmp/cc7rDAuv.s 			page 51


 783:User/lcd/bsp_ili9341_lcd.c ****   /*ascii码表偏移值乘以每个字模的字节数，求出字模的偏移位置*/
 784:User/lcd/bsp_ili9341_lcd.c ****   Pfont = (uint8_t *)&LCD_Currentfonts->table[ucRelativePositon * fontLength];
 1980              		.loc 1 784 0
 1981 0020 2768     		ldr	r7, [r4]
 1982 0022 06FB08F6 		mul	r6, r6, r8
 1983              	.LVL272:
 785:User/lcd/bsp_ili9341_lcd.c **** 
 786:User/lcd/bsp_ili9341_lcd.c ****   //设置显示窗口
 787:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_OpenWindow(usX, usY, LCD_Currentfonts->Width, LCD_Currentfonts->Height);
 1984              		.loc 1 787 0
 1985 0026 FFF7FEFF 		bl	ILI9341_OpenWindow
 1986              	.LVL273:
 788:User/lcd/bsp_ili9341_lcd.c **** 
 789:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetPixel);
 1987              		.loc 1 789 0
 1988 002a 2C20     		movs	r0, #44
 1989 002c FFF7FEFF 		bl	ILI9341_Write_Cmd
 1990              	.LVL274:
 790:User/lcd/bsp_ili9341_lcd.c **** 
 791:User/lcd/bsp_ili9341_lcd.c ****   //按字节读取字模数据
 792:User/lcd/bsp_ili9341_lcd.c ****   //由于前面直接设置了显示窗口，显示数据会自动换行
 793:User/lcd/bsp_ili9341_lcd.c ****   for (byteCount = 0; byteCount < fontLength; byteCount++)
 1991              		.loc 1 793 0
 1992 0030 0025     		movs	r5, #0
 1993 0032 17E0     		b	.L109
 1994              	.LVL275:
 1995              	.L116:
 780:User/lcd/bsp_ili9341_lcd.c **** 
 1996              		.loc 1 780 0
 1997 0034 08F10708 		add	r8, r8, #7
 1998 0038 F0E7     		b	.L108
 1999              	.LVL276:
 2000              	.L110:
 794:User/lcd/bsp_ili9341_lcd.c ****   {
 795:User/lcd/bsp_ili9341_lcd.c ****     //一位一位处理要显示的颜色
 796:User/lcd/bsp_ili9341_lcd.c ****     for (bitCount = 0; bitCount < 8; bitCount++)
 797:User/lcd/bsp_ili9341_lcd.c ****     {
 798:User/lcd/bsp_ili9341_lcd.c ****       if (Pfont[byteCount] & (0x80 >> bitCount))
 799:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_Write_Data(CurrentTextColor);
 800:User/lcd/bsp_ili9341_lcd.c ****       else
 801:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_Write_Data(CurrentBackColor);
 2001              		.loc 1 801 0
 2002 003a 0E4B     		ldr	r3, .L119+4
 2003 003c 1888     		ldrh	r0, [r3]
 2004 003e FFF7FEFF 		bl	ILI9341_Write_Data
 2005              	.LVL277:
 2006              	.L111:
 796:User/lcd/bsp_ili9341_lcd.c ****     {
 2007              		.loc 1 796 0 discriminator 2
 2008 0042 0134     		adds	r4, r4, #1
 2009              	.LVL278:
 2010 0044 E4B2     		uxtb	r4, r4
 2011              	.LVL279:
 2012              	.L113:
 796:User/lcd/bsp_ili9341_lcd.c ****     {
 2013              		.loc 1 796 0 is_stmt 0 discriminator 1
 2014 0046 072C     		cmp	r4, #7
ARM GAS  /tmp/cc7rDAuv.s 			page 52


 2015 0048 0AD8     		bhi	.L117
 798:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_Write_Data(CurrentTextColor);
 2016              		.loc 1 798 0 is_stmt 1
 2017 004a BB19     		adds	r3, r7, r6
 2018 004c 5A5D     		ldrb	r2, [r3, r5]	@ zero_extendqisi2
 2019 004e 8023     		movs	r3, #128
 2020 0050 2341     		asrs	r3, r3, r4
 2021 0052 1A42     		tst	r2, r3
 2022 0054 F1D0     		beq	.L110
 799:User/lcd/bsp_ili9341_lcd.c ****       else
 2023              		.loc 1 799 0
 2024 0056 084B     		ldr	r3, .L119+8
 2025 0058 1888     		ldrh	r0, [r3]
 2026 005a FFF7FEFF 		bl	ILI9341_Write_Data
 2027              	.LVL280:
 2028 005e F0E7     		b	.L111
 2029              	.L117:
 793:User/lcd/bsp_ili9341_lcd.c ****   {
 2030              		.loc 1 793 0 discriminator 2
 2031 0060 0135     		adds	r5, r5, #1
 2032              	.LVL281:
 2033 0062 EDB2     		uxtb	r5, r5
 2034              	.LVL282:
 2035              	.L109:
 793:User/lcd/bsp_ili9341_lcd.c ****   {
 2036              		.loc 1 793 0 is_stmt 0 discriminator 1
 2037 0064 4545     		cmp	r5, r8
 2038 0066 01D2     		bcs	.L118
 2039 0068 0024     		movs	r4, #0
 2040 006a ECE7     		b	.L113
 2041              	.L118:
 802:User/lcd/bsp_ili9341_lcd.c ****     }
 803:User/lcd/bsp_ili9341_lcd.c ****   }
 804:User/lcd/bsp_ili9341_lcd.c **** }
 2042              		.loc 1 804 0 is_stmt 1
 2043 006c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2044              	.LVL283:
 2045              	.L120:
 2046              		.align	2
 2047              	.L119:
 2048 0070 00000000 		.word	.LANCHOR5
 2049 0074 00000000 		.word	.LANCHOR3
 2050 0078 00000000 		.word	.LANCHOR4
 2051              		.cfi_endproc
 2052              	.LFE84:
 2054              		.section	.text.ILI9341_DispStringLine_EN,"ax",%progbits
 2055              		.align	1
 2056              		.global	ILI9341_DispStringLine_EN
 2057              		.syntax unified
 2058              		.thumb
 2059              		.thumb_func
 2060              		.fpu softvfp
 2062              	ILI9341_DispStringLine_EN:
 2063              	.LFB85:
 805:User/lcd/bsp_ili9341_lcd.c **** 
 806:User/lcd/bsp_ili9341_lcd.c **** /**
 807:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上显示英文字符串
ARM GAS  /tmp/cc7rDAuv.s 			page 53


 808:User/lcd/bsp_ili9341_lcd.c ****  * @param  line ：在特定扫描方向下字符串的起始Y坐标
 809:User/lcd/bsp_ili9341_lcd.c ****  *   本参数可使用宏LINE(0)、LINE(1)等方式指定文字坐标，
 810:User/lcd/bsp_ili9341_lcd.c ****  *   宏LINE(x)会根据当前选择的字体来计算Y坐标值。
 811:User/lcd/bsp_ili9341_lcd.c ****  *		显示中文且使用LINE宏时，需要把英文字体设置成Font8x16
 812:User/lcd/bsp_ili9341_lcd.c ****  * @param  pStr ：要显示的英文字符串的首地址
 813:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 814:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 815:User/lcd/bsp_ili9341_lcd.c ****  */
 816:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DispStringLine_EN(uint16_t line, char *pStr)
 817:User/lcd/bsp_ili9341_lcd.c **** {
 2064              		.loc 1 817 0
 2065              		.cfi_startproc
 2066              		@ args = 0, pretend = 0, frame = 0
 2067              		@ frame_needed = 0, uses_anonymous_args = 0
 2068              	.LVL284:
 2069 0000 70B5     		push	{r4, r5, r6, lr}
 2070              	.LCFI26:
 2071              		.cfi_def_cfa_offset 16
 2072              		.cfi_offset 4, -16
 2073              		.cfi_offset 5, -12
 2074              		.cfi_offset 6, -8
 2075              		.cfi_offset 14, -4
 2076 0002 0546     		mov	r5, r0
 2077 0004 0E46     		mov	r6, r1
 2078              	.LVL285:
 818:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usX = 0;
 2079              		.loc 1 818 0
 2080 0006 0024     		movs	r4, #0
 819:User/lcd/bsp_ili9341_lcd.c **** 
 820:User/lcd/bsp_ili9341_lcd.c ****   while (*pStr != '\0')
 2081              		.loc 1 820 0
 2082 0008 09E0     		b	.L122
 2083              	.LVL286:
 2084              	.L124:
 821:User/lcd/bsp_ili9341_lcd.c ****   {
 822:User/lcd/bsp_ili9341_lcd.c ****     if ((usX - ILI9341_DispWindow_X_Star + LCD_Currentfonts->Width) > LCD_X_LENGTH)
 823:User/lcd/bsp_ili9341_lcd.c ****     {
 824:User/lcd/bsp_ili9341_lcd.c ****       usX = ILI9341_DispWindow_X_Star;
 825:User/lcd/bsp_ili9341_lcd.c ****       line += LCD_Currentfonts->Height;
 826:User/lcd/bsp_ili9341_lcd.c ****     }
 827:User/lcd/bsp_ili9341_lcd.c **** 
 828:User/lcd/bsp_ili9341_lcd.c ****     if ((line - ILI9341_DispWindow_Y_Star + LCD_Currentfonts->Height) > LCD_Y_LENGTH)
 829:User/lcd/bsp_ili9341_lcd.c ****     {
 830:User/lcd/bsp_ili9341_lcd.c ****       usX = ILI9341_DispWindow_X_Star;
 831:User/lcd/bsp_ili9341_lcd.c ****       line = ILI9341_DispWindow_Y_Star;
 832:User/lcd/bsp_ili9341_lcd.c ****     }
 833:User/lcd/bsp_ili9341_lcd.c **** 
 834:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_DispChar_EN(usX, line, *pStr);
 2085              		.loc 1 834 0
 2086 000a 2946     		mov	r1, r5
 2087 000c 2046     		mov	r0, r4
 2088 000e FFF7FEFF 		bl	ILI9341_DispChar_EN
 2089              	.LVL287:
 835:User/lcd/bsp_ili9341_lcd.c **** 
 836:User/lcd/bsp_ili9341_lcd.c ****     pStr++;
 2090              		.loc 1 836 0
 2091 0012 0136     		adds	r6, r6, #1
ARM GAS  /tmp/cc7rDAuv.s 			page 54


 2092              	.LVL288:
 837:User/lcd/bsp_ili9341_lcd.c **** 
 838:User/lcd/bsp_ili9341_lcd.c ****     usX += LCD_Currentfonts->Width;
 2093              		.loc 1 838 0
 2094 0014 0E4B     		ldr	r3, .L129
 2095 0016 1B68     		ldr	r3, [r3]
 2096 0018 9B88     		ldrh	r3, [r3, #4]
 2097 001a 1C44     		add	r4, r4, r3
 2098              	.LVL289:
 2099 001c A4B2     		uxth	r4, r4
 2100              	.LVL290:
 2101              	.L122:
 820:User/lcd/bsp_ili9341_lcd.c ****   {
 2102              		.loc 1 820 0
 2103 001e 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 2104 0020 A2B1     		cbz	r2, .L128
 822:User/lcd/bsp_ili9341_lcd.c ****     {
 2105              		.loc 1 822 0
 2106 0022 0B4B     		ldr	r3, .L129
 2107 0024 1968     		ldr	r1, [r3]
 2108 0026 8B88     		ldrh	r3, [r1, #4]
 2109 0028 2344     		add	r3, r3, r4
 2110 002a 0A48     		ldr	r0, .L129+4
 2111 002c 0088     		ldrh	r0, [r0]
 2112 002e 8342     		cmp	r3, r0
 2113 0030 03DD     		ble	.L123
 2114              	.LVL291:
 825:User/lcd/bsp_ili9341_lcd.c ****     }
 2115              		.loc 1 825 0
 2116 0032 CB88     		ldrh	r3, [r1, #6]
 2117 0034 1D44     		add	r5, r5, r3
 2118              	.LVL292:
 2119 0036 ADB2     		uxth	r5, r5
 2120              	.LVL293:
 824:User/lcd/bsp_ili9341_lcd.c ****       line += LCD_Currentfonts->Height;
 2121              		.loc 1 824 0
 2122 0038 0024     		movs	r4, #0
 2123              	.LVL294:
 2124              	.L123:
 828:User/lcd/bsp_ili9341_lcd.c ****     {
 2125              		.loc 1 828 0
 2126 003a CB88     		ldrh	r3, [r1, #6]
 2127 003c 2B44     		add	r3, r3, r5
 2128 003e 0649     		ldr	r1, .L129+8
 2129 0040 0988     		ldrh	r1, [r1]
 2130 0042 8B42     		cmp	r3, r1
 2131 0044 E1DD     		ble	.L124
 830:User/lcd/bsp_ili9341_lcd.c ****       line = ILI9341_DispWindow_Y_Star;
 2132              		.loc 1 830 0
 2133 0046 0024     		movs	r4, #0
 2134              	.LVL295:
 831:User/lcd/bsp_ili9341_lcd.c ****     }
 2135              		.loc 1 831 0
 2136 0048 2546     		mov	r5, r4
 2137              	.LVL296:
 2138 004a DEE7     		b	.L124
 2139              	.LVL297:
ARM GAS  /tmp/cc7rDAuv.s 			page 55


 2140              	.L128:
 839:User/lcd/bsp_ili9341_lcd.c ****   }
 840:User/lcd/bsp_ili9341_lcd.c **** }
 2141              		.loc 1 840 0
 2142 004c 70BD     		pop	{r4, r5, r6, pc}
 2143              	.LVL298:
 2144              	.L130:
 2145 004e 00BF     		.align	2
 2146              	.L129:
 2147 0050 00000000 		.word	.LANCHOR5
 2148 0054 00000000 		.word	.LANCHOR1
 2149 0058 00000000 		.word	.LANCHOR2
 2150              		.cfi_endproc
 2151              	.LFE85:
 2153              		.section	.text.ILI9341_DispString_EN,"ax",%progbits
 2154              		.align	1
 2155              		.global	ILI9341_DispString_EN
 2156              		.syntax unified
 2157              		.thumb
 2158              		.thumb_func
 2159              		.fpu softvfp
 2161              	ILI9341_DispString_EN:
 2162              	.LFB86:
 841:User/lcd/bsp_ili9341_lcd.c **** 
 842:User/lcd/bsp_ili9341_lcd.c **** /**
 843:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上显示英文字符串
 844:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下字符的起始X坐标
 845:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下字符的起始Y坐标
 846:User/lcd/bsp_ili9341_lcd.c ****  * @param  pStr ：要显示的英文字符串的首地址
 847:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 848:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 849:User/lcd/bsp_ili9341_lcd.c ****  */
 850:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DispString_EN(uint16_t usX, uint16_t usY, char *pStr)
 851:User/lcd/bsp_ili9341_lcd.c **** {
 2163              		.loc 1 851 0
 2164              		.cfi_startproc
 2165              		@ args = 0, pretend = 0, frame = 0
 2166              		@ frame_needed = 0, uses_anonymous_args = 0
 2167              	.LVL299:
 2168 0000 70B5     		push	{r4, r5, r6, lr}
 2169              	.LCFI27:
 2170              		.cfi_def_cfa_offset 16
 2171              		.cfi_offset 4, -16
 2172              		.cfi_offset 5, -12
 2173              		.cfi_offset 6, -8
 2174              		.cfi_offset 14, -4
 2175 0002 0446     		mov	r4, r0
 2176 0004 0D46     		mov	r5, r1
 2177 0006 1646     		mov	r6, r2
 852:User/lcd/bsp_ili9341_lcd.c ****   while (*pStr != '\0')
 2178              		.loc 1 852 0
 2179 0008 09E0     		b	.L132
 2180              	.LVL300:
 2181              	.L134:
 853:User/lcd/bsp_ili9341_lcd.c ****   {
 854:User/lcd/bsp_ili9341_lcd.c ****     if ((usX - ILI9341_DispWindow_X_Star + LCD_Currentfonts->Width) > LCD_X_LENGTH)
 855:User/lcd/bsp_ili9341_lcd.c ****     {
ARM GAS  /tmp/cc7rDAuv.s 			page 56


 856:User/lcd/bsp_ili9341_lcd.c ****       usX = ILI9341_DispWindow_X_Star;
 857:User/lcd/bsp_ili9341_lcd.c ****       usY += LCD_Currentfonts->Height;
 858:User/lcd/bsp_ili9341_lcd.c ****     }
 859:User/lcd/bsp_ili9341_lcd.c **** 
 860:User/lcd/bsp_ili9341_lcd.c ****     if ((usY - ILI9341_DispWindow_Y_Star + LCD_Currentfonts->Height) > LCD_Y_LENGTH)
 861:User/lcd/bsp_ili9341_lcd.c ****     {
 862:User/lcd/bsp_ili9341_lcd.c ****       usX = ILI9341_DispWindow_X_Star;
 863:User/lcd/bsp_ili9341_lcd.c ****       usY = ILI9341_DispWindow_Y_Star;
 864:User/lcd/bsp_ili9341_lcd.c ****     }
 865:User/lcd/bsp_ili9341_lcd.c **** 
 866:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_DispChar_EN(usX, usY, *pStr);
 2182              		.loc 1 866 0
 2183 000a 2946     		mov	r1, r5
 2184 000c 2046     		mov	r0, r4
 2185 000e FFF7FEFF 		bl	ILI9341_DispChar_EN
 2186              	.LVL301:
 867:User/lcd/bsp_ili9341_lcd.c **** 
 868:User/lcd/bsp_ili9341_lcd.c ****     pStr++;
 2187              		.loc 1 868 0
 2188 0012 0136     		adds	r6, r6, #1
 2189              	.LVL302:
 869:User/lcd/bsp_ili9341_lcd.c **** 
 870:User/lcd/bsp_ili9341_lcd.c ****     usX += LCD_Currentfonts->Width;
 2190              		.loc 1 870 0
 2191 0014 0E4B     		ldr	r3, .L139
 2192 0016 1B68     		ldr	r3, [r3]
 2193 0018 9B88     		ldrh	r3, [r3, #4]
 2194 001a 1C44     		add	r4, r4, r3
 2195              	.LVL303:
 2196 001c A4B2     		uxth	r4, r4
 2197              	.LVL304:
 2198              	.L132:
 852:User/lcd/bsp_ili9341_lcd.c ****   {
 2199              		.loc 1 852 0
 2200 001e 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 2201 0020 A2B1     		cbz	r2, .L138
 854:User/lcd/bsp_ili9341_lcd.c ****     {
 2202              		.loc 1 854 0
 2203 0022 0B4B     		ldr	r3, .L139
 2204 0024 1968     		ldr	r1, [r3]
 2205 0026 8B88     		ldrh	r3, [r1, #4]
 2206 0028 2344     		add	r3, r3, r4
 2207 002a 0A48     		ldr	r0, .L139+4
 2208 002c 0088     		ldrh	r0, [r0]
 2209 002e 8342     		cmp	r3, r0
 2210 0030 03DD     		ble	.L133
 2211              	.LVL305:
 857:User/lcd/bsp_ili9341_lcd.c ****     }
 2212              		.loc 1 857 0
 2213 0032 CB88     		ldrh	r3, [r1, #6]
 2214 0034 1D44     		add	r5, r5, r3
 2215              	.LVL306:
 2216 0036 ADB2     		uxth	r5, r5
 2217              	.LVL307:
 856:User/lcd/bsp_ili9341_lcd.c ****       usY += LCD_Currentfonts->Height;
 2218              		.loc 1 856 0
 2219 0038 0024     		movs	r4, #0
ARM GAS  /tmp/cc7rDAuv.s 			page 57


 2220              	.LVL308:
 2221              	.L133:
 860:User/lcd/bsp_ili9341_lcd.c ****     {
 2222              		.loc 1 860 0
 2223 003a CB88     		ldrh	r3, [r1, #6]
 2224 003c 2B44     		add	r3, r3, r5
 2225 003e 0649     		ldr	r1, .L139+8
 2226 0040 0988     		ldrh	r1, [r1]
 2227 0042 8B42     		cmp	r3, r1
 2228 0044 E1DD     		ble	.L134
 863:User/lcd/bsp_ili9341_lcd.c ****     }
 2229              		.loc 1 863 0
 2230 0046 0025     		movs	r5, #0
 2231              	.LVL309:
 862:User/lcd/bsp_ili9341_lcd.c ****       usY = ILI9341_DispWindow_Y_Star;
 2232              		.loc 1 862 0
 2233 0048 2C46     		mov	r4, r5
 2234              	.LVL310:
 2235 004a DEE7     		b	.L134
 2236              	.LVL311:
 2237              	.L138:
 871:User/lcd/bsp_ili9341_lcd.c ****   }
 872:User/lcd/bsp_ili9341_lcd.c **** }
 2238              		.loc 1 872 0
 2239 004c 70BD     		pop	{r4, r5, r6, pc}
 2240              	.LVL312:
 2241              	.L140:
 2242 004e 00BF     		.align	2
 2243              	.L139:
 2244 0050 00000000 		.word	.LANCHOR5
 2245 0054 00000000 		.word	.LANCHOR1
 2246 0058 00000000 		.word	.LANCHOR2
 2247              		.cfi_endproc
 2248              	.LFE86:
 2250              		.section	.text.ILI9341_DispString_EN_YDir,"ax",%progbits
 2251              		.align	1
 2252              		.global	ILI9341_DispString_EN_YDir
 2253              		.syntax unified
 2254              		.thumb
 2255              		.thumb_func
 2256              		.fpu softvfp
 2258              	ILI9341_DispString_EN_YDir:
 2259              	.LFB87:
 873:User/lcd/bsp_ili9341_lcd.c **** 
 874:User/lcd/bsp_ili9341_lcd.c **** /**
 875:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上显示英文字符串(沿Y轴方向)
 876:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下字符的起始X坐标
 877:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下字符的起始Y坐标
 878:User/lcd/bsp_ili9341_lcd.c ****  * @param  pStr ：要显示的英文字符串的首地址
 879:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 880:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 881:User/lcd/bsp_ili9341_lcd.c ****  */
 882:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DispString_EN_YDir(uint16_t usX, uint16_t usY, char *pStr)
 883:User/lcd/bsp_ili9341_lcd.c **** {
 2260              		.loc 1 883 0
 2261              		.cfi_startproc
 2262              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc7rDAuv.s 			page 58


 2263              		@ frame_needed = 0, uses_anonymous_args = 0
 2264              	.LVL313:
 2265 0000 70B5     		push	{r4, r5, r6, lr}
 2266              	.LCFI28:
 2267              		.cfi_def_cfa_offset 16
 2268              		.cfi_offset 4, -16
 2269              		.cfi_offset 5, -12
 2270              		.cfi_offset 6, -8
 2271              		.cfi_offset 14, -4
 2272 0002 0546     		mov	r5, r0
 2273 0004 0C46     		mov	r4, r1
 2274 0006 1646     		mov	r6, r2
 884:User/lcd/bsp_ili9341_lcd.c ****   while (*pStr != '\0')
 2275              		.loc 1 884 0
 2276 0008 09E0     		b	.L142
 2277              	.LVL314:
 2278              	.L144:
 885:User/lcd/bsp_ili9341_lcd.c ****   {
 886:User/lcd/bsp_ili9341_lcd.c ****     if ((usY - ILI9341_DispWindow_Y_Star + LCD_Currentfonts->Height) > LCD_Y_LENGTH)
 887:User/lcd/bsp_ili9341_lcd.c ****     {
 888:User/lcd/bsp_ili9341_lcd.c ****       usY = ILI9341_DispWindow_Y_Star;
 889:User/lcd/bsp_ili9341_lcd.c ****       usX += LCD_Currentfonts->Width;
 890:User/lcd/bsp_ili9341_lcd.c ****     }
 891:User/lcd/bsp_ili9341_lcd.c **** 
 892:User/lcd/bsp_ili9341_lcd.c ****     if ((usX - ILI9341_DispWindow_X_Star + LCD_Currentfonts->Width) > LCD_X_LENGTH)
 893:User/lcd/bsp_ili9341_lcd.c ****     {
 894:User/lcd/bsp_ili9341_lcd.c ****       usX = ILI9341_DispWindow_X_Star;
 895:User/lcd/bsp_ili9341_lcd.c ****       usY = ILI9341_DispWindow_Y_Star;
 896:User/lcd/bsp_ili9341_lcd.c ****     }
 897:User/lcd/bsp_ili9341_lcd.c **** 
 898:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_DispChar_EN(usX, usY, *pStr);
 2279              		.loc 1 898 0
 2280 000a 2146     		mov	r1, r4
 2281 000c 2846     		mov	r0, r5
 2282 000e FFF7FEFF 		bl	ILI9341_DispChar_EN
 2283              	.LVL315:
 899:User/lcd/bsp_ili9341_lcd.c **** 
 900:User/lcd/bsp_ili9341_lcd.c ****     pStr++;
 2284              		.loc 1 900 0
 2285 0012 0136     		adds	r6, r6, #1
 2286              	.LVL316:
 901:User/lcd/bsp_ili9341_lcd.c **** 
 902:User/lcd/bsp_ili9341_lcd.c ****     usY += LCD_Currentfonts->Height;
 2287              		.loc 1 902 0
 2288 0014 0E4B     		ldr	r3, .L149
 2289 0016 1B68     		ldr	r3, [r3]
 2290 0018 DB88     		ldrh	r3, [r3, #6]
 2291 001a 1C44     		add	r4, r4, r3
 2292              	.LVL317:
 2293 001c A4B2     		uxth	r4, r4
 2294              	.LVL318:
 2295              	.L142:
 884:User/lcd/bsp_ili9341_lcd.c ****   {
 2296              		.loc 1 884 0
 2297 001e 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 2298 0020 A2B1     		cbz	r2, .L148
 886:User/lcd/bsp_ili9341_lcd.c ****     {
ARM GAS  /tmp/cc7rDAuv.s 			page 59


 2299              		.loc 1 886 0
 2300 0022 0B4B     		ldr	r3, .L149
 2301 0024 1968     		ldr	r1, [r3]
 2302 0026 CB88     		ldrh	r3, [r1, #6]
 2303 0028 2344     		add	r3, r3, r4
 2304 002a 0A48     		ldr	r0, .L149+4
 2305 002c 0088     		ldrh	r0, [r0]
 2306 002e 8342     		cmp	r3, r0
 2307 0030 03DD     		ble	.L143
 2308              	.LVL319:
 889:User/lcd/bsp_ili9341_lcd.c ****     }
 2309              		.loc 1 889 0
 2310 0032 8B88     		ldrh	r3, [r1, #4]
 2311 0034 1D44     		add	r5, r5, r3
 2312              	.LVL320:
 2313 0036 ADB2     		uxth	r5, r5
 2314              	.LVL321:
 888:User/lcd/bsp_ili9341_lcd.c ****       usX += LCD_Currentfonts->Width;
 2315              		.loc 1 888 0
 2316 0038 0024     		movs	r4, #0
 2317              	.LVL322:
 2318              	.L143:
 892:User/lcd/bsp_ili9341_lcd.c ****     {
 2319              		.loc 1 892 0
 2320 003a 8B88     		ldrh	r3, [r1, #4]
 2321 003c 2B44     		add	r3, r3, r5
 2322 003e 0649     		ldr	r1, .L149+8
 2323 0040 0988     		ldrh	r1, [r1]
 2324 0042 8B42     		cmp	r3, r1
 2325 0044 E1DD     		ble	.L144
 895:User/lcd/bsp_ili9341_lcd.c ****     }
 2326              		.loc 1 895 0
 2327 0046 0024     		movs	r4, #0
 2328              	.LVL323:
 894:User/lcd/bsp_ili9341_lcd.c ****       usY = ILI9341_DispWindow_Y_Star;
 2329              		.loc 1 894 0
 2330 0048 2546     		mov	r5, r4
 2331              	.LVL324:
 2332 004a DEE7     		b	.L144
 2333              	.LVL325:
 2334              	.L148:
 903:User/lcd/bsp_ili9341_lcd.c ****   }
 904:User/lcd/bsp_ili9341_lcd.c **** }
 2335              		.loc 1 904 0
 2336 004c 70BD     		pop	{r4, r5, r6, pc}
 2337              	.LVL326:
 2338              	.L150:
 2339 004e 00BF     		.align	2
 2340              	.L149:
 2341 0050 00000000 		.word	.LANCHOR5
 2342 0054 00000000 		.word	.LANCHOR2
 2343 0058 00000000 		.word	.LANCHOR1
 2344              		.cfi_endproc
 2345              	.LFE87:
 2347              		.section	.text.ILI9341_DispChar_CH,"ax",%progbits
 2348              		.align	1
 2349              		.global	ILI9341_DispChar_CH
ARM GAS  /tmp/cc7rDAuv.s 			page 60


 2350              		.syntax unified
 2351              		.thumb
 2352              		.thumb_func
 2353              		.fpu softvfp
 2355              	ILI9341_DispChar_CH:
 2356              	.LFB88:
 905:User/lcd/bsp_ili9341_lcd.c **** 
 906:User/lcd/bsp_ili9341_lcd.c **** /**
 907:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上显示一个中文字符
 908:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下字符的起始X坐标
 909:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下字符的起始Y坐标
 910:User/lcd/bsp_ili9341_lcd.c ****  * @param  usChar ：要显示的中文字符（国标码）
 911:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 912:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 913:User/lcd/bsp_ili9341_lcd.c ****  */
 914:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DispChar_CH(uint16_t usX, uint16_t usY, uint16_t usChar)
 915:User/lcd/bsp_ili9341_lcd.c **** {
 2357              		.loc 1 915 0
 2358              		.cfi_startproc
 2359              		@ args = 0, pretend = 0, frame = 32
 2360              		@ frame_needed = 0, uses_anonymous_args = 0
 2361              	.LVL327:
 2362 0000 70B5     		push	{r4, r5, r6, lr}
 2363              	.LCFI29:
 2364              		.cfi_def_cfa_offset 16
 2365              		.cfi_offset 4, -16
 2366              		.cfi_offset 5, -12
 2367              		.cfi_offset 6, -8
 2368              		.cfi_offset 14, -4
 2369 0002 88B0     		sub	sp, sp, #32
 2370              	.LCFI30:
 2371              		.cfi_def_cfa_offset 48
 2372 0004 1446     		mov	r4, r2
 916:User/lcd/bsp_ili9341_lcd.c ****   uint8_t rowCount, bitCount;
 917:User/lcd/bsp_ili9341_lcd.c ****   uint8_t ucBuffer[WIDTH_CH_CHAR * HEIGHT_CH_CHAR / 8];
 918:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usTemp;
 919:User/lcd/bsp_ili9341_lcd.c **** 
 920:User/lcd/bsp_ili9341_lcd.c ****   //设置显示窗口
 921:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_OpenWindow(usX, usY, WIDTH_CH_CHAR, HEIGHT_CH_CHAR);
 2373              		.loc 1 921 0
 2374 0006 1023     		movs	r3, #16
 2375 0008 1A46     		mov	r2, r3
 2376              	.LVL328:
 2377 000a FFF7FEFF 		bl	ILI9341_OpenWindow
 2378              	.LVL329:
 922:User/lcd/bsp_ili9341_lcd.c **** 
 923:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetPixel);
 2379              		.loc 1 923 0
 2380 000e 2C20     		movs	r0, #44
 2381 0010 FFF7FEFF 		bl	ILI9341_Write_Cmd
 2382              	.LVL330:
 924:User/lcd/bsp_ili9341_lcd.c **** 
 925:User/lcd/bsp_ili9341_lcd.c ****   //取字模数据
 926:User/lcd/bsp_ili9341_lcd.c ****   GetGBKCode(ucBuffer, usChar);
 2383              		.loc 1 926 0
 2384 0014 2146     		mov	r1, r4
 2385 0016 6846     		mov	r0, sp
ARM GAS  /tmp/cc7rDAuv.s 			page 61


 2386 0018 FFF7FEFF 		bl	GetGBKCode_from_EXFlash
 2387              	.LVL331:
 927:User/lcd/bsp_ili9341_lcd.c **** 
 928:User/lcd/bsp_ili9341_lcd.c ****   for (rowCount = 0; rowCount < HEIGHT_CH_CHAR; rowCount++)
 2388              		.loc 1 928 0
 2389 001c 0026     		movs	r6, #0
 2390 001e 13E0     		b	.L152
 2391              	.LVL332:
 2392              	.L154:
 929:User/lcd/bsp_ili9341_lcd.c ****   {
 930:User/lcd/bsp_ili9341_lcd.c ****     /* 取出两个字节的数据，在lcd上即是一个汉字的一行 */
 931:User/lcd/bsp_ili9341_lcd.c ****     usTemp = ucBuffer[rowCount * 2];
 932:User/lcd/bsp_ili9341_lcd.c ****     usTemp = (usTemp << 8);
 933:User/lcd/bsp_ili9341_lcd.c ****     usTemp |= ucBuffer[rowCount * 2 + 1];
 934:User/lcd/bsp_ili9341_lcd.c **** 
 935:User/lcd/bsp_ili9341_lcd.c ****     for (bitCount = 0; bitCount < WIDTH_CH_CHAR; bitCount++)
 936:User/lcd/bsp_ili9341_lcd.c ****     {
 937:User/lcd/bsp_ili9341_lcd.c ****       if (usTemp & (0x8000 >> bitCount)) //高位在前
 938:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_Write_Data(CurrentTextColor);
 939:User/lcd/bsp_ili9341_lcd.c ****       else
 940:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_Write_Data(CurrentBackColor);
 2393              		.loc 1 940 0
 2394 0020 124B     		ldr	r3, .L161
 2395 0022 1888     		ldrh	r0, [r3]
 2396 0024 FFF7FEFF 		bl	ILI9341_Write_Data
 2397              	.LVL333:
 2398              	.L155:
 935:User/lcd/bsp_ili9341_lcd.c ****     {
 2399              		.loc 1 935 0 discriminator 2
 2400 0028 0134     		adds	r4, r4, #1
 2401              	.LVL334:
 2402 002a E4B2     		uxtb	r4, r4
 2403              	.LVL335:
 2404              	.L153:
 935:User/lcd/bsp_ili9341_lcd.c ****     {
 2405              		.loc 1 935 0 is_stmt 0 discriminator 1
 2406 002c 0F2C     		cmp	r4, #15
 2407 002e 09D8     		bhi	.L159
 937:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_Write_Data(CurrentTextColor);
 2408              		.loc 1 937 0 is_stmt 1
 2409 0030 4FF40043 		mov	r3, #32768
 2410 0034 2341     		asrs	r3, r3, r4
 2411 0036 1D42     		tst	r5, r3
 2412 0038 F2D0     		beq	.L154
 938:User/lcd/bsp_ili9341_lcd.c ****       else
 2413              		.loc 1 938 0
 2414 003a 0D4B     		ldr	r3, .L161+4
 2415 003c 1888     		ldrh	r0, [r3]
 2416 003e FFF7FEFF 		bl	ILI9341_Write_Data
 2417              	.LVL336:
 2418 0042 F1E7     		b	.L155
 2419              	.L159:
 928:User/lcd/bsp_ili9341_lcd.c ****   {
 2420              		.loc 1 928 0 discriminator 2
 2421 0044 0136     		adds	r6, r6, #1
 2422              	.LVL337:
 2423 0046 F6B2     		uxtb	r6, r6
ARM GAS  /tmp/cc7rDAuv.s 			page 62


 2424              	.LVL338:
 2425              	.L152:
 928:User/lcd/bsp_ili9341_lcd.c ****   {
 2426              		.loc 1 928 0 is_stmt 0 discriminator 1
 2427 0048 0F2E     		cmp	r6, #15
 2428 004a 0DD8     		bhi	.L160
 931:User/lcd/bsp_ili9341_lcd.c ****     usTemp = (usTemp << 8);
 2429              		.loc 1 931 0 is_stmt 1
 2430 004c 7300     		lsls	r3, r6, #1
 2431 004e 08AA     		add	r2, sp, #32
 2432 0050 1A44     		add	r2, r2, r3
 2433 0052 12F8202C 		ldrb	r2, [r2, #-32]	@ zero_extendqisi2
 2434              	.LVL339:
 933:User/lcd/bsp_ili9341_lcd.c **** 
 2435              		.loc 1 933 0
 2436 0056 0133     		adds	r3, r3, #1
 2437 0058 08A9     		add	r1, sp, #32
 2438 005a 0B44     		add	r3, r3, r1
 2439 005c 13F8205C 		ldrb	r5, [r3, #-32]	@ zero_extendqisi2
 2440 0060 45EA0225 		orr	r5, r5, r2, lsl #8
 2441              	.LVL340:
 935:User/lcd/bsp_ili9341_lcd.c ****     {
 2442              		.loc 1 935 0
 2443 0064 0024     		movs	r4, #0
 2444 0066 E1E7     		b	.L153
 2445              	.LVL341:
 2446              	.L160:
 941:User/lcd/bsp_ili9341_lcd.c ****     }
 942:User/lcd/bsp_ili9341_lcd.c ****   }
 943:User/lcd/bsp_ili9341_lcd.c **** }
 2447              		.loc 1 943 0
 2448 0068 08B0     		add	sp, sp, #32
 2449              	.LCFI31:
 2450              		.cfi_def_cfa_offset 16
 2451              		@ sp needed
 2452 006a 70BD     		pop	{r4, r5, r6, pc}
 2453              	.LVL342:
 2454              	.L162:
 2455              		.align	2
 2456              	.L161:
 2457 006c 00000000 		.word	.LANCHOR3
 2458 0070 00000000 		.word	.LANCHOR4
 2459              		.cfi_endproc
 2460              	.LFE88:
 2462              		.section	.text.ILI9341_DispString_CH,"ax",%progbits
 2463              		.align	1
 2464              		.global	ILI9341_DispString_CH
 2465              		.syntax unified
 2466              		.thumb
 2467              		.thumb_func
 2468              		.fpu softvfp
 2470              	ILI9341_DispString_CH:
 2471              	.LFB89:
 944:User/lcd/bsp_ili9341_lcd.c **** 
 945:User/lcd/bsp_ili9341_lcd.c **** /**
 946:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上显示中文字符串
 947:User/lcd/bsp_ili9341_lcd.c ****  * @param  line ：在特定扫描方向下字符串的起始Y坐标
ARM GAS  /tmp/cc7rDAuv.s 			page 63


 948:User/lcd/bsp_ili9341_lcd.c ****  *   本参数可使用宏LINE(0)、LINE(1)等方式指定文字坐标，
 949:User/lcd/bsp_ili9341_lcd.c ****  *   宏LINE(x)会根据当前选择的字体来计算Y坐标值。
 950:User/lcd/bsp_ili9341_lcd.c ****  *		显示中文且使用LINE宏时，需要把英文字体设置成Font8x16
 951:User/lcd/bsp_ili9341_lcd.c ****  * @param  pStr ：要显示的英文字符串的首地址
 952:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 953:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 954:User/lcd/bsp_ili9341_lcd.c ****  */
 955:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DispString_CH(uint16_t usX, uint16_t usY, char *pStr)
 956:User/lcd/bsp_ili9341_lcd.c **** {
 2472              		.loc 1 956 0
 2473              		.cfi_startproc
 2474              		@ args = 0, pretend = 0, frame = 0
 2475              		@ frame_needed = 0, uses_anonymous_args = 0
 2476              	.LVL343:
 2477 0000 70B5     		push	{r4, r5, r6, lr}
 2478              	.LCFI32:
 2479              		.cfi_def_cfa_offset 16
 2480              		.cfi_offset 4, -16
 2481              		.cfi_offset 5, -12
 2482              		.cfi_offset 6, -8
 2483              		.cfi_offset 14, -4
 2484 0002 0446     		mov	r4, r0
 2485 0004 0D46     		mov	r5, r1
 2486 0006 1646     		mov	r6, r2
 957:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usCh;
 958:User/lcd/bsp_ili9341_lcd.c **** 
 959:User/lcd/bsp_ili9341_lcd.c ****   while (*pStr != '\0')
 2487              		.loc 1 959 0
 2488 0008 09E0     		b	.L164
 2489              	.LVL344:
 2490              	.L166:
 960:User/lcd/bsp_ili9341_lcd.c ****   {
 961:User/lcd/bsp_ili9341_lcd.c ****     if ((usX - ILI9341_DispWindow_X_Star + WIDTH_CH_CHAR) > LCD_X_LENGTH)
 962:User/lcd/bsp_ili9341_lcd.c ****     {
 963:User/lcd/bsp_ili9341_lcd.c ****       usX = ILI9341_DispWindow_X_Star;
 964:User/lcd/bsp_ili9341_lcd.c ****       usY += HEIGHT_CH_CHAR;
 965:User/lcd/bsp_ili9341_lcd.c ****     }
 966:User/lcd/bsp_ili9341_lcd.c **** 
 967:User/lcd/bsp_ili9341_lcd.c ****     if ((usY - ILI9341_DispWindow_Y_Star + HEIGHT_CH_CHAR) > LCD_Y_LENGTH)
 968:User/lcd/bsp_ili9341_lcd.c ****     {
 969:User/lcd/bsp_ili9341_lcd.c ****       usX = ILI9341_DispWindow_X_Star;
 970:User/lcd/bsp_ili9341_lcd.c ****       usY = ILI9341_DispWindow_Y_Star;
 971:User/lcd/bsp_ili9341_lcd.c ****     }
 972:User/lcd/bsp_ili9341_lcd.c **** 
 973:User/lcd/bsp_ili9341_lcd.c ****     usCh = *(uint16_t *)pStr;
 2491              		.loc 1 973 0
 2492 000a 36F8022B 		ldrh	r2, [r6], #2
 2493              	.LVL345:
 974:User/lcd/bsp_ili9341_lcd.c ****     usCh = (usCh << 8) + (usCh >> 8);
 2494              		.loc 1 974 0
 2495 000e 52BA     		rev16	r2, r2
 2496              	.LVL346:
 975:User/lcd/bsp_ili9341_lcd.c **** 
 976:User/lcd/bsp_ili9341_lcd.c ****     ILI9341_DispChar_CH(usX, usY, usCh);
 2497              		.loc 1 976 0
 2498 0010 92B2     		uxth	r2, r2
 2499 0012 2946     		mov	r1, r5
ARM GAS  /tmp/cc7rDAuv.s 			page 64


 2500 0014 2046     		mov	r0, r4
 2501 0016 FFF7FEFF 		bl	ILI9341_DispChar_CH
 2502              	.LVL347:
 977:User/lcd/bsp_ili9341_lcd.c **** 
 978:User/lcd/bsp_ili9341_lcd.c ****     usX += WIDTH_CH_CHAR;
 2503              		.loc 1 978 0
 2504 001a 1034     		adds	r4, r4, #16
 2505              	.LVL348:
 2506 001c A4B2     		uxth	r4, r4
 2507              	.LVL349:
 2508              	.L164:
 959:User/lcd/bsp_ili9341_lcd.c ****   {
 2509              		.loc 1 959 0
 2510 001e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 2511 0020 8BB1     		cbz	r3, .L170
 961:User/lcd/bsp_ili9341_lcd.c ****     {
 2512              		.loc 1 961 0
 2513 0022 04F11003 		add	r3, r4, #16
 2514 0026 084A     		ldr	r2, .L171
 2515 0028 1288     		ldrh	r2, [r2]
 2516 002a 9342     		cmp	r3, r2
 2517 002c 02DD     		ble	.L165
 2518              	.LVL350:
 964:User/lcd/bsp_ili9341_lcd.c ****     }
 2519              		.loc 1 964 0
 2520 002e 1035     		adds	r5, r5, #16
 2521              	.LVL351:
 2522 0030 ADB2     		uxth	r5, r5
 2523              	.LVL352:
 963:User/lcd/bsp_ili9341_lcd.c ****       usY += HEIGHT_CH_CHAR;
 2524              		.loc 1 963 0
 2525 0032 0024     		movs	r4, #0
 2526              	.LVL353:
 2527              	.L165:
 967:User/lcd/bsp_ili9341_lcd.c ****     {
 2528              		.loc 1 967 0
 2529 0034 05F11003 		add	r3, r5, #16
 2530 0038 044A     		ldr	r2, .L171+4
 2531 003a 1288     		ldrh	r2, [r2]
 2532 003c 9342     		cmp	r3, r2
 2533 003e E4DD     		ble	.L166
 970:User/lcd/bsp_ili9341_lcd.c ****     }
 2534              		.loc 1 970 0
 2535 0040 0025     		movs	r5, #0
 2536              	.LVL354:
 969:User/lcd/bsp_ili9341_lcd.c ****       usY = ILI9341_DispWindow_Y_Star;
 2537              		.loc 1 969 0
 2538 0042 2C46     		mov	r4, r5
 2539              	.LVL355:
 2540 0044 E1E7     		b	.L166
 2541              	.LVL356:
 2542              	.L170:
 979:User/lcd/bsp_ili9341_lcd.c **** 
 980:User/lcd/bsp_ili9341_lcd.c ****     pStr += 2; //一个汉字两个字节
 981:User/lcd/bsp_ili9341_lcd.c ****   }
 982:User/lcd/bsp_ili9341_lcd.c **** }
 2543              		.loc 1 982 0
ARM GAS  /tmp/cc7rDAuv.s 			page 65


 2544 0046 70BD     		pop	{r4, r5, r6, pc}
 2545              	.LVL357:
 2546              	.L172:
 2547              		.align	2
 2548              	.L171:
 2549 0048 00000000 		.word	.LANCHOR1
 2550 004c 00000000 		.word	.LANCHOR2
 2551              		.cfi_endproc
 2552              	.LFE89:
 2554              		.section	.text.ILI9341_DispStringLine_EN_CH,"ax",%progbits
 2555              		.align	1
 2556              		.global	ILI9341_DispStringLine_EN_CH
 2557              		.syntax unified
 2558              		.thumb
 2559              		.thumb_func
 2560              		.fpu softvfp
 2562              	ILI9341_DispStringLine_EN_CH:
 2563              	.LFB90:
 983:User/lcd/bsp_ili9341_lcd.c **** 
 984:User/lcd/bsp_ili9341_lcd.c **** /**
 985:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上显示中英文字符串
 986:User/lcd/bsp_ili9341_lcd.c ****  * @param  line ：在特定扫描方向下字符串的起始Y坐标
 987:User/lcd/bsp_ili9341_lcd.c ****  *   本参数可使用宏LINE(0)、LINE(1)等方式指定文字坐标，
 988:User/lcd/bsp_ili9341_lcd.c ****  *   宏LINE(x)会根据当前选择的字体来计算Y坐标值。
 989:User/lcd/bsp_ili9341_lcd.c ****  *		显示中文且使用LINE宏时，需要把英文字体设置成Font8x16
 990:User/lcd/bsp_ili9341_lcd.c ****  * @param  pStr ：要显示的字符串的首地址
 991:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
 992:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
 993:User/lcd/bsp_ili9341_lcd.c ****  */
 994:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DispStringLine_EN_CH(uint16_t line, char *pStr)
 995:User/lcd/bsp_ili9341_lcd.c **** {
 2564              		.loc 1 995 0
 2565              		.cfi_startproc
 2566              		@ args = 0, pretend = 0, frame = 0
 2567              		@ frame_needed = 0, uses_anonymous_args = 0
 2568              	.LVL358:
 2569 0000 70B5     		push	{r4, r5, r6, lr}
 2570              	.LCFI33:
 2571              		.cfi_def_cfa_offset 16
 2572              		.cfi_offset 4, -16
 2573              		.cfi_offset 5, -12
 2574              		.cfi_offset 6, -8
 2575              		.cfi_offset 14, -4
 2576 0002 0546     		mov	r5, r0
 2577 0004 0E46     		mov	r6, r1
 2578              	.LVL359:
 996:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usCh;
 997:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usX = 0;
 2579              		.loc 1 997 0
 2580 0006 0024     		movs	r4, #0
 998:User/lcd/bsp_ili9341_lcd.c **** 
 999:User/lcd/bsp_ili9341_lcd.c ****   while (*pStr != '\0')
 2581              		.loc 1 999 0
 2582 0008 09E0     		b	.L174
 2583              	.LVL360:
 2584              	.L177:
1000:User/lcd/bsp_ili9341_lcd.c ****   {
ARM GAS  /tmp/cc7rDAuv.s 			page 66


1001:User/lcd/bsp_ili9341_lcd.c ****     if (*pStr <= 126) //英文字符
1002:User/lcd/bsp_ili9341_lcd.c ****     {
1003:User/lcd/bsp_ili9341_lcd.c ****       if ((usX - ILI9341_DispWindow_X_Star + LCD_Currentfonts->Width) > LCD_X_LENGTH)
1004:User/lcd/bsp_ili9341_lcd.c ****       {
1005:User/lcd/bsp_ili9341_lcd.c ****         usX = ILI9341_DispWindow_X_Star;
1006:User/lcd/bsp_ili9341_lcd.c ****         line += LCD_Currentfonts->Height;
1007:User/lcd/bsp_ili9341_lcd.c ****       }
1008:User/lcd/bsp_ili9341_lcd.c **** 
1009:User/lcd/bsp_ili9341_lcd.c ****       if ((line - ILI9341_DispWindow_Y_Star + LCD_Currentfonts->Height) > LCD_Y_LENGTH)
1010:User/lcd/bsp_ili9341_lcd.c ****       {
1011:User/lcd/bsp_ili9341_lcd.c ****         usX = ILI9341_DispWindow_X_Star;
1012:User/lcd/bsp_ili9341_lcd.c ****         line = ILI9341_DispWindow_Y_Star;
1013:User/lcd/bsp_ili9341_lcd.c ****       }
1014:User/lcd/bsp_ili9341_lcd.c **** 
1015:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_DispChar_EN(usX, line, *pStr);
 2585              		.loc 1 1015 0
 2586 000a 2946     		mov	r1, r5
 2587 000c 2046     		mov	r0, r4
 2588 000e FFF7FEFF 		bl	ILI9341_DispChar_EN
 2589              	.LVL361:
1016:User/lcd/bsp_ili9341_lcd.c **** 
1017:User/lcd/bsp_ili9341_lcd.c ****       usX += LCD_Currentfonts->Width;
 2590              		.loc 1 1017 0
 2591 0012 1E4B     		ldr	r3, .L186
 2592 0014 1B68     		ldr	r3, [r3]
 2593 0016 9B88     		ldrh	r3, [r3, #4]
 2594 0018 1C44     		add	r4, r4, r3
 2595              	.LVL362:
 2596 001a A4B2     		uxth	r4, r4
 2597              	.LVL363:
1018:User/lcd/bsp_ili9341_lcd.c **** 
1019:User/lcd/bsp_ili9341_lcd.c ****       pStr++;
 2598              		.loc 1 1019 0
 2599 001c 0136     		adds	r6, r6, #1
 2600              	.LVL364:
 2601              	.L174:
 999:User/lcd/bsp_ili9341_lcd.c ****   {
 2602              		.loc 1 999 0
 2603 001e 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 2604 0020 002A     		cmp	r2, #0
 2605 0022 32D0     		beq	.L185
1001:User/lcd/bsp_ili9341_lcd.c ****     {
 2606              		.loc 1 1001 0
 2607 0024 7E2A     		cmp	r2, #126
 2608 0026 14D8     		bhi	.L175
1003:User/lcd/bsp_ili9341_lcd.c ****       {
 2609              		.loc 1 1003 0
 2610 0028 184B     		ldr	r3, .L186
 2611 002a 1968     		ldr	r1, [r3]
 2612 002c 8B88     		ldrh	r3, [r1, #4]
 2613 002e 2344     		add	r3, r3, r4
 2614 0030 1748     		ldr	r0, .L186+4
 2615 0032 0088     		ldrh	r0, [r0]
 2616 0034 8342     		cmp	r3, r0
 2617 0036 03DD     		ble	.L176
 2618              	.LVL365:
1006:User/lcd/bsp_ili9341_lcd.c ****       }
ARM GAS  /tmp/cc7rDAuv.s 			page 67


 2619              		.loc 1 1006 0
 2620 0038 CB88     		ldrh	r3, [r1, #6]
 2621 003a 1D44     		add	r5, r5, r3
 2622              	.LVL366:
 2623 003c ADB2     		uxth	r5, r5
 2624              	.LVL367:
1005:User/lcd/bsp_ili9341_lcd.c ****         line += LCD_Currentfonts->Height;
 2625              		.loc 1 1005 0
 2626 003e 0024     		movs	r4, #0
 2627              	.LVL368:
 2628              	.L176:
1009:User/lcd/bsp_ili9341_lcd.c ****       {
 2629              		.loc 1 1009 0
 2630 0040 CB88     		ldrh	r3, [r1, #6]
 2631 0042 2B44     		add	r3, r3, r5
 2632 0044 1349     		ldr	r1, .L186+8
 2633 0046 0988     		ldrh	r1, [r1]
 2634 0048 8B42     		cmp	r3, r1
 2635 004a DEDD     		ble	.L177
1011:User/lcd/bsp_ili9341_lcd.c ****         line = ILI9341_DispWindow_Y_Star;
 2636              		.loc 1 1011 0
 2637 004c 0024     		movs	r4, #0
 2638              	.LVL369:
1012:User/lcd/bsp_ili9341_lcd.c ****       }
 2639              		.loc 1 1012 0
 2640 004e 2546     		mov	r5, r4
 2641              	.LVL370:
 2642 0050 DBE7     		b	.L177
 2643              	.LVL371:
 2644              	.L175:
1020:User/lcd/bsp_ili9341_lcd.c ****     }
1021:User/lcd/bsp_ili9341_lcd.c **** 
1022:User/lcd/bsp_ili9341_lcd.c ****     else //汉字字符
1023:User/lcd/bsp_ili9341_lcd.c ****     {
1024:User/lcd/bsp_ili9341_lcd.c ****       if ((usX - ILI9341_DispWindow_X_Star + WIDTH_CH_CHAR) > LCD_X_LENGTH)
 2645              		.loc 1 1024 0
 2646 0052 04F11003 		add	r3, r4, #16
 2647 0056 0E4A     		ldr	r2, .L186+4
 2648 0058 1288     		ldrh	r2, [r2]
 2649 005a 9342     		cmp	r3, r2
 2650 005c 02DD     		ble	.L179
 2651              	.LVL372:
1025:User/lcd/bsp_ili9341_lcd.c ****       {
1026:User/lcd/bsp_ili9341_lcd.c ****         usX = ILI9341_DispWindow_X_Star;
1027:User/lcd/bsp_ili9341_lcd.c ****         line += HEIGHT_CH_CHAR;
 2652              		.loc 1 1027 0
 2653 005e 1035     		adds	r5, r5, #16
 2654              	.LVL373:
 2655 0060 ADB2     		uxth	r5, r5
 2656              	.LVL374:
1026:User/lcd/bsp_ili9341_lcd.c ****         line += HEIGHT_CH_CHAR;
 2657              		.loc 1 1026 0
 2658 0062 0024     		movs	r4, #0
 2659              	.LVL375:
 2660              	.L179:
1028:User/lcd/bsp_ili9341_lcd.c ****       }
1029:User/lcd/bsp_ili9341_lcd.c **** 
ARM GAS  /tmp/cc7rDAuv.s 			page 68


1030:User/lcd/bsp_ili9341_lcd.c ****       if ((line - ILI9341_DispWindow_Y_Star + HEIGHT_CH_CHAR) > LCD_Y_LENGTH)
 2661              		.loc 1 1030 0
 2662 0064 05F11003 		add	r3, r5, #16
 2663 0068 0A4A     		ldr	r2, .L186+8
 2664 006a 1288     		ldrh	r2, [r2]
 2665 006c 9342     		cmp	r3, r2
 2666 006e 01DD     		ble	.L180
1031:User/lcd/bsp_ili9341_lcd.c ****       {
1032:User/lcd/bsp_ili9341_lcd.c ****         usX = ILI9341_DispWindow_X_Star;
 2667              		.loc 1 1032 0
 2668 0070 0024     		movs	r4, #0
 2669              	.LVL376:
1033:User/lcd/bsp_ili9341_lcd.c ****         line = ILI9341_DispWindow_Y_Star;
 2670              		.loc 1 1033 0
 2671 0072 2546     		mov	r5, r4
 2672              	.LVL377:
 2673              	.L180:
1034:User/lcd/bsp_ili9341_lcd.c ****       }
1035:User/lcd/bsp_ili9341_lcd.c **** 
1036:User/lcd/bsp_ili9341_lcd.c ****       usCh = *(uint16_t *)pStr;
 2674              		.loc 1 1036 0
 2675 0074 36F8022B 		ldrh	r2, [r6], #2
 2676              	.LVL378:
1037:User/lcd/bsp_ili9341_lcd.c **** 
1038:User/lcd/bsp_ili9341_lcd.c ****       usCh = (usCh << 8) + (usCh >> 8);
 2677              		.loc 1 1038 0
 2678 0078 52BA     		rev16	r2, r2
 2679              	.LVL379:
1039:User/lcd/bsp_ili9341_lcd.c **** 
1040:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_DispChar_CH(usX, line, usCh);
 2680              		.loc 1 1040 0
 2681 007a 92B2     		uxth	r2, r2
 2682 007c 2946     		mov	r1, r5
 2683 007e 2046     		mov	r0, r4
 2684 0080 FFF7FEFF 		bl	ILI9341_DispChar_CH
 2685              	.LVL380:
1041:User/lcd/bsp_ili9341_lcd.c **** 
1042:User/lcd/bsp_ili9341_lcd.c ****       usX += WIDTH_CH_CHAR;
 2686              		.loc 1 1042 0
 2687 0084 1034     		adds	r4, r4, #16
 2688              	.LVL381:
 2689 0086 A4B2     		uxth	r4, r4
 2690              	.LVL382:
 2691 0088 C9E7     		b	.L174
 2692              	.L185:
1043:User/lcd/bsp_ili9341_lcd.c **** 
1044:User/lcd/bsp_ili9341_lcd.c ****       pStr += 2; //一个汉字两个字节
1045:User/lcd/bsp_ili9341_lcd.c ****     }
1046:User/lcd/bsp_ili9341_lcd.c ****   }
1047:User/lcd/bsp_ili9341_lcd.c **** }
 2693              		.loc 1 1047 0
 2694 008a 70BD     		pop	{r4, r5, r6, pc}
 2695              	.LVL383:
 2696              	.L187:
 2697              		.align	2
 2698              	.L186:
 2699 008c 00000000 		.word	.LANCHOR5
ARM GAS  /tmp/cc7rDAuv.s 			page 69


 2700 0090 00000000 		.word	.LANCHOR1
 2701 0094 00000000 		.word	.LANCHOR2
 2702              		.cfi_endproc
 2703              	.LFE90:
 2705              		.section	.text.ILI9341_DispString_EN_CH,"ax",%progbits
 2706              		.align	1
 2707              		.global	ILI9341_DispString_EN_CH
 2708              		.syntax unified
 2709              		.thumb
 2710              		.thumb_func
 2711              		.fpu softvfp
 2713              	ILI9341_DispString_EN_CH:
 2714              	.LFB91:
1048:User/lcd/bsp_ili9341_lcd.c **** 
1049:User/lcd/bsp_ili9341_lcd.c **** /**
1050:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上显示中英文字符串
1051:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下字符的起始X坐标
1052:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下字符的起始Y坐标
1053:User/lcd/bsp_ili9341_lcd.c ****  * @param  pStr ：要显示的字符串的首地址
1054:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
1055:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
1056:User/lcd/bsp_ili9341_lcd.c ****  */
1057:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DispString_EN_CH(uint16_t usX, uint16_t usY, char *pStr)
1058:User/lcd/bsp_ili9341_lcd.c **** {
 2715              		.loc 1 1058 0
 2716              		.cfi_startproc
 2717              		@ args = 0, pretend = 0, frame = 0
 2718              		@ frame_needed = 0, uses_anonymous_args = 0
 2719              	.LVL384:
 2720 0000 70B5     		push	{r4, r5, r6, lr}
 2721              	.LCFI34:
 2722              		.cfi_def_cfa_offset 16
 2723              		.cfi_offset 4, -16
 2724              		.cfi_offset 5, -12
 2725              		.cfi_offset 6, -8
 2726              		.cfi_offset 14, -4
 2727 0002 0446     		mov	r4, r0
 2728 0004 0D46     		mov	r5, r1
 2729 0006 1646     		mov	r6, r2
1059:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usCh;
1060:User/lcd/bsp_ili9341_lcd.c **** 
1061:User/lcd/bsp_ili9341_lcd.c ****   while (*pStr != '\0')
 2730              		.loc 1 1061 0
 2731 0008 09E0     		b	.L189
 2732              	.LVL385:
 2733              	.L192:
1062:User/lcd/bsp_ili9341_lcd.c ****   {
1063:User/lcd/bsp_ili9341_lcd.c ****     if (*pStr <= 126) //英文字符
1064:User/lcd/bsp_ili9341_lcd.c ****     {
1065:User/lcd/bsp_ili9341_lcd.c ****       if ((usX - ILI9341_DispWindow_X_Star + LCD_Currentfonts->Width) > LCD_X_LENGTH)
1066:User/lcd/bsp_ili9341_lcd.c ****       {
1067:User/lcd/bsp_ili9341_lcd.c ****         usX = ILI9341_DispWindow_X_Star;
1068:User/lcd/bsp_ili9341_lcd.c ****         usY += LCD_Currentfonts->Height;
1069:User/lcd/bsp_ili9341_lcd.c ****       }
1070:User/lcd/bsp_ili9341_lcd.c **** 
1071:User/lcd/bsp_ili9341_lcd.c ****       if ((usY - ILI9341_DispWindow_Y_Star + LCD_Currentfonts->Height) > LCD_Y_LENGTH)
1072:User/lcd/bsp_ili9341_lcd.c ****       {
ARM GAS  /tmp/cc7rDAuv.s 			page 70


1073:User/lcd/bsp_ili9341_lcd.c ****         usX = ILI9341_DispWindow_X_Star;
1074:User/lcd/bsp_ili9341_lcd.c ****         usY = ILI9341_DispWindow_Y_Star;
1075:User/lcd/bsp_ili9341_lcd.c ****       }
1076:User/lcd/bsp_ili9341_lcd.c **** 
1077:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_DispChar_EN(usX, usY, *pStr);
 2734              		.loc 1 1077 0
 2735 000a 2946     		mov	r1, r5
 2736 000c 2046     		mov	r0, r4
 2737 000e FFF7FEFF 		bl	ILI9341_DispChar_EN
 2738              	.LVL386:
1078:User/lcd/bsp_ili9341_lcd.c **** 
1079:User/lcd/bsp_ili9341_lcd.c ****       usX += LCD_Currentfonts->Width;
 2739              		.loc 1 1079 0
 2740 0012 1E4B     		ldr	r3, .L201
 2741 0014 1B68     		ldr	r3, [r3]
 2742 0016 9B88     		ldrh	r3, [r3, #4]
 2743 0018 1C44     		add	r4, r4, r3
 2744              	.LVL387:
 2745 001a A4B2     		uxth	r4, r4
 2746              	.LVL388:
1080:User/lcd/bsp_ili9341_lcd.c **** 
1081:User/lcd/bsp_ili9341_lcd.c ****       pStr++;
 2747              		.loc 1 1081 0
 2748 001c 0136     		adds	r6, r6, #1
 2749              	.LVL389:
 2750              	.L189:
1061:User/lcd/bsp_ili9341_lcd.c ****   {
 2751              		.loc 1 1061 0
 2752 001e 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 2753 0020 002A     		cmp	r2, #0
 2754 0022 32D0     		beq	.L200
1063:User/lcd/bsp_ili9341_lcd.c ****     {
 2755              		.loc 1 1063 0
 2756 0024 7E2A     		cmp	r2, #126
 2757 0026 14D8     		bhi	.L190
1065:User/lcd/bsp_ili9341_lcd.c ****       {
 2758              		.loc 1 1065 0
 2759 0028 184B     		ldr	r3, .L201
 2760 002a 1968     		ldr	r1, [r3]
 2761 002c 8B88     		ldrh	r3, [r1, #4]
 2762 002e 2344     		add	r3, r3, r4
 2763 0030 1748     		ldr	r0, .L201+4
 2764 0032 0088     		ldrh	r0, [r0]
 2765 0034 8342     		cmp	r3, r0
 2766 0036 03DD     		ble	.L191
 2767              	.LVL390:
1068:User/lcd/bsp_ili9341_lcd.c ****       }
 2768              		.loc 1 1068 0
 2769 0038 CB88     		ldrh	r3, [r1, #6]
 2770 003a 1D44     		add	r5, r5, r3
 2771              	.LVL391:
 2772 003c ADB2     		uxth	r5, r5
 2773              	.LVL392:
1067:User/lcd/bsp_ili9341_lcd.c ****         usY += LCD_Currentfonts->Height;
 2774              		.loc 1 1067 0
 2775 003e 0024     		movs	r4, #0
 2776              	.LVL393:
ARM GAS  /tmp/cc7rDAuv.s 			page 71


 2777              	.L191:
1071:User/lcd/bsp_ili9341_lcd.c ****       {
 2778              		.loc 1 1071 0
 2779 0040 CB88     		ldrh	r3, [r1, #6]
 2780 0042 2B44     		add	r3, r3, r5
 2781 0044 1349     		ldr	r1, .L201+8
 2782 0046 0988     		ldrh	r1, [r1]
 2783 0048 8B42     		cmp	r3, r1
 2784 004a DEDD     		ble	.L192
1074:User/lcd/bsp_ili9341_lcd.c ****       }
 2785              		.loc 1 1074 0
 2786 004c 0025     		movs	r5, #0
 2787              	.LVL394:
1073:User/lcd/bsp_ili9341_lcd.c ****         usY = ILI9341_DispWindow_Y_Star;
 2788              		.loc 1 1073 0
 2789 004e 2C46     		mov	r4, r5
 2790              	.LVL395:
 2791 0050 DBE7     		b	.L192
 2792              	.LVL396:
 2793              	.L190:
1082:User/lcd/bsp_ili9341_lcd.c ****     }
1083:User/lcd/bsp_ili9341_lcd.c **** 
1084:User/lcd/bsp_ili9341_lcd.c ****     else //汉字字符
1085:User/lcd/bsp_ili9341_lcd.c ****     {
1086:User/lcd/bsp_ili9341_lcd.c ****       if ((usX - ILI9341_DispWindow_X_Star + WIDTH_CH_CHAR) > LCD_X_LENGTH)
 2794              		.loc 1 1086 0
 2795 0052 04F11003 		add	r3, r4, #16
 2796 0056 0E4A     		ldr	r2, .L201+4
 2797 0058 1288     		ldrh	r2, [r2]
 2798 005a 9342     		cmp	r3, r2
 2799 005c 02DD     		ble	.L194
 2800              	.LVL397:
1087:User/lcd/bsp_ili9341_lcd.c ****       {
1088:User/lcd/bsp_ili9341_lcd.c ****         usX = ILI9341_DispWindow_X_Star;
1089:User/lcd/bsp_ili9341_lcd.c ****         usY += HEIGHT_CH_CHAR;
 2801              		.loc 1 1089 0
 2802 005e 1035     		adds	r5, r5, #16
 2803              	.LVL398:
 2804 0060 ADB2     		uxth	r5, r5
 2805              	.LVL399:
1088:User/lcd/bsp_ili9341_lcd.c ****         usY += HEIGHT_CH_CHAR;
 2806              		.loc 1 1088 0
 2807 0062 0024     		movs	r4, #0
 2808              	.LVL400:
 2809              	.L194:
1090:User/lcd/bsp_ili9341_lcd.c ****       }
1091:User/lcd/bsp_ili9341_lcd.c **** 
1092:User/lcd/bsp_ili9341_lcd.c ****       if ((usY - ILI9341_DispWindow_Y_Star + HEIGHT_CH_CHAR) > LCD_Y_LENGTH)
 2810              		.loc 1 1092 0
 2811 0064 05F11003 		add	r3, r5, #16
 2812 0068 0A4A     		ldr	r2, .L201+8
 2813 006a 1288     		ldrh	r2, [r2]
 2814 006c 9342     		cmp	r3, r2
 2815 006e 01DD     		ble	.L195
1093:User/lcd/bsp_ili9341_lcd.c ****       {
1094:User/lcd/bsp_ili9341_lcd.c ****         usX = ILI9341_DispWindow_X_Star;
1095:User/lcd/bsp_ili9341_lcd.c ****         usY = ILI9341_DispWindow_Y_Star;
ARM GAS  /tmp/cc7rDAuv.s 			page 72


 2816              		.loc 1 1095 0
 2817 0070 0025     		movs	r5, #0
 2818              	.LVL401:
1094:User/lcd/bsp_ili9341_lcd.c ****         usY = ILI9341_DispWindow_Y_Star;
 2819              		.loc 1 1094 0
 2820 0072 2C46     		mov	r4, r5
 2821              	.LVL402:
 2822              	.L195:
1096:User/lcd/bsp_ili9341_lcd.c ****       }
1097:User/lcd/bsp_ili9341_lcd.c **** 
1098:User/lcd/bsp_ili9341_lcd.c ****       usCh = *(uint16_t *)pStr;
 2823              		.loc 1 1098 0
 2824 0074 36F8022B 		ldrh	r2, [r6], #2
 2825              	.LVL403:
1099:User/lcd/bsp_ili9341_lcd.c **** 
1100:User/lcd/bsp_ili9341_lcd.c ****       usCh = (usCh << 8) + (usCh >> 8);
 2826              		.loc 1 1100 0
 2827 0078 52BA     		rev16	r2, r2
 2828              	.LVL404:
1101:User/lcd/bsp_ili9341_lcd.c **** 
1102:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_DispChar_CH(usX, usY, usCh);
 2829              		.loc 1 1102 0
 2830 007a 92B2     		uxth	r2, r2
 2831 007c 2946     		mov	r1, r5
 2832 007e 2046     		mov	r0, r4
 2833 0080 FFF7FEFF 		bl	ILI9341_DispChar_CH
 2834              	.LVL405:
1103:User/lcd/bsp_ili9341_lcd.c **** 
1104:User/lcd/bsp_ili9341_lcd.c ****       usX += WIDTH_CH_CHAR;
 2835              		.loc 1 1104 0
 2836 0084 1034     		adds	r4, r4, #16
 2837              	.LVL406:
 2838 0086 A4B2     		uxth	r4, r4
 2839              	.LVL407:
 2840 0088 C9E7     		b	.L189
 2841              	.L200:
1105:User/lcd/bsp_ili9341_lcd.c **** 
1106:User/lcd/bsp_ili9341_lcd.c ****       pStr += 2; //一个汉字两个字节
1107:User/lcd/bsp_ili9341_lcd.c ****     }
1108:User/lcd/bsp_ili9341_lcd.c ****   }
1109:User/lcd/bsp_ili9341_lcd.c **** }
 2842              		.loc 1 1109 0
 2843 008a 70BD     		pop	{r4, r5, r6, pc}
 2844              	.LVL408:
 2845              	.L202:
 2846              		.align	2
 2847              	.L201:
 2848 008c 00000000 		.word	.LANCHOR5
 2849 0090 00000000 		.word	.LANCHOR1
 2850 0094 00000000 		.word	.LANCHOR2
 2851              		.cfi_endproc
 2852              	.LFE91:
 2854              		.section	.text.ILI9341_DispString_EN_CH_YDir,"ax",%progbits
 2855              		.align	1
 2856              		.global	ILI9341_DispString_EN_CH_YDir
 2857              		.syntax unified
 2858              		.thumb
ARM GAS  /tmp/cc7rDAuv.s 			page 73


 2859              		.thumb_func
 2860              		.fpu softvfp
 2862              	ILI9341_DispString_EN_CH_YDir:
 2863              	.LFB92:
1110:User/lcd/bsp_ili9341_lcd.c **** 
1111:User/lcd/bsp_ili9341_lcd.c **** /**
1112:User/lcd/bsp_ili9341_lcd.c ****  * @brief  在 ILI9341 显示器上显示中英文字符串(沿Y轴方向)
1113:User/lcd/bsp_ili9341_lcd.c ****  * @param  usX ：在特定扫描方向下字符的起始X坐标
1114:User/lcd/bsp_ili9341_lcd.c ****  * @param  usY ：在特定扫描方向下字符的起始Y坐标
1115:User/lcd/bsp_ili9341_lcd.c ****  * @param  pStr ：要显示的中英文字符串的首地址
1116:User/lcd/bsp_ili9341_lcd.c ****  * @note 可使用LCD_SetBackColor、LCD_SetTextColor、LCD_SetColors函数设置颜色
1117:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
1118:User/lcd/bsp_ili9341_lcd.c ****  */
1119:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DispString_EN_CH_YDir(uint16_t usX, uint16_t usY, char *pStr)
1120:User/lcd/bsp_ili9341_lcd.c **** {
 2864              		.loc 1 1120 0
 2865              		.cfi_startproc
 2866              		@ args = 0, pretend = 0, frame = 0
 2867              		@ frame_needed = 0, uses_anonymous_args = 0
 2868              	.LVL409:
 2869 0000 70B5     		push	{r4, r5, r6, lr}
 2870              	.LCFI35:
 2871              		.cfi_def_cfa_offset 16
 2872              		.cfi_offset 4, -16
 2873              		.cfi_offset 5, -12
 2874              		.cfi_offset 6, -8
 2875              		.cfi_offset 14, -4
 2876 0002 0546     		mov	r5, r0
 2877 0004 0C46     		mov	r4, r1
 2878 0006 1646     		mov	r6, r2
1121:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usCh;
1122:User/lcd/bsp_ili9341_lcd.c **** 
1123:User/lcd/bsp_ili9341_lcd.c ****   while (*pStr != '\0')
 2879              		.loc 1 1123 0
 2880 0008 09E0     		b	.L204
 2881              	.LVL410:
 2882              	.L207:
1124:User/lcd/bsp_ili9341_lcd.c ****   {
1125:User/lcd/bsp_ili9341_lcd.c ****     //统一使用汉字的宽高来计算换行
1126:User/lcd/bsp_ili9341_lcd.c ****     if ((usY - ILI9341_DispWindow_Y_Star + HEIGHT_CH_CHAR) > LCD_Y_LENGTH)
1127:User/lcd/bsp_ili9341_lcd.c ****     {
1128:User/lcd/bsp_ili9341_lcd.c ****       usY = ILI9341_DispWindow_Y_Star;
1129:User/lcd/bsp_ili9341_lcd.c ****       usX += WIDTH_CH_CHAR;
1130:User/lcd/bsp_ili9341_lcd.c ****     }
1131:User/lcd/bsp_ili9341_lcd.c ****     if ((usX - ILI9341_DispWindow_X_Star + WIDTH_CH_CHAR) > LCD_X_LENGTH)
1132:User/lcd/bsp_ili9341_lcd.c ****     {
1133:User/lcd/bsp_ili9341_lcd.c ****       usX = ILI9341_DispWindow_X_Star;
1134:User/lcd/bsp_ili9341_lcd.c ****       usY = ILI9341_DispWindow_Y_Star;
1135:User/lcd/bsp_ili9341_lcd.c ****     }
1136:User/lcd/bsp_ili9341_lcd.c **** 
1137:User/lcd/bsp_ili9341_lcd.c ****     //显示
1138:User/lcd/bsp_ili9341_lcd.c ****     if (*pStr <= 126) //英文字符
1139:User/lcd/bsp_ili9341_lcd.c ****     {
1140:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_DispChar_EN(usX, usY, *pStr);
1141:User/lcd/bsp_ili9341_lcd.c **** 
1142:User/lcd/bsp_ili9341_lcd.c ****       pStr++;
1143:User/lcd/bsp_ili9341_lcd.c **** 
ARM GAS  /tmp/cc7rDAuv.s 			page 74


1144:User/lcd/bsp_ili9341_lcd.c ****       usY += HEIGHT_CH_CHAR;
1145:User/lcd/bsp_ili9341_lcd.c ****     }
1146:User/lcd/bsp_ili9341_lcd.c ****     else //汉字字符
1147:User/lcd/bsp_ili9341_lcd.c ****     {
1148:User/lcd/bsp_ili9341_lcd.c ****       usCh = *(uint16_t *)pStr;
 2883              		.loc 1 1148 0
 2884 000a 36F8022B 		ldrh	r2, [r6], #2
 2885              	.LVL411:
1149:User/lcd/bsp_ili9341_lcd.c **** 
1150:User/lcd/bsp_ili9341_lcd.c ****       usCh = (usCh << 8) + (usCh >> 8);
 2886              		.loc 1 1150 0
 2887 000e 52BA     		rev16	r2, r2
 2888              	.LVL412:
1151:User/lcd/bsp_ili9341_lcd.c **** 
1152:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_DispChar_CH(usX, usY, usCh);
 2889              		.loc 1 1152 0
 2890 0010 92B2     		uxth	r2, r2
 2891 0012 2146     		mov	r1, r4
 2892 0014 2846     		mov	r0, r5
 2893 0016 FFF7FEFF 		bl	ILI9341_DispChar_CH
 2894              	.LVL413:
1153:User/lcd/bsp_ili9341_lcd.c **** 
1154:User/lcd/bsp_ili9341_lcd.c ****       usY += HEIGHT_CH_CHAR;
 2895              		.loc 1 1154 0
 2896 001a 1034     		adds	r4, r4, #16
 2897              	.LVL414:
 2898 001c A4B2     		uxth	r4, r4
 2899              	.LVL415:
 2900              	.L204:
1123:User/lcd/bsp_ili9341_lcd.c ****   {
 2901              		.loc 1 1123 0
 2902 001e 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 2903 0020 D2B1     		cbz	r2, .L212
1126:User/lcd/bsp_ili9341_lcd.c ****     {
 2904              		.loc 1 1126 0
 2905 0022 04F11003 		add	r3, r4, #16
 2906 0026 0D49     		ldr	r1, .L213
 2907 0028 0988     		ldrh	r1, [r1]
 2908 002a 8B42     		cmp	r3, r1
 2909 002c 02DD     		ble	.L205
 2910              	.LVL416:
1129:User/lcd/bsp_ili9341_lcd.c ****     }
 2911              		.loc 1 1129 0
 2912 002e 1035     		adds	r5, r5, #16
 2913              	.LVL417:
 2914 0030 ADB2     		uxth	r5, r5
 2915              	.LVL418:
1128:User/lcd/bsp_ili9341_lcd.c ****       usX += WIDTH_CH_CHAR;
 2916              		.loc 1 1128 0
 2917 0032 0024     		movs	r4, #0
 2918              	.LVL419:
 2919              	.L205:
1131:User/lcd/bsp_ili9341_lcd.c ****     {
 2920              		.loc 1 1131 0
 2921 0034 05F11003 		add	r3, r5, #16
 2922 0038 0949     		ldr	r1, .L213+4
 2923 003a 0988     		ldrh	r1, [r1]
ARM GAS  /tmp/cc7rDAuv.s 			page 75


 2924 003c 8B42     		cmp	r3, r1
 2925 003e 01DD     		ble	.L206
1134:User/lcd/bsp_ili9341_lcd.c ****     }
 2926              		.loc 1 1134 0
 2927 0040 0024     		movs	r4, #0
 2928              	.LVL420:
1133:User/lcd/bsp_ili9341_lcd.c ****       usY = ILI9341_DispWindow_Y_Star;
 2929              		.loc 1 1133 0
 2930 0042 2546     		mov	r5, r4
 2931              	.LVL421:
 2932              	.L206:
1138:User/lcd/bsp_ili9341_lcd.c ****     {
 2933              		.loc 1 1138 0
 2934 0044 7E2A     		cmp	r2, #126
 2935 0046 E0D8     		bhi	.L207
1140:User/lcd/bsp_ili9341_lcd.c **** 
 2936              		.loc 1 1140 0
 2937 0048 2146     		mov	r1, r4
 2938 004a 2846     		mov	r0, r5
 2939 004c FFF7FEFF 		bl	ILI9341_DispChar_EN
 2940              	.LVL422:
1142:User/lcd/bsp_ili9341_lcd.c **** 
 2941              		.loc 1 1142 0
 2942 0050 0136     		adds	r6, r6, #1
 2943              	.LVL423:
1144:User/lcd/bsp_ili9341_lcd.c ****     }
 2944              		.loc 1 1144 0
 2945 0052 1034     		adds	r4, r4, #16
 2946              	.LVL424:
 2947 0054 A4B2     		uxth	r4, r4
 2948              	.LVL425:
 2949 0056 E2E7     		b	.L204
 2950              	.L212:
1155:User/lcd/bsp_ili9341_lcd.c **** 
1156:User/lcd/bsp_ili9341_lcd.c ****       pStr += 2; //一个汉字两个字节
1157:User/lcd/bsp_ili9341_lcd.c ****     }
1158:User/lcd/bsp_ili9341_lcd.c ****   }
1159:User/lcd/bsp_ili9341_lcd.c **** }
 2951              		.loc 1 1159 0
 2952 0058 70BD     		pop	{r4, r5, r6, pc}
 2953              	.LVL426:
 2954              	.L214:
 2955 005a 00BF     		.align	2
 2956              	.L213:
 2957 005c 00000000 		.word	.LANCHOR2
 2958 0060 00000000 		.word	.LANCHOR1
 2959              		.cfi_endproc
 2960              	.LFE92:
 2962              		.section	.text.ILI9341_zoomChar,"ax",%progbits
 2963              		.align	1
 2964              		.global	ILI9341_zoomChar
 2965              		.syntax unified
 2966              		.thumb
 2967              		.thumb_func
 2968              		.fpu softvfp
 2970              	ILI9341_zoomChar:
 2971              	.LFB93:
ARM GAS  /tmp/cc7rDAuv.s 			page 76


1160:User/lcd/bsp_ili9341_lcd.c **** 
1161:User/lcd/bsp_ili9341_lcd.c **** /***********************缩放字体****************************/
1162:User/lcd/bsp_ili9341_lcd.c **** #define ZOOMMAXBUFF 16384
1163:User/lcd/bsp_ili9341_lcd.c **** uint8_t zoomBuff[ZOOMMAXBUFF] = {0}; //用于缩放的缓存，最大支持到128*128
1164:User/lcd/bsp_ili9341_lcd.c **** uint8_t zoomTempBuff[1024] = {0};
1165:User/lcd/bsp_ili9341_lcd.c **** 
1166:User/lcd/bsp_ili9341_lcd.c **** /**
1167:User/lcd/bsp_ili9341_lcd.c ****  * @brief  缩放字模，缩放后的字模由1个像素点由8个数据位来表示
1168:User/lcd/bsp_ili9341_lcd.c ****                                                                                 0x01表示笔迹，0x00
1169:User/lcd/bsp_ili9341_lcd.c ****  * @param  in_width ：原始字符宽度
1170:User/lcd/bsp_ili9341_lcd.c ****  * @param  in_heig ：原始字符高度
1171:User/lcd/bsp_ili9341_lcd.c ****  * @param  out_width ：缩放后的字符宽度
1172:User/lcd/bsp_ili9341_lcd.c ****  * @param  out_heig：缩放后的字符高度
1173:User/lcd/bsp_ili9341_lcd.c ****  * @param  in_ptr ：字库输入指针	注意：1pixel 1bit
1174:User/lcd/bsp_ili9341_lcd.c ****  * @param  out_ptr ：缩放后的字符输出指针 注意: 1pixel 8bit
1175:User/lcd/bsp_ili9341_lcd.c ****  *		out_ptr实际上没有正常输出，改成了直接输出到全局指针zoomBuff中
1176:User/lcd/bsp_ili9341_lcd.c ****  * @param  en_cn ：0为英文，1为中文
1177:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
1178:User/lcd/bsp_ili9341_lcd.c ****  */
1179:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_zoomChar(uint16_t in_width,  //原始字符宽度
1180:User/lcd/bsp_ili9341_lcd.c ****                       uint16_t in_heig,   //原始字符高度
1181:User/lcd/bsp_ili9341_lcd.c ****                       uint16_t out_width, //缩放后的字符宽度
1182:User/lcd/bsp_ili9341_lcd.c ****                       uint16_t out_heig,  //缩放后的字符高度
1183:User/lcd/bsp_ili9341_lcd.c ****                       uint8_t *in_ptr,    //字库输入指针	注意：1pixel 1bit
1184:User/lcd/bsp_ili9341_lcd.c ****                       uint8_t *out_ptr,   //缩放后的字符输出指针 注意: 1pixel 8bit
1185:User/lcd/bsp_ili9341_lcd.c ****                       uint8_t en_cn)      // 0为英文，1为中文
1186:User/lcd/bsp_ili9341_lcd.c **** {
 2972              		.loc 1 1186 0
 2973              		.cfi_startproc
 2974              		@ args = 12, pretend = 0, frame = 0
 2975              		@ frame_needed = 0, uses_anonymous_args = 0
 2976              	.LVL427:
 2977 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2978              	.LCFI36:
 2979              		.cfi_def_cfa_offset 32
 2980              		.cfi_offset 4, -32
 2981              		.cfi_offset 5, -28
 2982              		.cfi_offset 6, -24
 2983              		.cfi_offset 7, -20
 2984              		.cfi_offset 8, -16
 2985              		.cfi_offset 9, -12
 2986              		.cfi_offset 10, -8
 2987              		.cfi_offset 14, -4
 2988 0004 DDF820E0 		ldr	lr, [sp, #32]
 2989 0008 9DF82840 		ldrb	r4, [sp, #40]	@ zero_extendqisi2
1187:User/lcd/bsp_ili9341_lcd.c ****   uint8_t *pts, *ots;
1188:User/lcd/bsp_ili9341_lcd.c ****   //根据源字模及目标字模大小，设定运算比例因子，左移16是为了把浮点运算转成定点运算
1189:User/lcd/bsp_ili9341_lcd.c ****   unsigned int xrIntFloat_16 = (in_width << 16) / out_width + 1;
 2990              		.loc 1 1189 0
 2991 000c 0604     		lsls	r6, r0, #16
 2992 000e 96FBF2F6 		sdiv	r6, r6, r2
 2993              	.LVL428:
1190:User/lcd/bsp_ili9341_lcd.c ****   unsigned int yrIntFloat_16 = (in_heig << 16) / out_heig + 1;
 2994              		.loc 1 1190 0
 2995 0012 0F04     		lsls	r7, r1, #16
 2996 0014 97FBF3F7 		sdiv	r7, r7, r3
 2997              	.LVL429:
ARM GAS  /tmp/cc7rDAuv.s 			page 77


1191:User/lcd/bsp_ili9341_lcd.c **** 
1192:User/lcd/bsp_ili9341_lcd.c ****   unsigned int srcy_16 = 0;
1193:User/lcd/bsp_ili9341_lcd.c ****   unsigned int y, x;
1194:User/lcd/bsp_ili9341_lcd.c ****   uint8_t *pSrcLine;
1195:User/lcd/bsp_ili9341_lcd.c **** 
1196:User/lcd/bsp_ili9341_lcd.c ****   uint16_t byteCount, bitCount;
1197:User/lcd/bsp_ili9341_lcd.c **** 
1198:User/lcd/bsp_ili9341_lcd.c ****   //检查参数是否合法
1199:User/lcd/bsp_ili9341_lcd.c ****   if (in_width >= 32)
 2998              		.loc 1 1199 0
 2999 0018 1F28     		cmp	r0, #31
 3000 001a 79D8     		bhi	.L215
 3001 001c 0136     		adds	r6, r6, #1
 3002              	.LVL430:
 3003 001e 0137     		adds	r7, r7, #1
 3004              	.LVL431:
1200:User/lcd/bsp_ili9341_lcd.c ****     return; //字库不允许超过32像素
1201:User/lcd/bsp_ili9341_lcd.c ****   if (in_width * in_heig == 0)
 3005              		.loc 1 1201 0
 3006 0020 01FB00F1 		mul	r1, r1, r0
 3007              	.LVL432:
 3008 0024 0029     		cmp	r1, #0
 3009 0026 73D0     		beq	.L215
1202:User/lcd/bsp_ili9341_lcd.c ****     return;
1203:User/lcd/bsp_ili9341_lcd.c ****   if (in_width * in_heig >= 1024)
 3010              		.loc 1 1203 0
 3011 0028 B1F5806F 		cmp	r1, #1024
 3012 002c 70DA     		bge	.L215
1204:User/lcd/bsp_ili9341_lcd.c ****     return; //限制输入最大 32*32
1205:User/lcd/bsp_ili9341_lcd.c **** 
1206:User/lcd/bsp_ili9341_lcd.c ****   if (out_width * out_heig == 0)
 3013              		.loc 1 1206 0
 3014 002e 03FB02F5 		mul	r5, r3, r2
 3015 0032 002D     		cmp	r5, #0
 3016 0034 6CD0     		beq	.L215
1207:User/lcd/bsp_ili9341_lcd.c ****     return;
1208:User/lcd/bsp_ili9341_lcd.c ****   if (out_width * out_heig >= ZOOMMAXBUFF)
 3017              		.loc 1 1208 0
 3018 0036 B5F5804F 		cmp	r5, #16384
 3019 003a 69DA     		bge	.L215
 3020              	.LVL433:
1209:User/lcd/bsp_ili9341_lcd.c ****     return; //限制最大缩放 128*128
1210:User/lcd/bsp_ili9341_lcd.c ****   pts = (uint8_t *)&zoomTempBuff;
1211:User/lcd/bsp_ili9341_lcd.c **** 
1212:User/lcd/bsp_ili9341_lcd.c ****   //为方便运算，字库的数据由1 pixel/1bit 映射到1pixel/8bit
1213:User/lcd/bsp_ili9341_lcd.c ****   // 0x01表示笔迹，0x00表示空白区
1214:User/lcd/bsp_ili9341_lcd.c ****   if (en_cn == 0x00) //英文
 3021              		.loc 1 1214 0
 3022 003c 14B3     		cbz	r4, .L230
 3023 003e 4FF00008 		mov	r8, #0
 3024 0042 DFF8D0C0 		ldr	ip, .L236
 3025 0046 39E0     		b	.L218
 3026              	.LVL434:
 3027              	.L219:
1215:User/lcd/bsp_ili9341_lcd.c ****   {
1216:User/lcd/bsp_ili9341_lcd.c ****     //英文和中文字库上下边界不对，可在此处调整。需要注意tempBuff防止溢出
1217:User/lcd/bsp_ili9341_lcd.c ****     for (byteCount = 0; byteCount < in_heig * in_width / 8; byteCount++)
ARM GAS  /tmp/cc7rDAuv.s 			page 78


1218:User/lcd/bsp_ili9341_lcd.c ****     {
1219:User/lcd/bsp_ili9341_lcd.c ****       for (bitCount = 0; bitCount < 8; bitCount++)
1220:User/lcd/bsp_ili9341_lcd.c ****       {
1221:User/lcd/bsp_ili9341_lcd.c ****         //把源字模数据由位映射到字节
1222:User/lcd/bsp_ili9341_lcd.c ****         // in_ptr里bitX为1，则pts里整个字节值为1
1223:User/lcd/bsp_ili9341_lcd.c ****         // in_ptr里bitX为0，则pts里整个字节值为0
1224:User/lcd/bsp_ili9341_lcd.c ****         *pts++ = (in_ptr[byteCount] & (0x80 >> bitCount)) ? 1 : 0;
 3028              		.loc 1 1224 0 discriminator 3
 3029 0048 1EF80890 		ldrb	r9, [lr, r8]	@ zero_extendqisi2
 3030 004c 8025     		movs	r5, #128
 3031 004e 2541     		asrs	r5, r5, r4
 3032 0050 19EA050F 		tst	r9, r5
 3033 0054 14BF     		ite	ne
 3034 0056 0125     		movne	r5, #1
 3035 0058 0025     		moveq	r5, #0
 3036 005a 8CF80050 		strb	r5, [ip]
1219:User/lcd/bsp_ili9341_lcd.c ****       {
 3037              		.loc 1 1219 0 discriminator 3
 3038 005e 0134     		adds	r4, r4, #1
 3039              	.LVL435:
 3040 0060 A4B2     		uxth	r4, r4
 3041              	.LVL436:
 3042              		.loc 1 1224 0 discriminator 3
 3043 0062 0CF1010C 		add	ip, ip, #1
 3044              	.LVL437:
 3045              	.L221:
1219:User/lcd/bsp_ili9341_lcd.c ****       {
 3046              		.loc 1 1219 0 discriminator 1
 3047 0066 072C     		cmp	r4, #7
 3048 0068 EED9     		bls	.L219
1217:User/lcd/bsp_ili9341_lcd.c ****     {
 3049              		.loc 1 1217 0 discriminator 2
 3050 006a 08F10108 		add	r8, r8, #1
 3051              	.LVL438:
 3052 006e 1FFA88F8 		uxth	r8, r8
 3053              	.LVL439:
 3054              	.L217:
1217:User/lcd/bsp_ili9341_lcd.c ****     {
 3055              		.loc 1 1217 0 is_stmt 0 discriminator 1
 3056 0072 4546     		mov	r5, r8
 3057 0074 0C46     		mov	r4, r1
 3058 0076 0029     		cmp	r1, #0
 3059 0078 09DB     		blt	.L234
 3060              	.L220:
 3061 007a B5EBE40F 		cmp	r5, r4, asr #3
 3062 007e 28DA     		bge	.L222
 3063 0080 0024     		movs	r4, #0
 3064 0082 F0E7     		b	.L221
 3065              	.LVL440:
 3066              	.L230:
 3067 0084 4FF00008 		mov	r8, #0
 3068 0088 DFF888C0 		ldr	ip, .L236
 3069 008c F1E7     		b	.L217
 3070              	.LVL441:
 3071              	.L234:
 3072 008e CC1D     		adds	r4, r1, #7
 3073 0090 F3E7     		b	.L220
ARM GAS  /tmp/cc7rDAuv.s 			page 79


 3074              	.LVL442:
 3075              	.L223:
1225:User/lcd/bsp_ili9341_lcd.c ****       }
1226:User/lcd/bsp_ili9341_lcd.c ****     }
1227:User/lcd/bsp_ili9341_lcd.c ****   }
1228:User/lcd/bsp_ili9341_lcd.c ****   else //中文
1229:User/lcd/bsp_ili9341_lcd.c ****   {
1230:User/lcd/bsp_ili9341_lcd.c ****     for (byteCount = 0; byteCount < in_heig * in_width / 8; byteCount++)
1231:User/lcd/bsp_ili9341_lcd.c ****     {
1232:User/lcd/bsp_ili9341_lcd.c ****       for (bitCount = 0; bitCount < 8; bitCount++)
1233:User/lcd/bsp_ili9341_lcd.c ****       {
1234:User/lcd/bsp_ili9341_lcd.c ****         //把源字模数据由位映射到字节
1235:User/lcd/bsp_ili9341_lcd.c ****         // in_ptr里bitX为1，则pts里整个字节值为1
1236:User/lcd/bsp_ili9341_lcd.c ****         // in_ptr里bitX为0，则pts里整个字节值为0
1237:User/lcd/bsp_ili9341_lcd.c ****         *pts++ = (in_ptr[byteCount] & (0x80 >> bitCount)) ? 1 : 0;
 3076              		.loc 1 1237 0 is_stmt 1 discriminator 3
 3077 0092 1EF80890 		ldrb	r9, [lr, r8]	@ zero_extendqisi2
 3078 0096 8025     		movs	r5, #128
 3079 0098 2541     		asrs	r5, r5, r4
 3080 009a 19EA050F 		tst	r9, r5
 3081 009e 14BF     		ite	ne
 3082 00a0 0125     		movne	r5, #1
 3083 00a2 0025     		moveq	r5, #0
 3084 00a4 8CF80050 		strb	r5, [ip]
1232:User/lcd/bsp_ili9341_lcd.c ****       {
 3085              		.loc 1 1232 0 discriminator 3
 3086 00a8 0134     		adds	r4, r4, #1
 3087              	.LVL443:
 3088 00aa A4B2     		uxth	r4, r4
 3089              	.LVL444:
 3090              		.loc 1 1237 0 discriminator 3
 3091 00ac 0CF1010C 		add	ip, ip, #1
 3092              	.LVL445:
 3093              	.L225:
1232:User/lcd/bsp_ili9341_lcd.c ****       {
 3094              		.loc 1 1232 0 discriminator 1
 3095 00b0 072C     		cmp	r4, #7
 3096 00b2 EED9     		bls	.L223
1230:User/lcd/bsp_ili9341_lcd.c ****     {
 3097              		.loc 1 1230 0 discriminator 2
 3098 00b4 08F10108 		add	r8, r8, #1
 3099              	.LVL446:
 3100 00b8 1FFA88F8 		uxth	r8, r8
 3101              	.LVL447:
 3102              	.L218:
1230:User/lcd/bsp_ili9341_lcd.c ****     {
 3103              		.loc 1 1230 0 is_stmt 0 discriminator 1
 3104 00bc 4546     		mov	r5, r8
 3105 00be 0C46     		mov	r4, r1
 3106 00c0 0029     		cmp	r1, #0
 3107 00c2 04DB     		blt	.L235
 3108              	.L224:
 3109 00c4 B5EBE40F 		cmp	r5, r4, asr #3
 3110 00c8 03DA     		bge	.L222
 3111 00ca 0024     		movs	r4, #0
 3112 00cc F0E7     		b	.L225
 3113              	.L235:
ARM GAS  /tmp/cc7rDAuv.s 			page 80


 3114 00ce CC1D     		adds	r4, r1, #7
 3115 00d0 F8E7     		b	.L224
 3116              	.L222:
 3117              	.LBB20:
1238:User/lcd/bsp_ili9341_lcd.c ****       }
1239:User/lcd/bsp_ili9341_lcd.c ****     }
1240:User/lcd/bsp_ili9341_lcd.c ****   }
1241:User/lcd/bsp_ili9341_lcd.c **** 
1242:User/lcd/bsp_ili9341_lcd.c ****   // zoom过程
1243:User/lcd/bsp_ili9341_lcd.c ****   pts = (uint8_t *)&zoomTempBuff; //映射后的源数据指针
1244:User/lcd/bsp_ili9341_lcd.c ****   ots = (uint8_t *)&zoomBuff;     //输出数据的指针
1245:User/lcd/bsp_ili9341_lcd.c ****   for (y = 0; y < out_heig; y++)  /*行遍历*/
1246:User/lcd/bsp_ili9341_lcd.c ****   {
1247:User/lcd/bsp_ili9341_lcd.c ****     unsigned int srcx_16 = 0;
1248:User/lcd/bsp_ili9341_lcd.c ****     pSrcLine = pts + in_width * (srcy_16 >> 16);
1249:User/lcd/bsp_ili9341_lcd.c ****     for (x = 0; x < out_width; x++) /*行内像素遍历*/
 3118              		.loc 1 1249 0 is_stmt 1 discriminator 1
 3119 00d2 4FF00008 		mov	r8, #0
 3120              	.LVL448:
 3121 00d6 C146     		mov	r9, r8
 3122 00d8 DFF83CC0 		ldr	ip, .L236+4
 3123              	.LVL449:
 3124 00dc 0FE0     		b	.L226
 3125              	.LVL450:
 3126              	.L228:
1250:User/lcd/bsp_ili9341_lcd.c ****     {
1251:User/lcd/bsp_ili9341_lcd.c ****       ots[x] = pSrcLine[srcx_16 >> 16]; //把源字模数据复制到目标指针中
 3127              		.loc 1 1251 0 discriminator 3
 3128 00de 4FEA154A 		lsr	r10, r5, #16
 3129 00e2 0C4C     		ldr	r4, .L236
 3130 00e4 7444     		add	r4, r4, lr
 3131 00e6 14F80A40 		ldrb	r4, [r4, r10]	@ zero_extendqisi2
 3132 00ea 0CF80140 		strb	r4, [ip, r1]
1252:User/lcd/bsp_ili9341_lcd.c ****       srcx_16 += xrIntFloat_16;         //按比例偏移源像素点
 3133              		.loc 1 1252 0 discriminator 3
 3134 00ee 3544     		add	r5, r5, r6
 3135              	.LVL451:
1249:User/lcd/bsp_ili9341_lcd.c ****     {
 3136              		.loc 1 1249 0 discriminator 3
 3137 00f0 0131     		adds	r1, r1, #1
 3138              	.LVL452:
 3139              	.L227:
1249:User/lcd/bsp_ili9341_lcd.c ****     {
 3140              		.loc 1 1249 0 is_stmt 0 discriminator 1
 3141 00f2 9142     		cmp	r1, r2
 3142 00f4 F3D3     		bcc	.L228
1253:User/lcd/bsp_ili9341_lcd.c ****     }
1254:User/lcd/bsp_ili9341_lcd.c ****     srcy_16 += yrIntFloat_16; //按比例偏移源像素点
 3143              		.loc 1 1254 0 is_stmt 1 discriminator 2
 3144 00f6 B944     		add	r9, r9, r7
 3145              	.LVL453:
1255:User/lcd/bsp_ili9341_lcd.c ****     ots += out_width;
 3146              		.loc 1 1255 0 discriminator 2
 3147 00f8 9444     		add	ip, ip, r2
 3148              	.LVL454:
 3149              	.LBE20:
1245:User/lcd/bsp_ili9341_lcd.c ****   {
ARM GAS  /tmp/cc7rDAuv.s 			page 81


 3150              		.loc 1 1245 0 discriminator 2
 3151 00fa 08F10108 		add	r8, r8, #1
 3152              	.LVL455:
 3153              	.L226:
1245:User/lcd/bsp_ili9341_lcd.c ****   {
 3154              		.loc 1 1245 0 is_stmt 0 discriminator 1
 3155 00fe 9845     		cmp	r8, r3
 3156 0100 06D2     		bcs	.L215
 3157              	.LVL456:
 3158              	.LBB21:
1248:User/lcd/bsp_ili9341_lcd.c ****     for (x = 0; x < out_width; x++) /*行内像素遍历*/
 3159              		.loc 1 1248 0 is_stmt 1
 3160 0102 4FEA194E 		lsr	lr, r9, #16
 3161 0106 0EFB00FE 		mul	lr, lr, r0
 3162              	.LVL457:
1247:User/lcd/bsp_ili9341_lcd.c ****     pSrcLine = pts + in_width * (srcy_16 >> 16);
 3163              		.loc 1 1247 0
 3164 010a 0025     		movs	r5, #0
1249:User/lcd/bsp_ili9341_lcd.c ****     {
 3165              		.loc 1 1249 0
 3166 010c 2946     		mov	r1, r5
 3167 010e F0E7     		b	.L227
 3168              	.LVL458:
 3169              	.L215:
 3170 0110 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3171              	.LVL459:
 3172              	.L237:
 3173              		.align	2
 3174              	.L236:
 3175 0114 00000000 		.word	.LANCHOR6
 3176 0118 00000000 		.word	.LANCHOR7
 3177              	.LBE21:
 3178              		.cfi_endproc
 3179              	.LFE93:
 3181              		.section	.text.ILI9341_DrawChar_Ex,"ax",%progbits
 3182              		.align	1
 3183              		.global	ILI9341_DrawChar_Ex
 3184              		.syntax unified
 3185              		.thumb
 3186              		.thumb_func
 3187              		.fpu softvfp
 3189              	ILI9341_DrawChar_Ex:
 3190              	.LFB94:
1256:User/lcd/bsp_ili9341_lcd.c ****   }
1257:User/lcd/bsp_ili9341_lcd.c ****   /*！！！缩放后的字模数据直接存储到全局指针zoomBuff里了*/
1258:User/lcd/bsp_ili9341_lcd.c ****   out_ptr = (uint8_t *)&zoomBuff; // out_ptr没有正确传出，后面调用直接改成了全局变量指针！
1259:User/lcd/bsp_ili9341_lcd.c **** 
1260:User/lcd/bsp_ili9341_lcd.c ****   /*实际中如果使用out_ptr不需要下面这一句！！！
1261:User/lcd/bsp_ili9341_lcd.c ****           只是因为out_ptr没有使用，会导致warning。强迫症*/
1262:User/lcd/bsp_ili9341_lcd.c ****   out_ptr++;
1263:User/lcd/bsp_ili9341_lcd.c **** }
1264:User/lcd/bsp_ili9341_lcd.c **** 
1265:User/lcd/bsp_ili9341_lcd.c **** /**
1266:User/lcd/bsp_ili9341_lcd.c ****  * @brief  利用缩放后的字模显示字符
1267:User/lcd/bsp_ili9341_lcd.c ****  * @param  Xpos ：字符显示位置x
1268:User/lcd/bsp_ili9341_lcd.c ****  * @param  Ypos ：字符显示位置y
1269:User/lcd/bsp_ili9341_lcd.c ****  * @param  Font_width ：字符宽度
ARM GAS  /tmp/cc7rDAuv.s 			page 82


1270:User/lcd/bsp_ili9341_lcd.c ****  * @param  Font_Heig：字符高度
1271:User/lcd/bsp_ili9341_lcd.c ****  * @param  c ：要显示的字模数据
1272:User/lcd/bsp_ili9341_lcd.c ****  * @param  DrawModel ：是否反色显示
1273:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
1274:User/lcd/bsp_ili9341_lcd.c ****  */
1275:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DrawChar_Ex(uint16_t usX,         //字符显示位置x
1276:User/lcd/bsp_ili9341_lcd.c ****                          uint16_t usY,         //字符显示位置y
1277:User/lcd/bsp_ili9341_lcd.c ****                          uint16_t Font_width,  //字符宽度
1278:User/lcd/bsp_ili9341_lcd.c ****                          uint16_t Font_Height, //字符高度
1279:User/lcd/bsp_ili9341_lcd.c ****                          uint8_t *c,           //字模数据
1280:User/lcd/bsp_ili9341_lcd.c ****                          uint16_t DrawModel)   //是否反色显示
1281:User/lcd/bsp_ili9341_lcd.c **** {
 3191              		.loc 1 1281 0
 3192              		.cfi_startproc
 3193              		@ args = 8, pretend = 0, frame = 0
 3194              		@ frame_needed = 0, uses_anonymous_args = 0
 3195              	.LVL460:
 3196 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3197              	.LCFI37:
 3198              		.cfi_def_cfa_offset 32
 3199              		.cfi_offset 4, -32
 3200              		.cfi_offset 5, -28
 3201              		.cfi_offset 6, -24
 3202              		.cfi_offset 7, -20
 3203              		.cfi_offset 8, -16
 3204              		.cfi_offset 9, -12
 3205              		.cfi_offset 10, -8
 3206              		.cfi_offset 14, -4
 3207 0004 1746     		mov	r7, r2
 3208 0006 9A46     		mov	r10, r3
 3209 0008 089D     		ldr	r5, [sp, #32]
 3210 000a BDF82480 		ldrh	r8, [sp, #36]
 3211              	.LVL461:
1282:User/lcd/bsp_ili9341_lcd.c ****   uint32_t index = 0, counter = 0;
1283:User/lcd/bsp_ili9341_lcd.c **** 
1284:User/lcd/bsp_ili9341_lcd.c ****   //设置显示窗口
1285:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_OpenWindow(usX, usY, Font_width, Font_Height);
 3212              		.loc 1 1285 0
 3213 000e FFF7FEFF 		bl	ILI9341_OpenWindow
 3214              	.LVL462:
1286:User/lcd/bsp_ili9341_lcd.c **** 
1287:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Write_Cmd(CMD_SetPixel);
 3215              		.loc 1 1287 0
 3216 0012 2C20     		movs	r0, #44
 3217 0014 FFF7FEFF 		bl	ILI9341_Write_Cmd
 3218              	.LVL463:
1288:User/lcd/bsp_ili9341_lcd.c **** 
1289:User/lcd/bsp_ili9341_lcd.c ****   //按字节读取字模数据
1290:User/lcd/bsp_ili9341_lcd.c ****   //由于前面直接设置了显示窗口，显示数据会自动换行
1291:User/lcd/bsp_ili9341_lcd.c ****   for (index = 0; index < Font_Height; index++)
 3219              		.loc 1 1291 0
 3220 0018 4FF00009 		mov	r9, #0
 3221 001c 12E0     		b	.L239
 3222              	.LVL464:
 3223              	.L247:
1292:User/lcd/bsp_ili9341_lcd.c ****   {
1293:User/lcd/bsp_ili9341_lcd.c ****     //一位一位处理要显示的颜色
ARM GAS  /tmp/cc7rDAuv.s 			page 83


1294:User/lcd/bsp_ili9341_lcd.c ****     for (counter = 0; counter < Font_width; counter++)
1295:User/lcd/bsp_ili9341_lcd.c ****     {
1296:User/lcd/bsp_ili9341_lcd.c ****       //缩放后的字模数据，以一个字节表示一个像素位
1297:User/lcd/bsp_ili9341_lcd.c ****       //整个字节值为1表示该像素为笔迹
1298:User/lcd/bsp_ili9341_lcd.c ****       //整个字节值为0表示该像素为背景
1299:User/lcd/bsp_ili9341_lcd.c ****       if (*c++ == DrawModel)
1300:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_Write_Data(CurrentBackColor);
 3224              		.loc 1 1300 0
 3225 001e 0C4B     		ldr	r3, .L249
 3226 0020 1888     		ldrh	r0, [r3]
 3227 0022 FFF7FEFF 		bl	ILI9341_Write_Data
 3228              	.LVL465:
 3229              	.L241:
1294:User/lcd/bsp_ili9341_lcd.c ****     {
 3230              		.loc 1 1294 0 discriminator 2
 3231 0026 0134     		adds	r4, r4, #1
 3232              	.LVL466:
1299:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_Write_Data(CurrentBackColor);
 3233              		.loc 1 1299 0 discriminator 2
 3234 0028 3546     		mov	r5, r6
 3235              	.LVL467:
 3236              	.L243:
1294:User/lcd/bsp_ili9341_lcd.c ****     {
 3237              		.loc 1 1294 0 discriminator 1
 3238 002a BC42     		cmp	r4, r7
 3239 002c 08D2     		bcs	.L246
1299:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_Write_Data(CurrentBackColor);
 3240              		.loc 1 1299 0
 3241 002e 6E1C     		adds	r6, r5, #1
 3242              	.LVL468:
 3243 0030 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 3244 0032 4345     		cmp	r3, r8
 3245 0034 F3D0     		beq	.L247
1301:User/lcd/bsp_ili9341_lcd.c ****       else
1302:User/lcd/bsp_ili9341_lcd.c ****         ILI9341_Write_Data(CurrentTextColor);
 3246              		.loc 1 1302 0
 3247 0036 074B     		ldr	r3, .L249+4
 3248 0038 1888     		ldrh	r0, [r3]
 3249 003a FFF7FEFF 		bl	ILI9341_Write_Data
 3250              	.LVL469:
 3251 003e F2E7     		b	.L241
 3252              	.LVL470:
 3253              	.L246:
1291:User/lcd/bsp_ili9341_lcd.c ****   {
 3254              		.loc 1 1291 0 discriminator 2
 3255 0040 09F10109 		add	r9, r9, #1
 3256              	.LVL471:
 3257              	.L239:
1291:User/lcd/bsp_ili9341_lcd.c ****   {
 3258              		.loc 1 1291 0 is_stmt 0 discriminator 1
 3259 0044 D145     		cmp	r9, r10
 3260 0046 01D2     		bcs	.L248
 3261 0048 0024     		movs	r4, #0
 3262 004a EEE7     		b	.L243
 3263              	.L248:
1303:User/lcd/bsp_ili9341_lcd.c ****     }
1304:User/lcd/bsp_ili9341_lcd.c ****   }
ARM GAS  /tmp/cc7rDAuv.s 			page 84


1305:User/lcd/bsp_ili9341_lcd.c **** }
 3264              		.loc 1 1305 0 is_stmt 1
 3265 004c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3266              	.LVL472:
 3267              	.L250:
 3268              		.align	2
 3269              	.L249:
 3270 0050 00000000 		.word	.LANCHOR3
 3271 0054 00000000 		.word	.LANCHOR4
 3272              		.cfi_endproc
 3273              	.LFE94:
 3275              		.section	.text.ILI9341_DisplayStringEx,"ax",%progbits
 3276              		.align	1
 3277              		.global	ILI9341_DisplayStringEx
 3278              		.syntax unified
 3279              		.thumb
 3280              		.thumb_func
 3281              		.fpu softvfp
 3283              	ILI9341_DisplayStringEx:
 3284              	.LFB95:
1306:User/lcd/bsp_ili9341_lcd.c **** 
1307:User/lcd/bsp_ili9341_lcd.c **** /**
1308:User/lcd/bsp_ili9341_lcd.c ****  * @brief  利用缩放后的字模显示字符串
1309:User/lcd/bsp_ili9341_lcd.c ****  * @param  Xpos ：字符显示位置x
1310:User/lcd/bsp_ili9341_lcd.c ****  * @param  Ypos ：字符显示位置y
1311:User/lcd/bsp_ili9341_lcd.c ****  * @param  Font_width ：字符宽度，英文字符在此基础上/2。注意为偶数
1312:User/lcd/bsp_ili9341_lcd.c ****  * @param  Font_Heig：字符高度，注意为偶数
1313:User/lcd/bsp_ili9341_lcd.c ****  * @param  c ：要显示的字符串
1314:User/lcd/bsp_ili9341_lcd.c ****  * @param  DrawModel ：是否反色显示
1315:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
1316:User/lcd/bsp_ili9341_lcd.c ****  */
1317:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DisplayStringEx(uint16_t x,          //字符显示位置x
1318:User/lcd/bsp_ili9341_lcd.c ****                              uint16_t y,          //字符显示位置y
1319:User/lcd/bsp_ili9341_lcd.c ****                              uint16_t Font_width, //要显示的字体宽度，英文字符在此基础上/2。注意为
1320:User/lcd/bsp_ili9341_lcd.c ****                              uint16_t Font_Height, //要显示的字体高度，注意为偶数
1321:User/lcd/bsp_ili9341_lcd.c ****                              uint8_t *ptr,         //显示的字符内容
1322:User/lcd/bsp_ili9341_lcd.c ****                              uint16_t DrawModel)   //是否反色显示
1323:User/lcd/bsp_ili9341_lcd.c **** 
1324:User/lcd/bsp_ili9341_lcd.c **** {
 3285              		.loc 1 1324 0
 3286              		.cfi_startproc
 3287              		@ args = 8, pretend = 0, frame = 32
 3288              		@ frame_needed = 0, uses_anonymous_args = 0
 3289              	.LVL473:
 3290 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3291              	.LCFI38:
 3292              		.cfi_def_cfa_offset 32
 3293              		.cfi_offset 4, -32
 3294              		.cfi_offset 5, -28
 3295              		.cfi_offset 6, -24
 3296              		.cfi_offset 7, -20
 3297              		.cfi_offset 8, -16
 3298              		.cfi_offset 9, -12
 3299              		.cfi_offset 10, -8
 3300              		.cfi_offset 14, -4
 3301 0004 8CB0     		sub	sp, sp, #48
 3302              	.LCFI39:
ARM GAS  /tmp/cc7rDAuv.s 			page 85


 3303              		.cfi_def_cfa_offset 80
 3304 0006 0446     		mov	r4, r0
 3305 0008 0E46     		mov	r6, r1
 3306 000a 9146     		mov	r9, r2
 3307 000c 1F46     		mov	r7, r3
 3308 000e DDF85080 		ldr	r8, [sp, #80]
 3309 0012 BDF854A0 		ldrh	r10, [sp, #84]
 3310              	.LVL474:
1325:User/lcd/bsp_ili9341_lcd.c ****   uint16_t Charwidth = Font_width; //默认为Font_width，英文宽度为中文宽度的一半
 3311              		.loc 1 1325 0
 3312 0016 1546     		mov	r5, r2
1326:User/lcd/bsp_ili9341_lcd.c ****   uint8_t *psr;
1327:User/lcd/bsp_ili9341_lcd.c ****   uint8_t Ascii; //英文
1328:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usCh; //中文
1329:User/lcd/bsp_ili9341_lcd.c ****   uint8_t ucBuffer[WIDTH_CH_CHAR * HEIGHT_CH_CHAR / 8];
1330:User/lcd/bsp_ili9341_lcd.c **** 
1331:User/lcd/bsp_ili9341_lcd.c ****   while (*ptr != '\0')
 3313              		.loc 1 1331 0
 3314 0018 27E0     		b	.L252
 3315              	.LVL475:
 3316              	.L255:
1332:User/lcd/bsp_ili9341_lcd.c ****   {
1333:User/lcd/bsp_ili9341_lcd.c ****     /****处理换行*****/
1334:User/lcd/bsp_ili9341_lcd.c ****     if ((x - ILI9341_DispWindow_X_Star + Charwidth) > LCD_X_LENGTH)
1335:User/lcd/bsp_ili9341_lcd.c ****     {
1336:User/lcd/bsp_ili9341_lcd.c ****       x = ILI9341_DispWindow_X_Star;
1337:User/lcd/bsp_ili9341_lcd.c ****       y += Font_Height;
1338:User/lcd/bsp_ili9341_lcd.c ****     }
1339:User/lcd/bsp_ili9341_lcd.c **** 
1340:User/lcd/bsp_ili9341_lcd.c ****     if ((y - ILI9341_DispWindow_Y_Star + Font_Height) > LCD_Y_LENGTH)
1341:User/lcd/bsp_ili9341_lcd.c ****     {
1342:User/lcd/bsp_ili9341_lcd.c ****       x = ILI9341_DispWindow_X_Star;
1343:User/lcd/bsp_ili9341_lcd.c ****       y = ILI9341_DispWindow_Y_Star;
1344:User/lcd/bsp_ili9341_lcd.c ****     }
1345:User/lcd/bsp_ili9341_lcd.c **** 
1346:User/lcd/bsp_ili9341_lcd.c ****     if (*ptr > 0x80) //如果是中文
1347:User/lcd/bsp_ili9341_lcd.c ****     {
1348:User/lcd/bsp_ili9341_lcd.c ****       Charwidth = Font_width;
1349:User/lcd/bsp_ili9341_lcd.c ****       usCh = *(uint16_t *)ptr;
1350:User/lcd/bsp_ili9341_lcd.c ****       usCh = (usCh << 8) + (usCh >> 8);
1351:User/lcd/bsp_ili9341_lcd.c ****       GetGBKCode(ucBuffer, usCh); //取字模数据
1352:User/lcd/bsp_ili9341_lcd.c ****       //缩放字模数据，源字模为16*16
1353:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_zoomChar(WIDTH_CH_CHAR, HEIGHT_CH_CHAR, Charwidth, Font_Height, (uint8_t *)&ucBuffer,
1354:User/lcd/bsp_ili9341_lcd.c ****       //显示单个字符
1355:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_DrawChar_Ex(x, y, Charwidth, Font_Height, (uint8_t *)&zoomBuff, DrawModel);
1356:User/lcd/bsp_ili9341_lcd.c ****       x += Charwidth;
1357:User/lcd/bsp_ili9341_lcd.c ****       ptr += 2;
1358:User/lcd/bsp_ili9341_lcd.c ****     }
1359:User/lcd/bsp_ili9341_lcd.c ****     else
1360:User/lcd/bsp_ili9341_lcd.c ****     {
1361:User/lcd/bsp_ili9341_lcd.c ****       Charwidth = Font_width / 2;
 3317              		.loc 1 1361 0
 3318 001a 4FEA5905 		lsr	r5, r9, #1
 3319              	.LVL476:
1362:User/lcd/bsp_ili9341_lcd.c ****       Ascii = *ptr - 32;
 3320              		.loc 1 1362 0
 3321 001e 203B     		subs	r3, r3, #32
ARM GAS  /tmp/cc7rDAuv.s 			page 86


 3322 0020 DBB2     		uxtb	r3, r3
 3323              	.LVL477:
1363:User/lcd/bsp_ili9341_lcd.c ****       //使用16*24字体缩放字模数据
1364:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_zoomChar(16, 24, Charwidth, Font_Height,
1365:User/lcd/bsp_ili9341_lcd.c ****                        (uint8_t *)&Font16x24.table[Ascii * Font16x24.Height * Font16x24.Width / 8],
 3324              		.loc 1 1365 0
 3325 0022 2F48     		ldr	r0, .L263
 3326 0024 0268     		ldr	r2, [r0]
 3327 0026 C188     		ldrh	r1, [r0, #6]
 3328 0028 01FB03F1 		mul	r1, r1, r3
 3329 002c 8388     		ldrh	r3, [r0, #4]
 3330              	.LVL478:
 3331 002e 03FB01F3 		mul	r3, r3, r1
 3332 0032 002B     		cmp	r3, #0
 3333 0034 4FDB     		blt	.L261
 3334              	.L257:
 3335 0036 02EBE303 		add	r3, r2, r3, asr #3
1364:User/lcd/bsp_ili9341_lcd.c ****                        (uint8_t *)&Font16x24.table[Ascii * Font16x24.Height * Font16x24.Width / 8],
 3336              		.loc 1 1364 0
 3337 003a 0022     		movs	r2, #0
 3338 003c 0292     		str	r2, [sp, #8]
 3339              	.LVL479:
 3340 003e 0192     		str	r2, [sp, #4]
 3341 0040 0093     		str	r3, [sp]
 3342 0042 3B46     		mov	r3, r7
 3343 0044 2A46     		mov	r2, r5
 3344 0046 1821     		movs	r1, #24
 3345 0048 1020     		movs	r0, #16
 3346 004a FFF7FEFF 		bl	ILI9341_zoomChar
 3347              	.LVL480:
1366:User/lcd/bsp_ili9341_lcd.c ****       //显示单个字符
1367:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_DrawChar_Ex(x, y, Charwidth, Font_Height, (uint8_t *)&zoomBuff, DrawModel);
 3348              		.loc 1 1367 0
 3349 004e CDF804A0 		str	r10, [sp, #4]
 3350 0052 244B     		ldr	r3, .L263+4
 3351 0054 0093     		str	r3, [sp]
 3352 0056 3B46     		mov	r3, r7
 3353 0058 2A46     		mov	r2, r5
 3354 005a 3146     		mov	r1, r6
 3355 005c 2046     		mov	r0, r4
 3356 005e FFF7FEFF 		bl	ILI9341_DrawChar_Ex
 3357              	.LVL481:
1368:User/lcd/bsp_ili9341_lcd.c ****       x += Charwidth;
 3358              		.loc 1 1368 0
 3359 0062 2C44     		add	r4, r4, r5
 3360              	.LVL482:
 3361 0064 A4B2     		uxth	r4, r4
 3362              	.LVL483:
1369:User/lcd/bsp_ili9341_lcd.c ****       ptr++;
 3363              		.loc 1 1369 0
 3364 0066 08F10108 		add	r8, r8, #1
 3365              	.LVL484:
 3366              	.L252:
1331:User/lcd/bsp_ili9341_lcd.c ****   {
 3367              		.loc 1 1331 0
 3368 006a 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 3369 006e 002B     		cmp	r3, #0
ARM GAS  /tmp/cc7rDAuv.s 			page 87


 3370 0070 33D0     		beq	.L262
1334:User/lcd/bsp_ili9341_lcd.c ****     {
 3371              		.loc 1 1334 0
 3372 0072 2544     		add	r5, r5, r4
 3373              	.LVL485:
 3374 0074 1C4A     		ldr	r2, .L263+8
 3375 0076 1288     		ldrh	r2, [r2]
 3376 0078 9542     		cmp	r5, r2
 3377 007a 02DD     		ble	.L253
 3378              	.LVL486:
1337:User/lcd/bsp_ili9341_lcd.c ****     }
 3379              		.loc 1 1337 0
 3380 007c 3E44     		add	r6, r6, r7
 3381              	.LVL487:
 3382 007e B6B2     		uxth	r6, r6
 3383              	.LVL488:
1336:User/lcd/bsp_ili9341_lcd.c ****       y += Font_Height;
 3384              		.loc 1 1336 0
 3385 0080 0024     		movs	r4, #0
 3386              	.LVL489:
 3387              	.L253:
1340:User/lcd/bsp_ili9341_lcd.c ****     {
 3388              		.loc 1 1340 0
 3389 0082 BA19     		adds	r2, r7, r6
 3390 0084 1949     		ldr	r1, .L263+12
 3391 0086 0988     		ldrh	r1, [r1]
 3392 0088 8A42     		cmp	r2, r1
 3393 008a 01DD     		ble	.L254
1343:User/lcd/bsp_ili9341_lcd.c ****     }
 3394              		.loc 1 1343 0
 3395 008c 0026     		movs	r6, #0
 3396              	.LVL490:
1342:User/lcd/bsp_ili9341_lcd.c ****       y = ILI9341_DispWindow_Y_Star;
 3397              		.loc 1 1342 0
 3398 008e 3446     		mov	r4, r6
 3399              	.LVL491:
 3400              	.L254:
1346:User/lcd/bsp_ili9341_lcd.c ****     {
 3401              		.loc 1 1346 0
 3402 0090 802B     		cmp	r3, #128
 3403 0092 C2D9     		bls	.L255
 3404              	.LVL492:
1349:User/lcd/bsp_ili9341_lcd.c ****       usCh = (usCh << 8) + (usCh >> 8);
 3405              		.loc 1 1349 0
 3406 0094 38F8021B 		ldrh	r1, [r8], #2
 3407              	.LVL493:
1350:User/lcd/bsp_ili9341_lcd.c ****       GetGBKCode(ucBuffer, usCh); //取字模数据
 3408              		.loc 1 1350 0
 3409 0098 49BA     		rev16	r1, r1
 3410              	.LVL494:
1351:User/lcd/bsp_ili9341_lcd.c ****       //缩放字模数据，源字模为16*16
 3411              		.loc 1 1351 0
 3412 009a 04AD     		add	r5, sp, #16
 3413 009c 89B2     		uxth	r1, r1
 3414 009e 2846     		mov	r0, r5
 3415 00a0 FFF7FEFF 		bl	GetGBKCode_from_EXFlash
 3416              	.LVL495:
ARM GAS  /tmp/cc7rDAuv.s 			page 88


1353:User/lcd/bsp_ili9341_lcd.c ****       //显示单个字符
 3417              		.loc 1 1353 0
 3418 00a4 0123     		movs	r3, #1
 3419 00a6 0293     		str	r3, [sp, #8]
 3420 00a8 0022     		movs	r2, #0
 3421 00aa 0192     		str	r2, [sp, #4]
 3422 00ac 0095     		str	r5, [sp]
 3423 00ae 3B46     		mov	r3, r7
 3424 00b0 4A46     		mov	r2, r9
 3425 00b2 1021     		movs	r1, #16
 3426 00b4 0846     		mov	r0, r1
 3427 00b6 FFF7FEFF 		bl	ILI9341_zoomChar
 3428              	.LVL496:
1355:User/lcd/bsp_ili9341_lcd.c ****       x += Charwidth;
 3429              		.loc 1 1355 0
 3430 00ba CDF804A0 		str	r10, [sp, #4]
 3431 00be 094B     		ldr	r3, .L263+4
 3432 00c0 0093     		str	r3, [sp]
 3433 00c2 3B46     		mov	r3, r7
 3434 00c4 4A46     		mov	r2, r9
 3435 00c6 3146     		mov	r1, r6
 3436 00c8 2046     		mov	r0, r4
 3437 00ca FFF7FEFF 		bl	ILI9341_DrawChar_Ex
 3438              	.LVL497:
1356:User/lcd/bsp_ili9341_lcd.c ****       ptr += 2;
 3439              		.loc 1 1356 0
 3440 00ce 4C44     		add	r4, r4, r9
 3441              	.LVL498:
 3442 00d0 A4B2     		uxth	r4, r4
 3443              	.LVL499:
1348:User/lcd/bsp_ili9341_lcd.c ****       usCh = *(uint16_t *)ptr;
 3444              		.loc 1 1348 0
 3445 00d2 4D46     		mov	r5, r9
 3446 00d4 C9E7     		b	.L252
 3447              	.LVL500:
 3448              	.L261:
1365:User/lcd/bsp_ili9341_lcd.c ****       //显示单个字符
 3449              		.loc 1 1365 0
 3450 00d6 0733     		adds	r3, r3, #7
 3451 00d8 ADE7     		b	.L257
 3452              	.LVL501:
 3453              	.L262:
1370:User/lcd/bsp_ili9341_lcd.c ****     }
1371:User/lcd/bsp_ili9341_lcd.c ****   }
1372:User/lcd/bsp_ili9341_lcd.c **** }
 3454              		.loc 1 1372 0
 3455 00da 0CB0     		add	sp, sp, #48
 3456              	.LCFI40:
 3457              		.cfi_def_cfa_offset 32
 3458              		@ sp needed
 3459 00dc BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3460              	.LVL502:
 3461              	.L264:
 3462              		.align	2
 3463              	.L263:
 3464 00e0 00000000 		.word	Font16x24
 3465 00e4 00000000 		.word	.LANCHOR7
ARM GAS  /tmp/cc7rDAuv.s 			page 89


 3466 00e8 00000000 		.word	.LANCHOR1
 3467 00ec 00000000 		.word	.LANCHOR2
 3468              		.cfi_endproc
 3469              	.LFE95:
 3471              		.section	.text.ILI9341_DisplayStringEx_YDir,"ax",%progbits
 3472              		.align	1
 3473              		.global	ILI9341_DisplayStringEx_YDir
 3474              		.syntax unified
 3475              		.thumb
 3476              		.thumb_func
 3477              		.fpu softvfp
 3479              	ILI9341_DisplayStringEx_YDir:
 3480              	.LFB96:
1373:User/lcd/bsp_ili9341_lcd.c **** 
1374:User/lcd/bsp_ili9341_lcd.c **** /**
1375:User/lcd/bsp_ili9341_lcd.c ****  * @brief  利用缩放后的字模显示字符串(沿Y轴方向)
1376:User/lcd/bsp_ili9341_lcd.c ****  * @param  Xpos ：字符显示位置x
1377:User/lcd/bsp_ili9341_lcd.c ****  * @param  Ypos ：字符显示位置y
1378:User/lcd/bsp_ili9341_lcd.c ****  * @param  Font_width ：字符宽度，英文字符在此基础上/2。注意为偶数
1379:User/lcd/bsp_ili9341_lcd.c ****  * @param  Font_Heig：字符高度，注意为偶数
1380:User/lcd/bsp_ili9341_lcd.c ****  * @param  c ：要显示的字符串
1381:User/lcd/bsp_ili9341_lcd.c ****  * @param  DrawModel ：是否反色显示
1382:User/lcd/bsp_ili9341_lcd.c ****  * @retval 无
1383:User/lcd/bsp_ili9341_lcd.c ****  */
1384:User/lcd/bsp_ili9341_lcd.c **** void ILI9341_DisplayStringEx_YDir(uint16_t x, //字符显示位置x
1385:User/lcd/bsp_ili9341_lcd.c ****                                   uint16_t y, //字符显示位置y
1386:User/lcd/bsp_ili9341_lcd.c ****                                   uint16_t Font_width, //要显示的字体宽度，英文字符在此基础上/2。注
1387:User/lcd/bsp_ili9341_lcd.c ****                                   uint16_t Font_Height, //要显示的字体高度，注意为偶数
1388:User/lcd/bsp_ili9341_lcd.c ****                                   uint8_t *ptr,         //显示的字符内容
1389:User/lcd/bsp_ili9341_lcd.c ****                                   uint16_t DrawModel)   //是否反色显示
1390:User/lcd/bsp_ili9341_lcd.c **** {
 3481              		.loc 1 1390 0
 3482              		.cfi_startproc
 3483              		@ args = 8, pretend = 0, frame = 32
 3484              		@ frame_needed = 0, uses_anonymous_args = 0
 3485              	.LVL503:
 3486 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3487              	.LCFI41:
 3488              		.cfi_def_cfa_offset 32
 3489              		.cfi_offset 4, -32
 3490              		.cfi_offset 5, -28
 3491              		.cfi_offset 6, -24
 3492              		.cfi_offset 7, -20
 3493              		.cfi_offset 8, -16
 3494              		.cfi_offset 9, -12
 3495              		.cfi_offset 10, -8
 3496              		.cfi_offset 14, -4
 3497 0004 8CB0     		sub	sp, sp, #48
 3498              	.LCFI42:
 3499              		.cfi_def_cfa_offset 80
 3500 0006 0546     		mov	r5, r0
 3501 0008 0C46     		mov	r4, r1
 3502 000a 9046     		mov	r8, r2
 3503 000c 1E46     		mov	r6, r3
 3504 000e 149F     		ldr	r7, [sp, #80]
 3505 0010 BDF85490 		ldrh	r9, [sp, #84]
 3506              	.LVL504:
ARM GAS  /tmp/cc7rDAuv.s 			page 90


1391:User/lcd/bsp_ili9341_lcd.c ****   uint16_t Charwidth = Font_width; //默认为Font_width，英文宽度为中文宽度的一半
1392:User/lcd/bsp_ili9341_lcd.c ****   uint8_t *psr;
1393:User/lcd/bsp_ili9341_lcd.c ****   uint8_t Ascii; //英文
1394:User/lcd/bsp_ili9341_lcd.c ****   uint16_t usCh; //中文
1395:User/lcd/bsp_ili9341_lcd.c ****   uint8_t ucBuffer[WIDTH_CH_CHAR * HEIGHT_CH_CHAR / 8];
1396:User/lcd/bsp_ili9341_lcd.c **** 
1397:User/lcd/bsp_ili9341_lcd.c ****   while (*ptr != '\0')
 3507              		.loc 1 1397 0
 3508 0014 26E0     		b	.L266
 3509              	.LVL505:
 3510              	.L269:
1398:User/lcd/bsp_ili9341_lcd.c ****   {
1399:User/lcd/bsp_ili9341_lcd.c ****     //统一使用汉字的宽高来计算换行
1400:User/lcd/bsp_ili9341_lcd.c ****     if ((y - ILI9341_DispWindow_X_Star + Font_width) > LCD_X_LENGTH)
1401:User/lcd/bsp_ili9341_lcd.c ****     {
1402:User/lcd/bsp_ili9341_lcd.c ****       y = ILI9341_DispWindow_X_Star;
1403:User/lcd/bsp_ili9341_lcd.c ****       x += Font_width;
1404:User/lcd/bsp_ili9341_lcd.c ****     }
1405:User/lcd/bsp_ili9341_lcd.c **** 
1406:User/lcd/bsp_ili9341_lcd.c ****     if ((x - ILI9341_DispWindow_Y_Star + Font_Height) > LCD_Y_LENGTH)
1407:User/lcd/bsp_ili9341_lcd.c ****     {
1408:User/lcd/bsp_ili9341_lcd.c ****       y = ILI9341_DispWindow_X_Star;
1409:User/lcd/bsp_ili9341_lcd.c ****       x = ILI9341_DispWindow_Y_Star;
1410:User/lcd/bsp_ili9341_lcd.c ****     }
1411:User/lcd/bsp_ili9341_lcd.c **** 
1412:User/lcd/bsp_ili9341_lcd.c ****     if (*ptr > 0x80) //如果是中文
1413:User/lcd/bsp_ili9341_lcd.c ****     {
1414:User/lcd/bsp_ili9341_lcd.c ****       Charwidth = Font_width;
1415:User/lcd/bsp_ili9341_lcd.c ****       usCh = *(uint16_t *)ptr;
1416:User/lcd/bsp_ili9341_lcd.c ****       usCh = (usCh << 8) + (usCh >> 8);
1417:User/lcd/bsp_ili9341_lcd.c ****       GetGBKCode(ucBuffer, usCh); //取字模数据
1418:User/lcd/bsp_ili9341_lcd.c ****       //缩放字模数据，源字模为16*16
1419:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_zoomChar(WIDTH_CH_CHAR, HEIGHT_CH_CHAR, Charwidth, Font_Height, (uint8_t *)&ucBuffer,
1420:User/lcd/bsp_ili9341_lcd.c ****       //显示单个字符
1421:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_DrawChar_Ex(x, y, Charwidth, Font_Height, (uint8_t *)&zoomBuff, DrawModel);
1422:User/lcd/bsp_ili9341_lcd.c ****       y += Font_Height;
1423:User/lcd/bsp_ili9341_lcd.c ****       ptr += 2;
1424:User/lcd/bsp_ili9341_lcd.c ****     }
1425:User/lcd/bsp_ili9341_lcd.c ****     else
1426:User/lcd/bsp_ili9341_lcd.c ****     {
1427:User/lcd/bsp_ili9341_lcd.c ****       Charwidth = Font_width / 2;
 3511              		.loc 1 1427 0
 3512 0016 4FEA580A 		lsr	r10, r8, #1
 3513              	.LVL506:
1428:User/lcd/bsp_ili9341_lcd.c ****       Ascii = *ptr - 32;
 3514              		.loc 1 1428 0
 3515 001a 203B     		subs	r3, r3, #32
 3516 001c DBB2     		uxtb	r3, r3
 3517              	.LVL507:
1429:User/lcd/bsp_ili9341_lcd.c ****       //使用16*24字体缩放字模数据
1430:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_zoomChar(16, 24, Charwidth, Font_Height,
1431:User/lcd/bsp_ili9341_lcd.c ****                        (uint8_t *)&Font16x24.table[Ascii * Font16x24.Height * Font16x24.Width / 8],
 3518              		.loc 1 1431 0
 3519 001e 2F48     		ldr	r0, .L277
 3520 0020 0268     		ldr	r2, [r0]
 3521 0022 C188     		ldrh	r1, [r0, #6]
 3522 0024 01FB03F1 		mul	r1, r1, r3
ARM GAS  /tmp/cc7rDAuv.s 			page 91


 3523 0028 8388     		ldrh	r3, [r0, #4]
 3524              	.LVL508:
 3525 002a 03FB01F3 		mul	r3, r3, r1
 3526 002e 002B     		cmp	r3, #0
 3527 0030 4FDB     		blt	.L275
 3528              	.L271:
 3529 0032 02EBE303 		add	r3, r2, r3, asr #3
1430:User/lcd/bsp_ili9341_lcd.c ****                        (uint8_t *)&Font16x24.table[Ascii * Font16x24.Height * Font16x24.Width / 8],
 3530              		.loc 1 1430 0
 3531 0036 0022     		movs	r2, #0
 3532 0038 0292     		str	r2, [sp, #8]
 3533              	.LVL509:
 3534 003a 0192     		str	r2, [sp, #4]
 3535 003c 0093     		str	r3, [sp]
 3536 003e 3346     		mov	r3, r6
 3537 0040 5246     		mov	r2, r10
 3538 0042 1821     		movs	r1, #24
 3539 0044 1020     		movs	r0, #16
 3540 0046 FFF7FEFF 		bl	ILI9341_zoomChar
 3541              	.LVL510:
1432:User/lcd/bsp_ili9341_lcd.c ****       //显示单个字符
1433:User/lcd/bsp_ili9341_lcd.c ****       ILI9341_DrawChar_Ex(x, y, Charwidth, Font_Height, (uint8_t *)&zoomBuff, DrawModel);
 3542              		.loc 1 1433 0
 3543 004a CDF80490 		str	r9, [sp, #4]
 3544 004e 244B     		ldr	r3, .L277+4
 3545 0050 0093     		str	r3, [sp]
 3546 0052 3346     		mov	r3, r6
 3547 0054 5246     		mov	r2, r10
 3548 0056 2146     		mov	r1, r4
 3549 0058 2846     		mov	r0, r5
 3550 005a FFF7FEFF 		bl	ILI9341_DrawChar_Ex
 3551              	.LVL511:
1434:User/lcd/bsp_ili9341_lcd.c ****       y += Font_Height;
 3552              		.loc 1 1434 0
 3553 005e 3444     		add	r4, r4, r6
 3554              	.LVL512:
 3555 0060 A4B2     		uxth	r4, r4
 3556              	.LVL513:
1435:User/lcd/bsp_ili9341_lcd.c ****       ptr++;
 3557              		.loc 1 1435 0
 3558 0062 0137     		adds	r7, r7, #1
 3559              	.LVL514:
 3560              	.L266:
1397:User/lcd/bsp_ili9341_lcd.c ****   {
 3561              		.loc 1 1397 0
 3562 0064 3B78     		ldrb	r3, [r7]	@ zero_extendqisi2
 3563 0066 002B     		cmp	r3, #0
 3564 0068 35D0     		beq	.L276
1400:User/lcd/bsp_ili9341_lcd.c ****     {
 3565              		.loc 1 1400 0
 3566 006a 08EB0402 		add	r2, r8, r4
 3567 006e 1D49     		ldr	r1, .L277+8
 3568 0070 0988     		ldrh	r1, [r1]
 3569 0072 8A42     		cmp	r2, r1
 3570 0074 02DD     		ble	.L267
 3571              	.LVL515:
1403:User/lcd/bsp_ili9341_lcd.c ****     }
ARM GAS  /tmp/cc7rDAuv.s 			page 92


 3572              		.loc 1 1403 0
 3573 0076 4544     		add	r5, r5, r8
 3574              	.LVL516:
 3575 0078 ADB2     		uxth	r5, r5
 3576              	.LVL517:
1402:User/lcd/bsp_ili9341_lcd.c ****       x += Font_width;
 3577              		.loc 1 1402 0
 3578 007a 0024     		movs	r4, #0
 3579              	.LVL518:
 3580              	.L267:
1406:User/lcd/bsp_ili9341_lcd.c ****     {
 3581              		.loc 1 1406 0
 3582 007c 7219     		adds	r2, r6, r5
 3583 007e 1A49     		ldr	r1, .L277+12
 3584 0080 0988     		ldrh	r1, [r1]
 3585 0082 8A42     		cmp	r2, r1
 3586 0084 01DD     		ble	.L268
1408:User/lcd/bsp_ili9341_lcd.c ****       x = ILI9341_DispWindow_Y_Star;
 3587              		.loc 1 1408 0
 3588 0086 0024     		movs	r4, #0
 3589              	.LVL519:
1409:User/lcd/bsp_ili9341_lcd.c ****     }
 3590              		.loc 1 1409 0
 3591 0088 2546     		mov	r5, r4
 3592              	.LVL520:
 3593              	.L268:
1412:User/lcd/bsp_ili9341_lcd.c ****     {
 3594              		.loc 1 1412 0
 3595 008a 802B     		cmp	r3, #128
 3596 008c C3D9     		bls	.L269
 3597              	.LVL521:
1415:User/lcd/bsp_ili9341_lcd.c ****       usCh = (usCh << 8) + (usCh >> 8);
 3598              		.loc 1 1415 0
 3599 008e 37F8021B 		ldrh	r1, [r7], #2
 3600              	.LVL522:
1416:User/lcd/bsp_ili9341_lcd.c ****       GetGBKCode(ucBuffer, usCh); //取字模数据
 3601              		.loc 1 1416 0
 3602 0092 49BA     		rev16	r1, r1
 3603              	.LVL523:
1417:User/lcd/bsp_ili9341_lcd.c ****       //缩放字模数据，源字模为16*16
 3604              		.loc 1 1417 0
 3605 0094 0DF1100A 		add	r10, sp, #16
 3606 0098 89B2     		uxth	r1, r1
 3607 009a 5046     		mov	r0, r10
 3608 009c FFF7FEFF 		bl	GetGBKCode_from_EXFlash
 3609              	.LVL524:
1419:User/lcd/bsp_ili9341_lcd.c ****       //显示单个字符
 3610              		.loc 1 1419 0
 3611 00a0 0123     		movs	r3, #1
 3612 00a2 0293     		str	r3, [sp, #8]
 3613 00a4 0022     		movs	r2, #0
 3614 00a6 0192     		str	r2, [sp, #4]
 3615 00a8 CDF800A0 		str	r10, [sp]
 3616 00ac 3346     		mov	r3, r6
 3617 00ae 4246     		mov	r2, r8
 3618 00b0 1021     		movs	r1, #16
 3619 00b2 0846     		mov	r0, r1
ARM GAS  /tmp/cc7rDAuv.s 			page 93


 3620 00b4 FFF7FEFF 		bl	ILI9341_zoomChar
 3621              	.LVL525:
1421:User/lcd/bsp_ili9341_lcd.c ****       y += Font_Height;
 3622              		.loc 1 1421 0
 3623 00b8 CDF80490 		str	r9, [sp, #4]
 3624 00bc 084B     		ldr	r3, .L277+4
 3625 00be 0093     		str	r3, [sp]
 3626 00c0 3346     		mov	r3, r6
 3627 00c2 4246     		mov	r2, r8
 3628 00c4 2146     		mov	r1, r4
 3629 00c6 2846     		mov	r0, r5
 3630 00c8 FFF7FEFF 		bl	ILI9341_DrawChar_Ex
 3631              	.LVL526:
1422:User/lcd/bsp_ili9341_lcd.c ****       ptr += 2;
 3632              		.loc 1 1422 0
 3633 00cc 3444     		add	r4, r4, r6
 3634              	.LVL527:
 3635 00ce A4B2     		uxth	r4, r4
 3636              	.LVL528:
 3637 00d0 C8E7     		b	.L266
 3638              	.LVL529:
 3639              	.L275:
1431:User/lcd/bsp_ili9341_lcd.c ****       //显示单个字符
 3640              		.loc 1 1431 0
 3641 00d2 0733     		adds	r3, r3, #7
 3642 00d4 ADE7     		b	.L271
 3643              	.LVL530:
 3644              	.L276:
1436:User/lcd/bsp_ili9341_lcd.c ****     }
1437:User/lcd/bsp_ili9341_lcd.c ****   }
1438:User/lcd/bsp_ili9341_lcd.c **** }
 3645              		.loc 1 1438 0
 3646 00d6 0CB0     		add	sp, sp, #48
 3647              	.LCFI43:
 3648              		.cfi_def_cfa_offset 32
 3649              		@ sp needed
 3650 00d8 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3651              	.LVL531:
 3652              	.L278:
 3653              		.align	2
 3654              	.L277:
 3655 00dc 00000000 		.word	Font16x24
 3656 00e0 00000000 		.word	.LANCHOR7
 3657 00e4 00000000 		.word	.LANCHOR1
 3658 00e8 00000000 		.word	.LANCHOR2
 3659              		.cfi_endproc
 3660              	.LFE96:
 3662              		.section	.text.LCD_SetFont,"ax",%progbits
 3663              		.align	1
 3664              		.global	LCD_SetFont
 3665              		.syntax unified
 3666              		.thumb
 3667              		.thumb_func
 3668              		.fpu softvfp
 3670              	LCD_SetFont:
 3671              	.LFB97:
1439:User/lcd/bsp_ili9341_lcd.c **** 
ARM GAS  /tmp/cc7rDAuv.s 			page 94


1440:User/lcd/bsp_ili9341_lcd.c **** /**
1441:User/lcd/bsp_ili9341_lcd.c ****  * @brief  设置英文字体类型
1442:User/lcd/bsp_ili9341_lcd.c ****  * @param  fonts: 指定要选择的字体
1443:User/lcd/bsp_ili9341_lcd.c ****  *		参数为以下值之一
1444:User/lcd/bsp_ili9341_lcd.c ****  * 	@arg：Font24x32;
1445:User/lcd/bsp_ili9341_lcd.c ****  * 	@arg：Font16x24;
1446:User/lcd/bsp_ili9341_lcd.c ****  * 	@arg：Font8x16;
1447:User/lcd/bsp_ili9341_lcd.c ****  * @retval None
1448:User/lcd/bsp_ili9341_lcd.c ****  */
1449:User/lcd/bsp_ili9341_lcd.c **** void LCD_SetFont(sFONT *fonts) { LCD_Currentfonts = fonts; }
 3672              		.loc 1 1449 0
 3673              		.cfi_startproc
 3674              		@ args = 0, pretend = 0, frame = 0
 3675              		@ frame_needed = 0, uses_anonymous_args = 0
 3676              		@ link register save eliminated.
 3677              	.LVL532:
 3678              		.loc 1 1449 0
 3679 0000 014B     		ldr	r3, .L280
 3680 0002 1860     		str	r0, [r3]
 3681 0004 7047     		bx	lr
 3682              	.L281:
 3683 0006 00BF     		.align	2
 3684              	.L280:
 3685 0008 00000000 		.word	.LANCHOR5
 3686              		.cfi_endproc
 3687              	.LFE97:
 3689              		.section	.text.LCD_GetFont,"ax",%progbits
 3690              		.align	1
 3691              		.global	LCD_GetFont
 3692              		.syntax unified
 3693              		.thumb
 3694              		.thumb_func
 3695              		.fpu softvfp
 3697              	LCD_GetFont:
 3698              	.LFB98:
1450:User/lcd/bsp_ili9341_lcd.c **** 
1451:User/lcd/bsp_ili9341_lcd.c **** /**
1452:User/lcd/bsp_ili9341_lcd.c ****  * @brief  获取当前字体类型
1453:User/lcd/bsp_ili9341_lcd.c ****  * @param  None.
1454:User/lcd/bsp_ili9341_lcd.c ****  * @retval 返回当前字体类型
1455:User/lcd/bsp_ili9341_lcd.c ****  */
1456:User/lcd/bsp_ili9341_lcd.c **** sFONT *LCD_GetFont(void) { return LCD_Currentfonts; }
 3699              		.loc 1 1456 0
 3700              		.cfi_startproc
 3701              		@ args = 0, pretend = 0, frame = 0
 3702              		@ frame_needed = 0, uses_anonymous_args = 0
 3703              		@ link register save eliminated.
 3704              		.loc 1 1456 0
 3705 0000 014B     		ldr	r3, .L283
 3706 0002 1868     		ldr	r0, [r3]
 3707 0004 7047     		bx	lr
 3708              	.L284:
 3709 0006 00BF     		.align	2
 3710              	.L283:
 3711 0008 00000000 		.word	.LANCHOR5
 3712              		.cfi_endproc
 3713              	.LFE98:
ARM GAS  /tmp/cc7rDAuv.s 			page 95


 3715              		.section	.text.LCD_SetColors,"ax",%progbits
 3716              		.align	1
 3717              		.global	LCD_SetColors
 3718              		.syntax unified
 3719              		.thumb
 3720              		.thumb_func
 3721              		.fpu softvfp
 3723              	LCD_SetColors:
 3724              	.LFB99:
1457:User/lcd/bsp_ili9341_lcd.c **** 
1458:User/lcd/bsp_ili9341_lcd.c **** /**
1459:User/lcd/bsp_ili9341_lcd.c ****  * @brief  设置LCD的前景(字体)及背景颜色,RGB565
1460:User/lcd/bsp_ili9341_lcd.c ****  * @param  TextColor: 指定前景(字体)颜色
1461:User/lcd/bsp_ili9341_lcd.c ****  * @param  BackColor: 指定背景颜色
1462:User/lcd/bsp_ili9341_lcd.c ****  * @retval None
1463:User/lcd/bsp_ili9341_lcd.c ****  */
1464:User/lcd/bsp_ili9341_lcd.c **** void LCD_SetColors(uint16_t TextColor, uint16_t BackColor)
1465:User/lcd/bsp_ili9341_lcd.c **** {
 3725              		.loc 1 1465 0
 3726              		.cfi_startproc
 3727              		@ args = 0, pretend = 0, frame = 0
 3728              		@ frame_needed = 0, uses_anonymous_args = 0
 3729              		@ link register save eliminated.
 3730              	.LVL533:
1466:User/lcd/bsp_ili9341_lcd.c ****   CurrentTextColor = TextColor;
 3731              		.loc 1 1466 0
 3732 0000 024B     		ldr	r3, .L286
 3733 0002 1880     		strh	r0, [r3]	@ movhi
1467:User/lcd/bsp_ili9341_lcd.c ****   CurrentBackColor = BackColor;
 3734              		.loc 1 1467 0
 3735 0004 024B     		ldr	r3, .L286+4
 3736 0006 1980     		strh	r1, [r3]	@ movhi
 3737 0008 7047     		bx	lr
 3738              	.L287:
 3739 000a 00BF     		.align	2
 3740              	.L286:
 3741 000c 00000000 		.word	.LANCHOR4
 3742 0010 00000000 		.word	.LANCHOR3
 3743              		.cfi_endproc
 3744              	.LFE99:
 3746              		.section	.text.LCD_GetColors,"ax",%progbits
 3747              		.align	1
 3748              		.global	LCD_GetColors
 3749              		.syntax unified
 3750              		.thumb
 3751              		.thumb_func
 3752              		.fpu softvfp
 3754              	LCD_GetColors:
 3755              	.LFB100:
1468:User/lcd/bsp_ili9341_lcd.c **** }
1469:User/lcd/bsp_ili9341_lcd.c **** 
1470:User/lcd/bsp_ili9341_lcd.c **** /**
1471:User/lcd/bsp_ili9341_lcd.c ****  * @brief  获取LCD的前景(字体)及背景颜色,RGB565
1472:User/lcd/bsp_ili9341_lcd.c ****  * @param  TextColor: 用来存储前景(字体)颜色的指针变量
1473:User/lcd/bsp_ili9341_lcd.c ****  * @param  BackColor: 用来存储背景颜色的指针变量
1474:User/lcd/bsp_ili9341_lcd.c ****  * @retval None
1475:User/lcd/bsp_ili9341_lcd.c ****  */
ARM GAS  /tmp/cc7rDAuv.s 			page 96


1476:User/lcd/bsp_ili9341_lcd.c **** void LCD_GetColors(uint16_t *TextColor, uint16_t *BackColor)
1477:User/lcd/bsp_ili9341_lcd.c **** {
 3756              		.loc 1 1477 0
 3757              		.cfi_startproc
 3758              		@ args = 0, pretend = 0, frame = 0
 3759              		@ frame_needed = 0, uses_anonymous_args = 0
 3760              		@ link register save eliminated.
 3761              	.LVL534:
1478:User/lcd/bsp_ili9341_lcd.c ****   *TextColor = CurrentTextColor;
 3762              		.loc 1 1478 0
 3763 0000 034B     		ldr	r3, .L289
 3764 0002 1B88     		ldrh	r3, [r3]
 3765 0004 0380     		strh	r3, [r0]	@ movhi
1479:User/lcd/bsp_ili9341_lcd.c ****   *BackColor = CurrentBackColor;
 3766              		.loc 1 1479 0
 3767 0006 034B     		ldr	r3, .L289+4
 3768 0008 1B88     		ldrh	r3, [r3]
 3769 000a 0B80     		strh	r3, [r1]	@ movhi
 3770 000c 7047     		bx	lr
 3771              	.L290:
 3772 000e 00BF     		.align	2
 3773              	.L289:
 3774 0010 00000000 		.word	.LANCHOR4
 3775 0014 00000000 		.word	.LANCHOR3
 3776              		.cfi_endproc
 3777              	.LFE100:
 3779              		.section	.text.LCD_SetTextColor,"ax",%progbits
 3780              		.align	1
 3781              		.global	LCD_SetTextColor
 3782              		.syntax unified
 3783              		.thumb
 3784              		.thumb_func
 3785              		.fpu softvfp
 3787              	LCD_SetTextColor:
 3788              	.LFB101:
1480:User/lcd/bsp_ili9341_lcd.c **** }
1481:User/lcd/bsp_ili9341_lcd.c **** 
1482:User/lcd/bsp_ili9341_lcd.c **** /**
1483:User/lcd/bsp_ili9341_lcd.c ****  * @brief  设置LCD的前景(字体)颜色,RGB565
1484:User/lcd/bsp_ili9341_lcd.c ****  * @param  Color: 指定前景(字体)颜色
1485:User/lcd/bsp_ili9341_lcd.c ****  * @retval None
1486:User/lcd/bsp_ili9341_lcd.c ****  */
1487:User/lcd/bsp_ili9341_lcd.c **** void LCD_SetTextColor(uint16_t Color) { CurrentTextColor = Color; }
 3789              		.loc 1 1487 0
 3790              		.cfi_startproc
 3791              		@ args = 0, pretend = 0, frame = 0
 3792              		@ frame_needed = 0, uses_anonymous_args = 0
 3793              		@ link register save eliminated.
 3794              	.LVL535:
 3795              		.loc 1 1487 0
 3796 0000 014B     		ldr	r3, .L292
 3797 0002 1880     		strh	r0, [r3]	@ movhi
 3798 0004 7047     		bx	lr
 3799              	.L293:
 3800 0006 00BF     		.align	2
 3801              	.L292:
 3802 0008 00000000 		.word	.LANCHOR4
ARM GAS  /tmp/cc7rDAuv.s 			page 97


 3803              		.cfi_endproc
 3804              	.LFE101:
 3806              		.section	.text.LCD_SetBackColor,"ax",%progbits
 3807              		.align	1
 3808              		.global	LCD_SetBackColor
 3809              		.syntax unified
 3810              		.thumb
 3811              		.thumb_func
 3812              		.fpu softvfp
 3814              	LCD_SetBackColor:
 3815              	.LFB102:
1488:User/lcd/bsp_ili9341_lcd.c **** 
1489:User/lcd/bsp_ili9341_lcd.c **** /**
1490:User/lcd/bsp_ili9341_lcd.c ****  * @brief  设置LCD的背景颜色,RGB565
1491:User/lcd/bsp_ili9341_lcd.c ****  * @param  Color: 指定背景颜色
1492:User/lcd/bsp_ili9341_lcd.c ****  * @retval None
1493:User/lcd/bsp_ili9341_lcd.c ****  */
1494:User/lcd/bsp_ili9341_lcd.c **** void LCD_SetBackColor(uint16_t Color) { CurrentBackColor = Color; }
 3816              		.loc 1 1494 0
 3817              		.cfi_startproc
 3818              		@ args = 0, pretend = 0, frame = 0
 3819              		@ frame_needed = 0, uses_anonymous_args = 0
 3820              		@ link register save eliminated.
 3821              	.LVL536:
 3822              		.loc 1 1494 0
 3823 0000 014B     		ldr	r3, .L295
 3824 0002 1880     		strh	r0, [r3]	@ movhi
 3825 0004 7047     		bx	lr
 3826              	.L296:
 3827 0006 00BF     		.align	2
 3828              	.L295:
 3829 0008 00000000 		.word	.LANCHOR3
 3830              		.cfi_endproc
 3831              	.LFE102:
 3833              		.section	.text.LCD_ClearLine,"ax",%progbits
 3834              		.align	1
 3835              		.global	LCD_ClearLine
 3836              		.syntax unified
 3837              		.thumb
 3838              		.thumb_func
 3839              		.fpu softvfp
 3841              	LCD_ClearLine:
 3842              	.LFB103:
1495:User/lcd/bsp_ili9341_lcd.c **** 
1496:User/lcd/bsp_ili9341_lcd.c **** /**
1497:User/lcd/bsp_ili9341_lcd.c ****  * @brief  清除某行文字
1498:User/lcd/bsp_ili9341_lcd.c ****  * @param  Line: 指定要删除的行
1499:User/lcd/bsp_ili9341_lcd.c ****  *   本参数可使用宏LINE(0)、LINE(1)等方式指定要删除的行，
1500:User/lcd/bsp_ili9341_lcd.c ****  *   宏LINE(x)会根据当前选择的字体来计算Y坐标值，并删除当前字体高度的第x行。
1501:User/lcd/bsp_ili9341_lcd.c ****  * @retval None
1502:User/lcd/bsp_ili9341_lcd.c ****  */
1503:User/lcd/bsp_ili9341_lcd.c **** void LCD_ClearLine(uint16_t Line)
1504:User/lcd/bsp_ili9341_lcd.c **** {
 3843              		.loc 1 1504 0
 3844              		.cfi_startproc
 3845              		@ args = 0, pretend = 0, frame = 0
 3846              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc7rDAuv.s 			page 98


 3847              	.LVL537:
 3848 0000 38B5     		push	{r3, r4, r5, lr}
 3849              	.LCFI44:
 3850              		.cfi_def_cfa_offset 16
 3851              		.cfi_offset 3, -16
 3852              		.cfi_offset 4, -12
 3853              		.cfi_offset 5, -8
 3854              		.cfi_offset 14, -4
 3855 0002 0446     		mov	r4, r0
1505:User/lcd/bsp_ili9341_lcd.c ****   ILI9341_Clear(0, Line, LCD_X_LENGTH, ((sFONT *)LCD_GetFont())->Height); /* 清屏，显示全黑 */
 3856              		.loc 1 1505 0
 3857 0004 054B     		ldr	r3, .L299
 3858 0006 1D88     		ldrh	r5, [r3]
 3859 0008 FFF7FEFF 		bl	LCD_GetFont
 3860              	.LVL538:
 3861 000c C388     		ldrh	r3, [r0, #6]
 3862 000e 2A46     		mov	r2, r5
 3863 0010 2146     		mov	r1, r4
 3864 0012 0020     		movs	r0, #0
 3865 0014 FFF7FEFF 		bl	ILI9341_Clear
 3866              	.LVL539:
 3867 0018 38BD     		pop	{r3, r4, r5, pc}
 3868              	.L300:
 3869 001a 00BF     		.align	2
 3870              	.L299:
 3871 001c 00000000 		.word	.LANCHOR1
 3872              		.cfi_endproc
 3873              	.LFE103:
 3875              		.global	zoomTempBuff
 3876              		.global	zoomBuff
 3877              		.global	LCD_SCAN_MODE
 3878              		.global	LCD_Y_LENGTH
 3879              		.global	LCD_X_LENGTH
 3880              		.section	.bss.CurrentTextColor,"aw",%nobits
 3881              		.align	1
 3882              		.set	.LANCHOR4,. + 0
 3885              	CurrentTextColor:
 3886 0000 0000     		.space	2
 3887              		.section	.bss.zoomBuff,"aw",%nobits
 3888              		.align	2
 3889              		.set	.LANCHOR7,. + 0
 3892              	zoomBuff:
 3893 0000 00000000 		.space	16384
 3893      00000000 
 3893      00000000 
 3893      00000000 
 3893      00000000 
 3894              		.section	.bss.zoomTempBuff,"aw",%nobits
 3895              		.align	2
 3896              		.set	.LANCHOR6,. + 0
 3899              	zoomTempBuff:
 3900 0000 00000000 		.space	1024
 3900      00000000 
 3900      00000000 
 3900      00000000 
 3900      00000000 
 3901              		.section	.data.CurrentBackColor,"aw",%progbits
ARM GAS  /tmp/cc7rDAuv.s 			page 99


 3902              		.align	1
 3903              		.set	.LANCHOR3,. + 0
 3906              	CurrentBackColor:
 3907 0000 FFFF     		.short	-1
 3908              		.section	.data.LCD_Currentfonts,"aw",%progbits
 3909              		.align	2
 3910              		.set	.LANCHOR5,. + 0
 3913              	LCD_Currentfonts:
 3914 0000 00000000 		.word	Font8x16
 3915              		.section	.data.LCD_SCAN_MODE,"aw",%progbits
 3916              		.set	.LANCHOR0,. + 0
 3919              	LCD_SCAN_MODE:
 3920 0000 06       		.byte	6
 3921              		.section	.data.LCD_X_LENGTH,"aw",%progbits
 3922              		.align	1
 3923              		.set	.LANCHOR1,. + 0
 3926              	LCD_X_LENGTH:
 3927 0000 F000     		.short	240
 3928              		.section	.data.LCD_Y_LENGTH,"aw",%progbits
 3929              		.align	1
 3930              		.set	.LANCHOR2,. + 0
 3933              	LCD_Y_LENGTH:
 3934 0000 4001     		.short	320
 3935              		.text
 3936              	.Letext0:
 3937              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 3938              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 3939              		.file 4 "Libraries/CMSIS/Include/core_cm3.h"
 3940              		.file 5 "Libraries/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 3941              		.file 6 "Libraries/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 3942              		.file 7 "Libraries/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 3943              		.file 8 "/usr/include/newlib/sys/lock.h"
 3944              		.file 9 "/usr/include/newlib/sys/_types.h"
 3945              		.file 10 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 3946              		.file 11 "/usr/include/newlib/sys/reent.h"
 3947              		.file 12 "Libraries/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 3948              		.file 13 "User/./font/fonts.h"
 3949              		.file 14 "User/./lcd/bsp_ili9341_lcd.h"
ARM GAS  /tmp/cc7rDAuv.s 			page 100


DEFINED SYMBOLS
                            *ABS*:0000000000000000 bsp_ili9341_lcd.c
     /tmp/cc7rDAuv.s:16     .text.ILI9341_Delay:0000000000000000 $t
     /tmp/cc7rDAuv.s:22     .text.ILI9341_Delay:0000000000000000 ILI9341_Delay
     /tmp/cc7rDAuv.s:57     .text.ILI9341_GPIO_Config:0000000000000000 $t
     /tmp/cc7rDAuv.s:63     .text.ILI9341_GPIO_Config:0000000000000000 ILI9341_GPIO_Config
     /tmp/cc7rDAuv.s:194    .text.ILI9341_GPIO_Config:00000000000000c0 $d
     /tmp/cc7rDAuv.s:203    .text.ILI9341_Write_Cmd:0000000000000000 $t
     /tmp/cc7rDAuv.s:210    .text.ILI9341_Write_Cmd:0000000000000000 ILI9341_Write_Cmd
     /tmp/cc7rDAuv.s:242    .text.ILI9341_Write_Cmd:000000000000001c $d
     /tmp/cc7rDAuv.s:248    .text.ILI9341_Write_Data:0000000000000000 $t
     /tmp/cc7rDAuv.s:255    .text.ILI9341_Write_Data:0000000000000000 ILI9341_Write_Data
     /tmp/cc7rDAuv.s:287    .text.ILI9341_Write_Data:000000000000001c $d
     /tmp/cc7rDAuv.s:293    .text.ILI9341_REG_Config:0000000000000000 $t
     /tmp/cc7rDAuv.s:299    .text.ILI9341_REG_Config:0000000000000000 ILI9341_REG_Config
     /tmp/cc7rDAuv.s:746    .text.ILI9341_REG_Config:00000000000002ac $d
     /tmp/cc7rDAuv.s:751    .text.ILI9341_Read_Data:0000000000000000 $t
     /tmp/cc7rDAuv.s:758    .text.ILI9341_Read_Data:0000000000000000 ILI9341_Read_Data
     /tmp/cc7rDAuv.s:817    .text.ILI9341_Read_Data:0000000000000044 $d
     /tmp/cc7rDAuv.s:822    .text.ILI9341_Read_PixelData:0000000000000000 $t
     /tmp/cc7rDAuv.s:828    .text.ILI9341_Read_PixelData:0000000000000000 ILI9341_Read_PixelData
     /tmp/cc7rDAuv.s:878    .text.ILI9341_Read_ID:0000000000000000 $t
     /tmp/cc7rDAuv.s:885    .text.ILI9341_Read_ID:0000000000000000 ILI9341_Read_ID
     /tmp/cc7rDAuv.s:927    .text.ILI9341_BackLed_Control:0000000000000000 $t
     /tmp/cc7rDAuv.s:934    .text.ILI9341_BackLed_Control:0000000000000000 ILI9341_BackLed_Control
     /tmp/cc7rDAuv.s:958    .text.ILI9341_BackLed_Control:0000000000000014 $d
     /tmp/cc7rDAuv.s:963    .text.ILI9341_GramScan:0000000000000000 $t
     /tmp/cc7rDAuv.s:970    .text.ILI9341_GramScan:0000000000000000 ILI9341_GramScan
     /tmp/cc7rDAuv.s:1087   .text.ILI9341_GramScan:00000000000000a0 $d
     /tmp/cc7rDAuv.s:1094   .text.ILI9341_Init:0000000000000000 $t
     /tmp/cc7rDAuv.s:1101   .text.ILI9341_Init:0000000000000000 ILI9341_Init
     /tmp/cc7rDAuv.s:1131   .text.ILI9341_Init:000000000000001c $d
     /tmp/cc7rDAuv.s:1136   .text.ILI9341_OpenWindow:0000000000000000 $t
     /tmp/cc7rDAuv.s:1143   .text.ILI9341_OpenWindow:0000000000000000 ILI9341_OpenWindow
     /tmp/cc7rDAuv.s:1217   .text.ILI9341_SetCursor:0000000000000000 $t
     /tmp/cc7rDAuv.s:1223   .text.ILI9341_SetCursor:0000000000000000 ILI9341_SetCursor
     /tmp/cc7rDAuv.s:1245   .text.ILI9341_Clear:0000000000000000 $t
     /tmp/cc7rDAuv.s:1252   .text.ILI9341_Clear:0000000000000000 ILI9341_Clear
     /tmp/cc7rDAuv.s:1305   .text.ILI9341_Clear:000000000000002c $d
     /tmp/cc7rDAuv.s:1310   .text.ILI9341_SetPointPixel:0000000000000000 $t
     /tmp/cc7rDAuv.s:1317   .text.ILI9341_SetPointPixel:0000000000000000 ILI9341_SetPointPixel
     /tmp/cc7rDAuv.s:1376   .text.ILI9341_SetPointPixel:0000000000000034 $d
     /tmp/cc7rDAuv.s:1385   .text.ILI9341_GetPointPixel:0000000000000000 $t
     /tmp/cc7rDAuv.s:1392   .text.ILI9341_GetPointPixel:0000000000000000 ILI9341_GetPointPixel
     /tmp/cc7rDAuv.s:1416   .text.ILI9341_DrawLine:0000000000000000 $t
     /tmp/cc7rDAuv.s:1423   .text.ILI9341_DrawLine:0000000000000000 ILI9341_DrawLine
     /tmp/cc7rDAuv.s:1587   .text.ILI9341_DrawRectangle:0000000000000000 $t
     /tmp/cc7rDAuv.s:1594   .text.ILI9341_DrawRectangle:0000000000000000 ILI9341_DrawRectangle
     /tmp/cc7rDAuv.s:1693   .text.ILI9341_DrawRectangle:000000000000007c $d
     /tmp/cc7rDAuv.s:1698   .text.ILI9341_DrawCircle:0000000000000000 $t
     /tmp/cc7rDAuv.s:1705   .text.ILI9341_DrawCircle:0000000000000000 ILI9341_DrawCircle
     /tmp/cc7rDAuv.s:1941   .text.ILI9341_DispChar_EN:0000000000000000 $t
     /tmp/cc7rDAuv.s:1948   .text.ILI9341_DispChar_EN:0000000000000000 ILI9341_DispChar_EN
     /tmp/cc7rDAuv.s:2048   .text.ILI9341_DispChar_EN:0000000000000070 $d
     /tmp/cc7rDAuv.s:2055   .text.ILI9341_DispStringLine_EN:0000000000000000 $t
     /tmp/cc7rDAuv.s:2062   .text.ILI9341_DispStringLine_EN:0000000000000000 ILI9341_DispStringLine_EN
     /tmp/cc7rDAuv.s:2147   .text.ILI9341_DispStringLine_EN:0000000000000050 $d
ARM GAS  /tmp/cc7rDAuv.s 			page 101


     /tmp/cc7rDAuv.s:2154   .text.ILI9341_DispString_EN:0000000000000000 $t
     /tmp/cc7rDAuv.s:2161   .text.ILI9341_DispString_EN:0000000000000000 ILI9341_DispString_EN
     /tmp/cc7rDAuv.s:2244   .text.ILI9341_DispString_EN:0000000000000050 $d
     /tmp/cc7rDAuv.s:2251   .text.ILI9341_DispString_EN_YDir:0000000000000000 $t
     /tmp/cc7rDAuv.s:2258   .text.ILI9341_DispString_EN_YDir:0000000000000000 ILI9341_DispString_EN_YDir
     /tmp/cc7rDAuv.s:2341   .text.ILI9341_DispString_EN_YDir:0000000000000050 $d
     /tmp/cc7rDAuv.s:2348   .text.ILI9341_DispChar_CH:0000000000000000 $t
     /tmp/cc7rDAuv.s:2355   .text.ILI9341_DispChar_CH:0000000000000000 ILI9341_DispChar_CH
     /tmp/cc7rDAuv.s:2457   .text.ILI9341_DispChar_CH:000000000000006c $d
     /tmp/cc7rDAuv.s:2463   .text.ILI9341_DispString_CH:0000000000000000 $t
     /tmp/cc7rDAuv.s:2470   .text.ILI9341_DispString_CH:0000000000000000 ILI9341_DispString_CH
     /tmp/cc7rDAuv.s:2549   .text.ILI9341_DispString_CH:0000000000000048 $d
     /tmp/cc7rDAuv.s:2555   .text.ILI9341_DispStringLine_EN_CH:0000000000000000 $t
     /tmp/cc7rDAuv.s:2562   .text.ILI9341_DispStringLine_EN_CH:0000000000000000 ILI9341_DispStringLine_EN_CH
     /tmp/cc7rDAuv.s:2699   .text.ILI9341_DispStringLine_EN_CH:000000000000008c $d
     /tmp/cc7rDAuv.s:2706   .text.ILI9341_DispString_EN_CH:0000000000000000 $t
     /tmp/cc7rDAuv.s:2713   .text.ILI9341_DispString_EN_CH:0000000000000000 ILI9341_DispString_EN_CH
     /tmp/cc7rDAuv.s:2848   .text.ILI9341_DispString_EN_CH:000000000000008c $d
     /tmp/cc7rDAuv.s:2855   .text.ILI9341_DispString_EN_CH_YDir:0000000000000000 $t
     /tmp/cc7rDAuv.s:2862   .text.ILI9341_DispString_EN_CH_YDir:0000000000000000 ILI9341_DispString_EN_CH_YDir
     /tmp/cc7rDAuv.s:2957   .text.ILI9341_DispString_EN_CH_YDir:000000000000005c $d
     /tmp/cc7rDAuv.s:2963   .text.ILI9341_zoomChar:0000000000000000 $t
     /tmp/cc7rDAuv.s:2970   .text.ILI9341_zoomChar:0000000000000000 ILI9341_zoomChar
     /tmp/cc7rDAuv.s:3175   .text.ILI9341_zoomChar:0000000000000114 $d
     /tmp/cc7rDAuv.s:3182   .text.ILI9341_DrawChar_Ex:0000000000000000 $t
     /tmp/cc7rDAuv.s:3189   .text.ILI9341_DrawChar_Ex:0000000000000000 ILI9341_DrawChar_Ex
     /tmp/cc7rDAuv.s:3270   .text.ILI9341_DrawChar_Ex:0000000000000050 $d
     /tmp/cc7rDAuv.s:3276   .text.ILI9341_DisplayStringEx:0000000000000000 $t
     /tmp/cc7rDAuv.s:3283   .text.ILI9341_DisplayStringEx:0000000000000000 ILI9341_DisplayStringEx
     /tmp/cc7rDAuv.s:3464   .text.ILI9341_DisplayStringEx:00000000000000e0 $d
     /tmp/cc7rDAuv.s:3472   .text.ILI9341_DisplayStringEx_YDir:0000000000000000 $t
     /tmp/cc7rDAuv.s:3479   .text.ILI9341_DisplayStringEx_YDir:0000000000000000 ILI9341_DisplayStringEx_YDir
     /tmp/cc7rDAuv.s:3655   .text.ILI9341_DisplayStringEx_YDir:00000000000000dc $d
     /tmp/cc7rDAuv.s:3663   .text.LCD_SetFont:0000000000000000 $t
     /tmp/cc7rDAuv.s:3670   .text.LCD_SetFont:0000000000000000 LCD_SetFont
     /tmp/cc7rDAuv.s:3685   .text.LCD_SetFont:0000000000000008 $d
     /tmp/cc7rDAuv.s:3690   .text.LCD_GetFont:0000000000000000 $t
     /tmp/cc7rDAuv.s:3697   .text.LCD_GetFont:0000000000000000 LCD_GetFont
     /tmp/cc7rDAuv.s:3711   .text.LCD_GetFont:0000000000000008 $d
     /tmp/cc7rDAuv.s:3716   .text.LCD_SetColors:0000000000000000 $t
     /tmp/cc7rDAuv.s:3723   .text.LCD_SetColors:0000000000000000 LCD_SetColors
     /tmp/cc7rDAuv.s:3741   .text.LCD_SetColors:000000000000000c $d
     /tmp/cc7rDAuv.s:3747   .text.LCD_GetColors:0000000000000000 $t
     /tmp/cc7rDAuv.s:3754   .text.LCD_GetColors:0000000000000000 LCD_GetColors
     /tmp/cc7rDAuv.s:3774   .text.LCD_GetColors:0000000000000010 $d
     /tmp/cc7rDAuv.s:3780   .text.LCD_SetTextColor:0000000000000000 $t
     /tmp/cc7rDAuv.s:3787   .text.LCD_SetTextColor:0000000000000000 LCD_SetTextColor
     /tmp/cc7rDAuv.s:3802   .text.LCD_SetTextColor:0000000000000008 $d
     /tmp/cc7rDAuv.s:3807   .text.LCD_SetBackColor:0000000000000000 $t
     /tmp/cc7rDAuv.s:3814   .text.LCD_SetBackColor:0000000000000000 LCD_SetBackColor
     /tmp/cc7rDAuv.s:3829   .text.LCD_SetBackColor:0000000000000008 $d
     /tmp/cc7rDAuv.s:3834   .text.LCD_ClearLine:0000000000000000 $t
     /tmp/cc7rDAuv.s:3841   .text.LCD_ClearLine:0000000000000000 LCD_ClearLine
     /tmp/cc7rDAuv.s:3871   .text.LCD_ClearLine:000000000000001c $d
     /tmp/cc7rDAuv.s:3899   .bss.zoomTempBuff:0000000000000000 zoomTempBuff
     /tmp/cc7rDAuv.s:3892   .bss.zoomBuff:0000000000000000 zoomBuff
     /tmp/cc7rDAuv.s:3919   .data.LCD_SCAN_MODE:0000000000000000 LCD_SCAN_MODE
ARM GAS  /tmp/cc7rDAuv.s 			page 102


     /tmp/cc7rDAuv.s:3933   .data.LCD_Y_LENGTH:0000000000000000 LCD_Y_LENGTH
     /tmp/cc7rDAuv.s:3926   .data.LCD_X_LENGTH:0000000000000000 LCD_X_LENGTH
     /tmp/cc7rDAuv.s:3881   .bss.CurrentTextColor:0000000000000000 $d
     /tmp/cc7rDAuv.s:3885   .bss.CurrentTextColor:0000000000000000 CurrentTextColor
     /tmp/cc7rDAuv.s:3888   .bss.zoomBuff:0000000000000000 $d
     /tmp/cc7rDAuv.s:3895   .bss.zoomTempBuff:0000000000000000 $d
     /tmp/cc7rDAuv.s:3902   .data.CurrentBackColor:0000000000000000 $d
     /tmp/cc7rDAuv.s:3906   .data.CurrentBackColor:0000000000000000 CurrentBackColor
     /tmp/cc7rDAuv.s:3909   .data.LCD_Currentfonts:0000000000000000 $d
     /tmp/cc7rDAuv.s:3913   .data.LCD_Currentfonts:0000000000000000 LCD_Currentfonts
     /tmp/cc7rDAuv.s:3922   .data.LCD_X_LENGTH:0000000000000000 $d
     /tmp/cc7rDAuv.s:3929   .data.LCD_Y_LENGTH:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_GPIO_Init
GetGBKCode_from_EXFlash
Font16x24
Font8x16
