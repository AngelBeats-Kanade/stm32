ARM GAS  /tmp/ccHFLqyU.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"exti.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.EXTI0_IRQHandler,"ax",%progbits
  16              		.align	1
  17              		.global	EXTI0_IRQHandler
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	EXTI0_IRQHandler:
  24              	.LFB112:
  25              		.file 1 "HARDWARE/EXTI/exti.c"
   1:HARDWARE/EXTI/exti.c **** //#include "led.h"
   2:HARDWARE/EXTI/exti.c **** //#include "key.h"
   3:HARDWARE/EXTI/exti.c **** //#include "delay.h"
   4:HARDWARE/EXTI/exti.c **** //#include "exti.h"
   5:HARDWARE/EXTI/exti.c **** ////Õ‚≤ø÷–∂œ0∑˛ŒÒ≥Ã–Ú
   6:HARDWARE/EXTI/exti.c **** //void EXTI0_IRQHandler(void) {
   7:HARDWARE/EXTI/exti.c **** //	delay_ms(10);
   8:HARDWARE/EXTI/exti.c **** //	if(WK_UP==1)LED0=!LED0;
   9:HARDWARE/EXTI/exti.c **** //	EXTI_ClearITPendingBit(EXTI_Line0);//«Â≥˝Line0…œµƒ÷–∂œ±Í÷æŒª
  10:HARDWARE/EXTI/exti.c **** //}
  11:HARDWARE/EXTI/exti.c **** //void EXTI4_IRQHandler(void) {
  12:HARDWARE/EXTI/exti.c **** //	delay_ms(10);
  13:HARDWARE/EXTI/exti.c **** //	if(KEY0==0)LED1=!LED1;
  14:HARDWARE/EXTI/exti.c **** //	EXTI_ClearITPendingBit(EXTI_Line4);//«Â≥˛Line4…œµƒ÷–∂œ±Í÷æŒª
  15:HARDWARE/EXTI/exti.c **** //}
  16:HARDWARE/EXTI/exti.c **** ////≥ı ºªØPE4∫ÕPA0Œ™÷–∂œ ‰»Î
  17:HARDWARE/EXTI/exti.c **** //void EXTIX_Init(void) {
  18:HARDWARE/EXTI/exti.c **** //	NVIC_InitTypeDef NVIC_InitStructure;
  19:HARDWARE/EXTI/exti.c **** //	EXTI_InitTypeDef EXTI_InitStructure;
  20:HARDWARE/EXTI/exti.c **** //	KEY_Init();
  21:HARDWARE/EXTI/exti.c **** //	RCC_APB2PeriphClockCmd(RCC_APB2Periph_SYSCFG,ENABLE);// πƒ‹Õ‚≤ø÷–∂œ ±÷”
  22:HARDWARE/EXTI/exti.c **** //	SYSCFG_EXTILineConfig(EXTI_PortSourceGPIOA,EXTI_PinSource0);//PA0¡¨Ω”œﬂ0
  23:HARDWARE/EXTI/exti.c **** //	SYSCFG_EXTILineConfig(EXTI_PortSourceGPIOE,EXTI_PinSource4);//PE4¡¨Ω”œﬂ4
  24:HARDWARE/EXTI/exti.c **** //	EXTI_InitStructure.EXTI_Line=EXTI_Line4;
  25:HARDWARE/EXTI/exti.c **** //	EXTI_InitStructure.EXTI_Mode=EXTI_Mode_Interrupt;//÷–∂œ ¬º˛
  26:HARDWARE/EXTI/exti.c **** //	EXTI_InitStructure.EXTI_Trigger=EXTI_Trigger_Falling;//œ¬Ωµ—ÿ¥•∑¢
  27:HARDWARE/EXTI/exti.c **** //	EXTI_InitStructure.EXTI_LineCmd=ENABLE;//÷–∂œœﬂ πƒ‹
  28:HARDWARE/EXTI/exti.c **** //	EXTI_Init(&EXTI_InitStructure);//≈‰÷√
  29:HARDWARE/EXTI/exti.c **** //	//≈‰÷√Line0
  30:HARDWARE/EXTI/exti.c **** //	EXTI_InitStructure.EXTI_Line=EXTI_Line0;
  31:HARDWARE/EXTI/exti.c **** //	EXTI_InitStructure.EXTI_Mode=EXTI_Mode_Interrupt;//÷–∂œ ¬º˛
  32:HARDWARE/EXTI/exti.c **** //	EXTI_InitStructure.EXTI_Trigger=EXTI_Trigger_Rising;//œ¬Ωµ—ÿ¥•∑¢
  33:HARDWARE/EXTI/exti.c **** //	EXTI_InitStructure.EXTI_LineCmd=ENABLE;//÷–∂œœﬂ πƒ‹
ARM GAS  /tmp/ccHFLqyU.s 			page 2


  34:HARDWARE/EXTI/exti.c **** //	EXTI_Init(&EXTI_InitStructure);//≈‰÷√
  35:HARDWARE/EXTI/exti.c **** //	//”≈œ»º∂≈‰÷√
  36:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannel=EXTI0_IRQn;//Õ‚≤ø÷–∂œ0
  37:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=0x00;//«¿’º”≈œ»º∂0
  38:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannelSubPriority=0x02;//œ‡œÏ”¶”≈œ»º∂2
  39:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannelCmd=ENABLE;// πƒ‹Õ‚≤øÕ®µ¿÷–∂œ
  40:HARDWARE/EXTI/exti.c **** //	NVIC_Init(&NVIC_InitStructure);//≈‰÷√NVIC
  41:HARDWARE/EXTI/exti.c **** //	
  42:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannel=EXTI4_IRQn;//Õ‚≤ø÷–∂œ0
  43:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=0x01;//«¿’º”≈œ»º∂0
  44:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannelSubPriority=0x02;//œ‡œÏ”¶”≈œ»º∂2
  45:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannelCmd=ENABLE;// πƒ‹Õ‚≤øÕ®µ¿÷–∂œ
  46:HARDWARE/EXTI/exti.c **** //	NVIC_Init(&NVIC_InitStructure);//≈‰÷√NVIC
  47:HARDWARE/EXTI/exti.c **** 
  48:HARDWARE/EXTI/exti.c **** //	
  49:HARDWARE/EXTI/exti.c **** //}
  50:HARDWARE/EXTI/exti.c **** 
  51:HARDWARE/EXTI/exti.c **** //#include "sys.h"
  52:HARDWARE/EXTI/exti.c **** //#include "usart.h"	
  53:HARDWARE/EXTI/exti.c **** //////////////////////////////////////////////////////////////////////////////////// 	 
  54:HARDWARE/EXTI/exti.c **** ////»Áπ˚ π”√ucos,‘Ú∞¸¿®œ¬√ÊµƒÕ∑Œƒº˛º¥ø….
  55:HARDWARE/EXTI/exti.c **** //#if SYSTEM_SUPPORT_OS
  56:HARDWARE/EXTI/exti.c **** //#include "includes.h"					//ucos  π”√	  
  57:HARDWARE/EXTI/exti.c **** //#endif
  58:HARDWARE/EXTI/exti.c **** ////////////////////////////////////////////////////////////////////////////////////	 
  59:HARDWARE/EXTI/exti.c **** ////±æ≥Ã–Ú÷ªπ©—ßœ∞ π”√£¨Œ¥æ≠◊˜’ﬂ–Ìø…£¨≤ªµ√”√”⁄∆‰À¸»Œ∫Œ”√Õæ
  60:HARDWARE/EXTI/exti.c **** ////ALIENTEK STM32F4ÃΩÀ˜’ﬂø™∑¢∞Â
  61:HARDWARE/EXTI/exti.c **** ////¥Æø⁄1≥ı ºªØ		   
  62:HARDWARE/EXTI/exti.c **** ////’˝µ„‘≠◊”@ALIENTEK
  63:HARDWARE/EXTI/exti.c **** ////ºº ı¬€Ã≥:www.openedv.com
  64:HARDWARE/EXTI/exti.c **** ////–ﬁ∏ƒ»’∆⁄:2014/6/10
  65:HARDWARE/EXTI/exti.c **** ////∞Ê±æ£∫V1.5
  66:HARDWARE/EXTI/exti.c **** ////∞Ê»®À˘”–£¨µ¡∞Ê±ÿæø°£
  67:HARDWARE/EXTI/exti.c **** ////Copyright(C) π„÷› ––«“ÌµÁ◊”ø∆ºº”–œﬁπ´Àæ 2009-2019
  68:HARDWARE/EXTI/exti.c **** ////All rights reserved
  69:HARDWARE/EXTI/exti.c **** ////********************************************************************************
  70:HARDWARE/EXTI/exti.c **** ////V1.3–ﬁ∏ƒÀµ√˜ 
  71:HARDWARE/EXTI/exti.c **** ////÷ß≥÷  ”¶≤ªÕ¨∆µ¬ œ¬µƒ¥Æø⁄≤®Ãÿ¬ …Ë÷√.
  72:HARDWARE/EXTI/exti.c **** ////º”»Î¡À∂‘printfµƒ÷ß≥÷
  73:HARDWARE/EXTI/exti.c **** ////‘ˆº”¡À¥Æø⁄Ω” ’√¸¡Óπ¶ƒ‹.
  74:HARDWARE/EXTI/exti.c **** ////–ﬁ’˝¡Àprintfµ⁄“ª∏ˆ◊÷∑˚∂™ ßµƒbug
  75:HARDWARE/EXTI/exti.c **** ////V1.4–ﬁ∏ƒÀµ√˜
  76:HARDWARE/EXTI/exti.c **** ////1,–ﬁ∏ƒ¥Æø⁄≥ı ºªØIOµƒbug
  77:HARDWARE/EXTI/exti.c **** ////2,–ﬁ∏ƒ¡ÀUSART_RX_STA, πµ√¥Æø⁄◊Ó¥ÛΩ” ’◊÷Ω⁄ ˝Œ™2µƒ14¥Œ∑Ω
  78:HARDWARE/EXTI/exti.c **** ////3,‘ˆº”¡ÀUSART_REC_LEN,”√”⁄∂®“Â¥Æø⁄◊Ó¥Û‘ –ÌΩ” ’µƒ◊÷Ω⁄ ˝(≤ª¥Û”⁄2µƒ14¥Œ∑Ω)
  79:HARDWARE/EXTI/exti.c **** ////4,–ﬁ∏ƒ¡ÀEN_USART1_RXµƒ πƒ‹∑Ω Ω
  80:HARDWARE/EXTI/exti.c **** ////V1.5–ﬁ∏ƒÀµ√˜
  81:HARDWARE/EXTI/exti.c **** ////1,‘ˆº”¡À∂‘UCOSIIµƒ÷ß≥÷
  82:HARDWARE/EXTI/exti.c **** //////////////////////////////////////////////////////////////////////////////////// 	  
  83:HARDWARE/EXTI/exti.c **** // 
  84:HARDWARE/EXTI/exti.c **** 
  85:HARDWARE/EXTI/exti.c **** ////////////////////////////////////////////////////////////////////
  86:HARDWARE/EXTI/exti.c **** ////º”»Î“‘œ¬¥˙¬Î,÷ß≥÷printf∫Ø ˝,∂¯≤ª–Ë“™—°‘Òuse MicroLIB	  
  87:HARDWARE/EXTI/exti.c **** //#if 1
  88:HARDWARE/EXTI/exti.c **** //#pragma import(__use_no_semihosting)             
  89:HARDWARE/EXTI/exti.c **** ////±Í◊ºø‚–Ë“™µƒ÷ß≥÷∫Ø ˝                 
  90:HARDWARE/EXTI/exti.c **** //struct __FILE 
ARM GAS  /tmp/ccHFLqyU.s 			page 3


  91:HARDWARE/EXTI/exti.c **** //{ 
  92:HARDWARE/EXTI/exti.c **** //	int handle; 
  93:HARDWARE/EXTI/exti.c **** //}; 
  94:HARDWARE/EXTI/exti.c **** 
  95:HARDWARE/EXTI/exti.c **** //FILE __stdout;       
  96:HARDWARE/EXTI/exti.c **** ////∂®“Â_sys_exit()“‘±‹√‚ π”√∞Î÷˜ª˙ƒ£ Ω    
  97:HARDWARE/EXTI/exti.c **** //_sys_exit(int x) 
  98:HARDWARE/EXTI/exti.c **** //{ 
  99:HARDWARE/EXTI/exti.c **** //	x = x; 
 100:HARDWARE/EXTI/exti.c **** //} 
 101:HARDWARE/EXTI/exti.c **** ////÷ÿ∂®“Âfputc∫Ø ˝ 
 102:HARDWARE/EXTI/exti.c **** //int fputc(int ch, FILE *f)
 103:HARDWARE/EXTI/exti.c **** //{ 	
 104:HARDWARE/EXTI/exti.c **** //	while((USART1->SR&0X40)==0);//—≠ª∑∑¢ÀÕ,÷±µΩ∑¢ÀÕÕÍ±œ   
 105:HARDWARE/EXTI/exti.c **** //	USART1->DR = (u8) ch;      
 106:HARDWARE/EXTI/exti.c **** //	return ch;
 107:HARDWARE/EXTI/exti.c **** //}
 108:HARDWARE/EXTI/exti.c **** //#endif
 109:HARDWARE/EXTI/exti.c **** // 
 110:HARDWARE/EXTI/exti.c **** //#if EN_USART1_RX   //»Áπ˚ πƒ‹¡ÀΩ” ’
 111:HARDWARE/EXTI/exti.c **** ////¥Æø⁄1÷–∂œ∑˛ŒÒ≥Ã–Ú
 112:HARDWARE/EXTI/exti.c **** ////◊¢“‚,∂¡»°USARTx->SRƒ‹±‹√‚ƒ™√˚∆‰√Óµƒ¥ÌŒÛ   	
 113:HARDWARE/EXTI/exti.c **** //u8 USART_RX_BUF[USART_REC_LEN];     //Ω” ’ª∫≥Â,◊Ó¥ÛUSART_REC_LEN∏ˆ◊÷Ω⁄.
 114:HARDWARE/EXTI/exti.c **** ////Ω” ’◊¥Ã¨
 115:HARDWARE/EXTI/exti.c **** ////bit15£¨	Ω” ’ÕÍ≥…±Í÷æ
 116:HARDWARE/EXTI/exti.c **** ////bit14£¨	Ω” ’µΩ0x0d
 117:HARDWARE/EXTI/exti.c **** ////bit13~0£¨	Ω” ’µΩµƒ”––ß◊÷Ω⁄ ˝ƒø
 118:HARDWARE/EXTI/exti.c **** //u16 USART_RX_STA=0;       //Ω” ’◊¥Ã¨±Íº«	
 119:HARDWARE/EXTI/exti.c **** 
 120:HARDWARE/EXTI/exti.c **** ////≥ı ºªØIO ¥Æø⁄1 
 121:HARDWARE/EXTI/exti.c **** ////bound:≤®Ãÿ¬ 
 122:HARDWARE/EXTI/exti.c **** //void uart_init(u32 bound){
 123:HARDWARE/EXTI/exti.c **** //   //GPIO∂Àø⁄…Ë÷√
 124:HARDWARE/EXTI/exti.c **** //  GPIO_InitTypeDef GPIO_InitStructure;
 125:HARDWARE/EXTI/exti.c **** //	USART_InitTypeDef USART_InitStructure;
 126:HARDWARE/EXTI/exti.c **** //	NVIC_InitTypeDef NVIC_InitStructure;
 127:HARDWARE/EXTI/exti.c **** //	
 128:HARDWARE/EXTI/exti.c **** //	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA,ENABLE); // πƒ‹GPIOA ±÷”
 129:HARDWARE/EXTI/exti.c **** //	RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1,ENABLE);// πƒ‹USART1 ±÷”
 130:HARDWARE/EXTI/exti.c **** // 
 131:HARDWARE/EXTI/exti.c **** //	//¥Æø⁄1∂‘”¶“˝Ω≈∏¥”√”≥…‰
 132:HARDWARE/EXTI/exti.c **** //	GPIO_PinAFConfig(GPIOA,GPIO_PinSource9,GPIO_AF_USART1); //GPIOA9∏¥”√Œ™USART1
 133:HARDWARE/EXTI/exti.c **** //	GPIO_PinAFConfig(GPIOA,GPIO_PinSource10,GPIO_AF_USART1); //GPIOA10∏¥”√Œ™USART1
 134:HARDWARE/EXTI/exti.c **** //	
 135:HARDWARE/EXTI/exti.c **** //	//USART1∂Àø⁄≈‰÷√
 136:HARDWARE/EXTI/exti.c **** //  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9 | GPIO_Pin_10; //GPIOA9”ÎGPIOA10
 137:HARDWARE/EXTI/exti.c **** //	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF;//∏¥”√π¶ƒ‹
 138:HARDWARE/EXTI/exti.c **** //	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;	//ÀŸ∂»50MHz
 139:HARDWARE/EXTI/exti.c **** //	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP; //Õ∆ÕÏ∏¥”√ ‰≥ˆ
 140:HARDWARE/EXTI/exti.c **** //	GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP; //…œ¿≠
 141:HARDWARE/EXTI/exti.c **** //	GPIO_Init(GPIOA,&GPIO_InitStructure); //≥ı ºªØPA9£¨PA10
 142:HARDWARE/EXTI/exti.c **** 
 143:HARDWARE/EXTI/exti.c **** //   //USART1 ≥ı ºªØ…Ë÷√
 144:HARDWARE/EXTI/exti.c **** //	USART_InitStructure.USART_BaudRate = bound;//≤®Ãÿ¬ …Ë÷√
 145:HARDWARE/EXTI/exti.c **** //	USART_InitStructure.USART_WordLength = USART_WordLength_8b;//◊÷≥§Œ™8Œª ˝æ›∏Ò Ω
 146:HARDWARE/EXTI/exti.c **** //	USART_InitStructure.USART_StopBits = USART_StopBits_1;//“ª∏ˆÕ£÷πŒª
 147:HARDWARE/EXTI/exti.c **** //	USART_InitStructure.USART_Parity = USART_Parity_No;//Œﬁ∆Ê≈º–£—ÈŒª
ARM GAS  /tmp/ccHFLqyU.s 			page 4


 148:HARDWARE/EXTI/exti.c **** //	USART_InitStructure.USART_HardwareFlowControl = USART_HardwareFlowControl_None;//Œﬁ”≤º˛ ˝æ›¡˜øÿ÷
 149:HARDWARE/EXTI/exti.c **** //	USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;	// ’∑¢ƒ£ Ω
 150:HARDWARE/EXTI/exti.c **** //  USART_Init(USART1, &USART_InitStructure); //≥ı ºªØ¥Æø⁄1
 151:HARDWARE/EXTI/exti.c **** //	
 152:HARDWARE/EXTI/exti.c **** //  USART_Cmd(USART1, ENABLE);  // πƒ‹¥Æø⁄1 
 153:HARDWARE/EXTI/exti.c **** //	
 154:HARDWARE/EXTI/exti.c **** //	//USART_ClearFlag(USART1, USART_FLAG_TC);
 155:HARDWARE/EXTI/exti.c **** //	
 156:HARDWARE/EXTI/exti.c **** //#if EN_USART1_RX	
 157:HARDWARE/EXTI/exti.c **** //	USART_ITConfig(USART1, USART_IT_RXNE, ENABLE);//ø™∆Ùœ‡πÿ÷–∂œ
 158:HARDWARE/EXTI/exti.c **** 
 159:HARDWARE/EXTI/exti.c **** //	//Usart1 NVIC ≈‰÷√
 160:HARDWARE/EXTI/exti.c **** //  NVIC_InitStructure.NVIC_IRQChannel = USART1_IRQn;//¥Æø⁄1÷–∂œÕ®µ¿
 161:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=3;//«¿’º”≈œ»º∂3
 162:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannelSubPriority =3;		//◊””≈œ»º∂3
 163:HARDWARE/EXTI/exti.c **** //	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;			//IRQÕ®µ¿ πƒ‹
 164:HARDWARE/EXTI/exti.c **** //	NVIC_Init(&NVIC_InitStructure);	//∏˘æ›÷∏∂®µƒ≤Œ ˝≥ı ºªØVICºƒ¥Ê∆˜°¢
 165:HARDWARE/EXTI/exti.c **** 
 166:HARDWARE/EXTI/exti.c **** //#endif
 167:HARDWARE/EXTI/exti.c **** //	
 168:HARDWARE/EXTI/exti.c **** //}
 169:HARDWARE/EXTI/exti.c **** 
 170:HARDWARE/EXTI/exti.c **** 
 171:HARDWARE/EXTI/exti.c **** //void USART1_IRQHandler(void)                	//¥Æø⁄1÷–∂œ∑˛ŒÒ≥Ã–Ú
 172:HARDWARE/EXTI/exti.c **** //{
 173:HARDWARE/EXTI/exti.c **** //	u8 Res;
 174:HARDWARE/EXTI/exti.c **** //#if SYSTEM_SUPPORT_OS 		//»Áπ˚SYSTEM_SUPPORT_OSŒ™’Ê£¨‘Ú–Ë“™÷ß≥÷OS.
 175:HARDWARE/EXTI/exti.c **** //	OSIntEnter();    
 176:HARDWARE/EXTI/exti.c **** //#endif
 177:HARDWARE/EXTI/exti.c **** //	if(USART_GetITStatus(USART1, USART_IT_RXNE) != RESET)  //Ω” ’÷–∂œ(Ω” ’µΩµƒ ˝æ›±ÿ–Î «0x0d 0x0aΩ·Œ
 178:HARDWARE/EXTI/exti.c **** //	{
 179:HARDWARE/EXTI/exti.c **** //		Res =USART_ReceiveData(USART1);//(USART1->DR);	//∂¡»°Ω” ’µΩµƒ ˝æ›
 180:HARDWARE/EXTI/exti.c **** //		
 181:HARDWARE/EXTI/exti.c **** //		if((USART_RX_STA&0x8000)==0)//Ω” ’Œ¥ÕÍ≥…
 182:HARDWARE/EXTI/exti.c **** //		{
 183:HARDWARE/EXTI/exti.c **** //			if(USART_RX_STA&0x4000)//Ω” ’µΩ¡À0x0d
 184:HARDWARE/EXTI/exti.c **** //			{
 185:HARDWARE/EXTI/exti.c **** //				if(Res!=0x0a)USART_RX_STA=0;//Ω” ’¥ÌŒÛ,÷ÿ–¬ø™ º
 186:HARDWARE/EXTI/exti.c **** //				else USART_RX_STA|=0x8000;	//Ω” ’ÕÍ≥…¡À 
 187:HARDWARE/EXTI/exti.c **** //			}
 188:HARDWARE/EXTI/exti.c **** //			else //ªπ√ª ’µΩ0X0D
 189:HARDWARE/EXTI/exti.c **** //			{	
 190:HARDWARE/EXTI/exti.c **** //				if(Res==0x0d)USART_RX_STA|=0x4000;
 191:HARDWARE/EXTI/exti.c **** //				else
 192:HARDWARE/EXTI/exti.c **** //				{
 193:HARDWARE/EXTI/exti.c **** //					USART_RX_BUF[USART_RX_STA&0X3FFF]=Res ;
 194:HARDWARE/EXTI/exti.c **** //					USART_RX_STA++;
 195:HARDWARE/EXTI/exti.c **** //					if(USART_RX_STA>(USART_REC_LEN-1))USART_RX_STA=0;//Ω” ’ ˝æ›¥ÌŒÛ,÷ÿ–¬ø™ ºΩ” ’	  
 196:HARDWARE/EXTI/exti.c **** //				}		 
 197:HARDWARE/EXTI/exti.c **** //			}
 198:HARDWARE/EXTI/exti.c **** //		}   		 
 199:HARDWARE/EXTI/exti.c **** //  } 
 200:HARDWARE/EXTI/exti.c **** //#if SYSTEM_SUPPORT_OS 	//»Áπ˚SYSTEM_SUPPORT_OSŒ™’Ê£¨‘Ú–Ë“™÷ß≥÷OS.
 201:HARDWARE/EXTI/exti.c **** //	OSIntExit();  											 
 202:HARDWARE/EXTI/exti.c **** //#endif
 203:HARDWARE/EXTI/exti.c **** //} 
 204:HARDWARE/EXTI/exti.c **** //#endif	
ARM GAS  /tmp/ccHFLqyU.s 			page 5


 205:HARDWARE/EXTI/exti.c **** 
 206:HARDWARE/EXTI/exti.c **** // 
 207:HARDWARE/EXTI/exti.c **** 
 208:HARDWARE/EXTI/exti.c **** 
 209:HARDWARE/EXTI/exti.c **** 
 210:HARDWARE/EXTI/exti.c **** #include "exti.h"
 211:HARDWARE/EXTI/exti.c **** #include "delay.h" 
 212:HARDWARE/EXTI/exti.c **** #include "sys.h"
 213:HARDWARE/EXTI/exti.c **** #include "stm32f4xx_exti.h"
 214:HARDWARE/EXTI/exti.c **** #include "myiic.h"
 215:HARDWARE/EXTI/exti.c **** 
 216:HARDWARE/EXTI/exti.c **** int down_flag = 0;
 217:HARDWARE/EXTI/exti.c **** //“‘PB0◊˜Œ™÷–∂œ“˝Ω≈
 218:HARDWARE/EXTI/exti.c **** void EXTI0_IRQHandler(void)
 219:HARDWARE/EXTI/exti.c **** {
  26              		.loc 1 219 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30 0000 08B5     		push	{r3, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 8
  33              		.cfi_offset 3, -8
  34              		.cfi_offset 14, -4
 220:HARDWARE/EXTI/exti.c **** 	 down_flag=1;
  35              		.loc 1 220 0
  36 0002 0120     		movs	r0, #1
  37 0004 024B     		ldr	r3, .L3
  38 0006 1860     		str	r0, [r3]
 221:HARDWARE/EXTI/exti.c **** 	 EXTI_ClearITPendingBit(EXTI_Line0); //«Â≥˝LINE0…œµƒ÷–∂œ±Í÷æ
  39              		.loc 1 221 0
  40 0008 FFF7FEFF 		bl	EXTI_ClearITPendingBit
  41              	.LVL0:
  42 000c 08BD     		pop	{r3, pc}
  43              	.L4:
  44 000e 00BF     		.align	2
  45              	.L3:
  46 0010 00000000 		.word	.LANCHOR0
  47              		.cfi_endproc
  48              	.LFE112:
  50              		.section	.text.EXTIX_Init,"ax",%progbits
  51              		.align	1
  52              		.global	EXTIX_Init
  53              		.syntax unified
  54              		.thumb
  55              		.thumb_func
  56              		.fpu softvfp
  58              	EXTIX_Init:
  59              	.LFB113:
 222:HARDWARE/EXTI/exti.c **** }	
 223:HARDWARE/EXTI/exti.c **** 
 224:HARDWARE/EXTI/exti.c **** void EXTIX_Init(void)
 225:HARDWARE/EXTI/exti.c **** {
  60              		.loc 1 225 0
  61              		.cfi_startproc
  62              		@ args = 0, pretend = 0, frame = 16
  63              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccHFLqyU.s 			page 6


  64 0000 10B5     		push	{r4, lr}
  65              	.LCFI1:
  66              		.cfi_def_cfa_offset 8
  67              		.cfi_offset 4, -8
  68              		.cfi_offset 14, -4
  69 0002 84B0     		sub	sp, sp, #16
  70              	.LCFI2:
  71              		.cfi_def_cfa_offset 24
 226:HARDWARE/EXTI/exti.c **** 	
 227:HARDWARE/EXTI/exti.c ****   NVIC_InitTypeDef   NVIC_InitStructure;
 228:HARDWARE/EXTI/exti.c **** 	EXTI_InitTypeDef   EXTI_InitStructure;
 229:HARDWARE/EXTI/exti.c **** 	
 230:HARDWARE/EXTI/exti.c **** 	
 231:HARDWARE/EXTI/exti.c **** 	RCC_APB2PeriphClockCmd(RCC_APB2Periph_SYSCFG, ENABLE);// πƒ‹SYSCFG ±÷”
  72              		.loc 1 231 0
  73 0004 0121     		movs	r1, #1
  74 0006 4FF48040 		mov	r0, #16384
  75 000a FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
  76              	.LVL1:
 232:HARDWARE/EXTI/exti.c **** 	SYSCFG_EXTILineConfig(EXTI_PortSourceGPIOB, EXTI_PinSource0);//PB0 ¡¨Ω”µΩ÷–∂œœﬂ0
  77              		.loc 1 232 0
  78 000e 0021     		movs	r1, #0
  79 0010 0120     		movs	r0, #1
  80 0012 FFF7FEFF 		bl	SYSCFG_EXTILineConfig
  81              	.LVL2:
 233:HARDWARE/EXTI/exti.c ****   /* ≈‰÷√EXTI_Line0 */
 234:HARDWARE/EXTI/exti.c ****   EXTI_InitStructure.EXTI_Line = EXTI_Line0;//LINE0
  82              		.loc 1 234 0
  83 0016 0124     		movs	r4, #1
  84 0018 0194     		str	r4, [sp, #4]
 235:HARDWARE/EXTI/exti.c ****   EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;//÷–∂œ ¬º˛
  85              		.loc 1 235 0
  86 001a 0023     		movs	r3, #0
  87 001c 8DF80830 		strb	r3, [sp, #8]
 236:HARDWARE/EXTI/exti.c ****   EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;//œ¬Ωµ—ÿ¥•∑¢ 
  88              		.loc 1 236 0
  89 0020 0C23     		movs	r3, #12
  90 0022 8DF80930 		strb	r3, [sp, #9]
 237:HARDWARE/EXTI/exti.c ****   EXTI_InitStructure.EXTI_LineCmd = ENABLE;// πƒ‹LINE0
  91              		.loc 1 237 0
  92 0026 8DF80A40 		strb	r4, [sp, #10]
 238:HARDWARE/EXTI/exti.c ****   EXTI_Init(&EXTI_InitStructure);//≈‰÷√
  93              		.loc 1 238 0
  94 002a 01A8     		add	r0, sp, #4
  95 002c FFF7FEFF 		bl	EXTI_Init
  96              	.LVL3:
 239:HARDWARE/EXTI/exti.c **** 
 240:HARDWARE/EXTI/exti.c **** 	
 241:HARDWARE/EXTI/exti.c **** 	NVIC_InitStructure.NVIC_IRQChannel = EXTI0_IRQn;//Õ‚≤ø÷–∂œ0
  97              		.loc 1 241 0
  98 0030 0623     		movs	r3, #6
  99 0032 8DF80C30 		strb	r3, [sp, #12]
 242:HARDWARE/EXTI/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02;//«¿’º”≈œ»º∂2
 100              		.loc 1 242 0
 101 0036 0223     		movs	r3, #2
 102 0038 8DF80D30 		strb	r3, [sp, #13]
 243:HARDWARE/EXTI/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x02;//◊””≈œ»º∂2
ARM GAS  /tmp/ccHFLqyU.s 			page 7


 103              		.loc 1 243 0
 104 003c 8DF80E30 		strb	r3, [sp, #14]
 244:HARDWARE/EXTI/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;// πƒ‹Õ‚≤ø÷–∂œÕ®µ¿
 105              		.loc 1 244 0
 106 0040 8DF80F40 		strb	r4, [sp, #15]
 245:HARDWARE/EXTI/exti.c ****   NVIC_Init(&NVIC_InitStructure);//≈‰÷√
 107              		.loc 1 245 0
 108 0044 03A8     		add	r0, sp, #12
 109 0046 FFF7FEFF 		bl	NVIC_Init
 110              	.LVL4:
 246:HARDWARE/EXTI/exti.c **** }
 111              		.loc 1 246 0
 112 004a 04B0     		add	sp, sp, #16
 113              	.LCFI3:
 114              		.cfi_def_cfa_offset 8
 115              		@ sp needed
 116 004c 10BD     		pop	{r4, pc}
 117              		.cfi_endproc
 118              	.LFE113:
 120              		.global	down_flag
 121              		.section	.bss.down_flag,"aw",%nobits
 122              		.align	2
 123              		.set	.LANCHOR0,. + 0
 126              	down_flag:
 127 0000 00000000 		.space	4
 128              		.text
 129              	.Letext0:
 130              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 131              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 132              		.file 4 "CORE/core_cm4.h"
 133              		.file 5 "USER/system_stm32f4xx.h"
 134              		.file 6 "USER/stm32f4xx.h"
 135              		.file 7 "FWLIB/inc/stm32f4xx_exti.h"
 136              		.file 8 "FWLIB/inc/misc.h"
 137              		.file 9 "HARDWARE/EXTI/exti.h"
 138              		.file 10 "FWLIB/inc/stm32f4xx_rcc.h"
 139              		.file 11 "FWLIB/inc/stm32f4xx_syscfg.h"
ARM GAS  /tmp/ccHFLqyU.s 			page 8


DEFINED SYMBOLS
                            *ABS*:0000000000000000 exti.c
     /tmp/ccHFLqyU.s:16     .text.EXTI0_IRQHandler:0000000000000000 $t
     /tmp/ccHFLqyU.s:23     .text.EXTI0_IRQHandler:0000000000000000 EXTI0_IRQHandler
     /tmp/ccHFLqyU.s:46     .text.EXTI0_IRQHandler:0000000000000010 $d
     /tmp/ccHFLqyU.s:51     .text.EXTIX_Init:0000000000000000 $t
     /tmp/ccHFLqyU.s:58     .text.EXTIX_Init:0000000000000000 EXTIX_Init
     /tmp/ccHFLqyU.s:126    .bss.down_flag:0000000000000000 down_flag
     /tmp/ccHFLqyU.s:122    .bss.down_flag:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
EXTI_ClearITPendingBit
RCC_APB2PeriphClockCmd
SYSCFG_EXTILineConfig
EXTI_Init
NVIC_Init
