ARM GAS  /tmp/ccYQ2vhW.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"bsp_lcd.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.LCD_GPIO_Config,"ax",%progbits
  17              		.align	1
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv5-d16
  23              	LCD_GPIO_Config:
  24              	.LFB142:
  25              		.file 1 "User/lcd/bsp_lcd.c"
   1:User/lcd/bsp_lcd.c **** /**
   2:User/lcd/bsp_lcd.c ****  ******************************************************************************
   3:User/lcd/bsp_lcd.c ****  * @file    bsp_lcd.c
   4:User/lcd/bsp_lcd.c ****  * @author  fire
   5:User/lcd/bsp_lcd.c ****  * @version V1.0
   6:User/lcd/bsp_lcd.c ****  * @date    2016-xx-xx
   7:User/lcd/bsp_lcd.c ****  * @brief   LCD应用函数接口，支持ARGB888/RGB888/RGB565/ARGB4444/ARGB1555 (不含中文显示)
   8:User/lcd/bsp_lcd.c ****  ******************************************************************************
   9:User/lcd/bsp_lcd.c ****  * @attention
  10:User/lcd/bsp_lcd.c ****  *
  11:User/lcd/bsp_lcd.c ****  * 实验平台:野火  STM32 H743 开发板
  12:User/lcd/bsp_lcd.c ****  * 论坛    :http://www.firebbs.cn
  13:User/lcd/bsp_lcd.c ****  * 淘宝    :http://firestm32.taobao.com
  14:User/lcd/bsp_lcd.c ****  *
  15:User/lcd/bsp_lcd.c ****  ******************************************************************************
  16:User/lcd/bsp_lcd.c ****  */
  17:User/lcd/bsp_lcd.c **** 
  18:User/lcd/bsp_lcd.c **** /* Includes ------------------------------------------------------------------*/
  19:User/lcd/bsp_lcd.c **** #include "./lcd/bsp_lcd.h"
  20:User/lcd/bsp_lcd.c **** 
  21:User/lcd/bsp_lcd.c **** #define POLY_X(Z) ((int32_t)((Points + Z)->X))
  22:User/lcd/bsp_lcd.c **** #define POLY_Y(Z) ((int32_t)((Points + Z)->Y))
  23:User/lcd/bsp_lcd.c **** 
  24:User/lcd/bsp_lcd.c **** #define ABS(X) ((X) > 0 ? (X) : -(X))
  25:User/lcd/bsp_lcd.c **** 
  26:User/lcd/bsp_lcd.c **** static LTDC_HandleTypeDef Ltdc_Handler;
  27:User/lcd/bsp_lcd.c **** static DMA2D_HandleTypeDef Dma2d_Handler;
  28:User/lcd/bsp_lcd.c **** 
  29:User/lcd/bsp_lcd.c **** /* Default LCD configuration with LCD Layer 1 */
  30:User/lcd/bsp_lcd.c **** static uint32_t ActiveLayer = 0;
  31:User/lcd/bsp_lcd.c **** static LCD_DrawPropTypeDef DrawProp[MAX_LAYER_NUMBER];
  32:User/lcd/bsp_lcd.c **** /**
  33:User/lcd/bsp_lcd.c ****  * @brief  Initializes the LCD.
ARM GAS  /tmp/ccYQ2vhW.s 			page 2


  34:User/lcd/bsp_lcd.c ****  * @param  None
  35:User/lcd/bsp_lcd.c ****  * @retval None
  36:User/lcd/bsp_lcd.c ****  */
  37:User/lcd/bsp_lcd.c **** 
  38:User/lcd/bsp_lcd.c **** /*根据液晶数据手册的参数配置*/
  39:User/lcd/bsp_lcd.c **** #define HBP 46 // HSYNC后的无效像素
  40:User/lcd/bsp_lcd.c **** #define VBP 23 // VSYNC后的无效行数
  41:User/lcd/bsp_lcd.c **** 
  42:User/lcd/bsp_lcd.c **** #define HSW 1 // HSYNC宽度
  43:User/lcd/bsp_lcd.c **** #define VSW 1 // VSYNC宽度
  44:User/lcd/bsp_lcd.c **** 
  45:User/lcd/bsp_lcd.c **** #define HFP 10 // HSYNC前的无效像素
  46:User/lcd/bsp_lcd.c **** #define VFP 22 // VSYNC前的无效行数
  47:User/lcd/bsp_lcd.c **** 
  48:User/lcd/bsp_lcd.c **** static void DrawChar(uint16_t Xpos, uint16_t Ypos, const uint8_t *c);
  49:User/lcd/bsp_lcd.c **** static void FillTriangle(uint16_t x1, uint16_t x2, uint16_t x3, uint16_t y1, uint16_t y2, uint16_t 
  50:User/lcd/bsp_lcd.c **** static void LL_FillBuffer(uint32_t LayerIndex, void *pDst, uint32_t xSize, uint32_t ySize, uint32_t
  51:User/lcd/bsp_lcd.c ****                           uint32_t ColorIndex);
  52:User/lcd/bsp_lcd.c **** static void LL_ConvertLineToARGB8888(void *pSrc, void *pDst, uint32_t xSize, uint32_t ColorMode);
  53:User/lcd/bsp_lcd.c **** /**
  54:User/lcd/bsp_lcd.c ****  * @brief  初始化控制LCD的IO
  55:User/lcd/bsp_lcd.c ****  * @param  无
  56:User/lcd/bsp_lcd.c ****  * @retval 无
  57:User/lcd/bsp_lcd.c ****  */
  58:User/lcd/bsp_lcd.c **** static void LCD_GPIO_Config(void)
  59:User/lcd/bsp_lcd.c **** {
  26              		.loc 1 59 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 136
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 36
  33              		.cfi_offset 4, -36
  34              		.cfi_offset 5, -32
  35              		.cfi_offset 6, -28
  36              		.cfi_offset 7, -24
  37              		.cfi_offset 8, -20
  38              		.cfi_offset 9, -16
  39              		.cfi_offset 10, -12
  40              		.cfi_offset 11, -8
  41              		.cfi_offset 14, -4
  42 0004 A3B0     		sub	sp, sp, #140
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 176
  45              	.LBB2:
  60:User/lcd/bsp_lcd.c ****   GPIO_InitTypeDef GPIO_InitStruct;
  61:User/lcd/bsp_lcd.c **** 
  62:User/lcd/bsp_lcd.c ****   /* 使能LCD使用到的引脚时钟 */
  63:User/lcd/bsp_lcd.c ****   //红色数据线
  64:User/lcd/bsp_lcd.c ****   LTDC_R0_GPIO_CLK_ENABLE();
  46              		.loc 1 64 0
  47 0006 D14B     		ldr	r3, .L3
  48 0008 D3F8E020 		ldr	r2, [r3, #224]
  49 000c 42F48072 		orr	r2, r2, #256
  50 0010 C3F8E020 		str	r2, [r3, #224]
  51 0014 D3F8E020 		ldr	r2, [r3, #224]
ARM GAS  /tmp/ccYQ2vhW.s 			page 3


  52 0018 02F48072 		and	r2, r2, #256
  53 001c 0092     		str	r2, [sp]
  54 001e 009A     		ldr	r2, [sp]
  55              	.LBE2:
  56              	.LBB3:
  65:User/lcd/bsp_lcd.c ****   LTDC_R1_GPIO_CLK_ENABLE();
  57              		.loc 1 65 0
  58 0020 D3F8E020 		ldr	r2, [r3, #224]
  59 0024 42F40072 		orr	r2, r2, #512
  60 0028 C3F8E020 		str	r2, [r3, #224]
  61 002c D3F8E020 		ldr	r2, [r3, #224]
  62 0030 02F40072 		and	r2, r2, #512
  63 0034 0192     		str	r2, [sp, #4]
  64 0036 019A     		ldr	r2, [sp, #4]
  65              	.LBE3:
  66              	.LBB4:
  66:User/lcd/bsp_lcd.c ****   LTDC_R2_GPIO_CLK_ENABLE();
  67              		.loc 1 66 0
  68 0038 D3F8E020 		ldr	r2, [r3, #224]
  69 003c 42F40072 		orr	r2, r2, #512
  70 0040 C3F8E020 		str	r2, [r3, #224]
  71 0044 D3F8E020 		ldr	r2, [r3, #224]
  72 0048 02F40072 		and	r2, r2, #512
  73 004c 0292     		str	r2, [sp, #8]
  74 004e 029A     		ldr	r2, [sp, #8]
  75              	.LBE4:
  76              	.LBB5:
  67:User/lcd/bsp_lcd.c ****   LTDC_R3_GPIO_CLK_ENABLE();
  77              		.loc 1 67 0
  78 0050 D3F8E020 		ldr	r2, [r3, #224]
  79 0054 42F40072 		orr	r2, r2, #512
  80 0058 C3F8E020 		str	r2, [r3, #224]
  81 005c D3F8E020 		ldr	r2, [r3, #224]
  82 0060 02F40072 		and	r2, r2, #512
  83 0064 0392     		str	r2, [sp, #12]
  84 0066 039A     		ldr	r2, [sp, #12]
  85              	.LBE5:
  86              	.LBB6:
  68:User/lcd/bsp_lcd.c ****   LTDC_R4_GPIO_CLK_ENABLE();
  87              		.loc 1 68 0
  88 0068 D3F8E020 		ldr	r2, [r3, #224]
  89 006c 42F40072 		orr	r2, r2, #512
  90 0070 C3F8E020 		str	r2, [r3, #224]
  91 0074 D3F8E020 		ldr	r2, [r3, #224]
  92 0078 02F40072 		and	r2, r2, #512
  93 007c 0492     		str	r2, [sp, #16]
  94 007e 049A     		ldr	r2, [sp, #16]
  95              	.LBE6:
  96              	.LBB7:
  69:User/lcd/bsp_lcd.c ****   LTDC_R5_GPIO_CLK_ENABLE();
  97              		.loc 1 69 0
  98 0080 D3F8E020 		ldr	r2, [r3, #224]
  99 0084 42F40072 		orr	r2, r2, #512
 100 0088 C3F8E020 		str	r2, [r3, #224]
 101 008c D3F8E020 		ldr	r2, [r3, #224]
 102 0090 02F40072 		and	r2, r2, #512
 103 0094 0592     		str	r2, [sp, #20]
ARM GAS  /tmp/ccYQ2vhW.s 			page 4


 104 0096 059A     		ldr	r2, [sp, #20]
 105              	.LBE7:
 106              	.LBB8:
  70:User/lcd/bsp_lcd.c ****   LTDC_R6_GPIO_CLK_ENABLE();
 107              		.loc 1 70 0
 108 0098 D3F8E020 		ldr	r2, [r3, #224]
 109 009c 42F40072 		orr	r2, r2, #512
 110 00a0 C3F8E020 		str	r2, [r3, #224]
 111 00a4 D3F8E020 		ldr	r2, [r3, #224]
 112 00a8 02F40072 		and	r2, r2, #512
 113 00ac 0692     		str	r2, [sp, #24]
 114 00ae 069A     		ldr	r2, [sp, #24]
 115              	.LBE8:
 116              	.LBB9:
  71:User/lcd/bsp_lcd.c ****   LTDC_R7_GPIO_CLK_ENABLE();
 117              		.loc 1 71 0
 118 00b0 D3F8E020 		ldr	r2, [r3, #224]
 119 00b4 42F40072 		orr	r2, r2, #512
 120 00b8 C3F8E020 		str	r2, [r3, #224]
 121 00bc D3F8E020 		ldr	r2, [r3, #224]
 122 00c0 02F40072 		and	r2, r2, #512
 123 00c4 0792     		str	r2, [sp, #28]
 124 00c6 079A     		ldr	r2, [sp, #28]
 125              	.LBE9:
 126              	.LBB10:
  72:User/lcd/bsp_lcd.c ****   LTDC_G0_GPIO_CLK_ENABLE();
 127              		.loc 1 72 0
 128 00c8 D3F8E020 		ldr	r2, [r3, #224]
 129 00cc 42F40072 		orr	r2, r2, #512
 130 00d0 C3F8E020 		str	r2, [r3, #224]
 131 00d4 D3F8E020 		ldr	r2, [r3, #224]
 132 00d8 02F40072 		and	r2, r2, #512
 133 00dc 0892     		str	r2, [sp, #32]
 134 00de 089A     		ldr	r2, [sp, #32]
 135              	.LBE10:
 136              	.LBB11:
  73:User/lcd/bsp_lcd.c ****   LTDC_G1_GPIO_CLK_ENABLE();
 137              		.loc 1 73 0
 138 00e0 D3F8E020 		ldr	r2, [r3, #224]
 139 00e4 42F40072 		orr	r2, r2, #512
 140 00e8 C3F8E020 		str	r2, [r3, #224]
 141 00ec D3F8E020 		ldr	r2, [r3, #224]
 142 00f0 02F40072 		and	r2, r2, #512
 143 00f4 0992     		str	r2, [sp, #36]
 144 00f6 099A     		ldr	r2, [sp, #36]
 145              	.LBE11:
 146              	.LBB12:
  74:User/lcd/bsp_lcd.c ****   LTDC_G2_GPIO_CLK_ENABLE();
 147              		.loc 1 74 0
 148 00f8 D3F8E020 		ldr	r2, [r3, #224]
 149 00fc 42F40072 		orr	r2, r2, #512
 150 0100 C3F8E020 		str	r2, [r3, #224]
 151 0104 D3F8E020 		ldr	r2, [r3, #224]
 152 0108 02F40072 		and	r2, r2, #512
 153 010c 0A92     		str	r2, [sp, #40]
 154 010e 0A9A     		ldr	r2, [sp, #40]
 155              	.LBE12:
ARM GAS  /tmp/ccYQ2vhW.s 			page 5


 156              	.LBB13:
  75:User/lcd/bsp_lcd.c ****   LTDC_G3_GPIO_CLK_ENABLE();
 157              		.loc 1 75 0
 158 0110 D3F8E020 		ldr	r2, [r3, #224]
 159 0114 42F40072 		orr	r2, r2, #512
 160 0118 C3F8E020 		str	r2, [r3, #224]
 161 011c D3F8E020 		ldr	r2, [r3, #224]
 162 0120 02F40072 		and	r2, r2, #512
 163 0124 0B92     		str	r2, [sp, #44]
 164 0126 0B9A     		ldr	r2, [sp, #44]
 165              	.LBE13:
 166              	.LBB14:
  76:User/lcd/bsp_lcd.c ****   LTDC_G3_GPIO_CLK_ENABLE();
 167              		.loc 1 76 0
 168 0128 D3F8E020 		ldr	r2, [r3, #224]
 169 012c 42F40072 		orr	r2, r2, #512
 170 0130 C3F8E020 		str	r2, [r3, #224]
 171 0134 D3F8E020 		ldr	r2, [r3, #224]
 172 0138 02F40072 		and	r2, r2, #512
 173 013c 0C92     		str	r2, [sp, #48]
 174 013e 0C9A     		ldr	r2, [sp, #48]
 175              	.LBE14:
 176              	.LBB15:
  77:User/lcd/bsp_lcd.c ****   LTDC_G5_GPIO_CLK_ENABLE();
 177              		.loc 1 77 0
 178 0140 D3F8E020 		ldr	r2, [r3, #224]
 179 0144 42F48062 		orr	r2, r2, #1024
 180 0148 C3F8E020 		str	r2, [r3, #224]
 181 014c D3F8E020 		ldr	r2, [r3, #224]
 182 0150 02F48062 		and	r2, r2, #1024
 183 0154 0D92     		str	r2, [sp, #52]
 184 0156 0D9A     		ldr	r2, [sp, #52]
 185              	.LBE15:
 186              	.LBB16:
  78:User/lcd/bsp_lcd.c ****   LTDC_G6_GPIO_CLK_ENABLE();
 187              		.loc 1 78 0
 188 0158 D3F8E020 		ldr	r2, [r3, #224]
 189 015c 42F48062 		orr	r2, r2, #1024
 190 0160 C3F8E020 		str	r2, [r3, #224]
 191 0164 D3F8E020 		ldr	r2, [r3, #224]
 192 0168 02F48062 		and	r2, r2, #1024
 193 016c 0E92     		str	r2, [sp, #56]
 194 016e 0E9A     		ldr	r2, [sp, #56]
 195              	.LBE16:
 196              	.LBB17:
  79:User/lcd/bsp_lcd.c ****   LTDC_G7_GPIO_CLK_ENABLE();
 197              		.loc 1 79 0
 198 0170 D3F8E020 		ldr	r2, [r3, #224]
 199 0174 42F48062 		orr	r2, r2, #1024
 200 0178 C3F8E020 		str	r2, [r3, #224]
 201 017c D3F8E020 		ldr	r2, [r3, #224]
 202 0180 02F48062 		and	r2, r2, #1024
 203 0184 0F92     		str	r2, [sp, #60]
 204 0186 0F9A     		ldr	r2, [sp, #60]
 205              	.LBE17:
 206              	.LBB18:
  80:User/lcd/bsp_lcd.c ****   LTDC_B0_GPIO_CLK_ENABLE();
ARM GAS  /tmp/ccYQ2vhW.s 			page 6


 207              		.loc 1 80 0
 208 0188 D3F8E020 		ldr	r2, [r3, #224]
 209 018c 42F40072 		orr	r2, r2, #512
 210 0190 C3F8E020 		str	r2, [r3, #224]
 211 0194 D3F8E020 		ldr	r2, [r3, #224]
 212 0198 02F40072 		and	r2, r2, #512
 213 019c 1092     		str	r2, [sp, #64]
 214 019e 109A     		ldr	r2, [sp, #64]
 215              	.LBE18:
 216              	.LBB19:
  81:User/lcd/bsp_lcd.c ****   LTDC_B1_GPIO_CLK_ENABLE();
 217              		.loc 1 81 0
 218 01a0 D3F8E020 		ldr	r2, [r3, #224]
 219 01a4 42F40072 		orr	r2, r2, #512
 220 01a8 C3F8E020 		str	r2, [r3, #224]
 221 01ac D3F8E020 		ldr	r2, [r3, #224]
 222 01b0 02F40072 		and	r2, r2, #512
 223 01b4 1192     		str	r2, [sp, #68]
 224 01b6 119A     		ldr	r2, [sp, #68]
 225              	.LBE19:
 226              	.LBB20:
  82:User/lcd/bsp_lcd.c ****   LTDC_B2_GPIO_CLK_ENABLE();
 227              		.loc 1 82 0
 228 01b8 D3F8E020 		ldr	r2, [r3, #224]
 229 01bc 42F40072 		orr	r2, r2, #512
 230 01c0 C3F8E020 		str	r2, [r3, #224]
 231 01c4 D3F8E020 		ldr	r2, [r3, #224]
 232 01c8 02F40072 		and	r2, r2, #512
 233 01cc 1292     		str	r2, [sp, #72]
 234 01ce 129A     		ldr	r2, [sp, #72]
 235              	.LBE20:
 236              	.LBB21:
  83:User/lcd/bsp_lcd.c ****   LTDC_B3_GPIO_CLK_ENABLE();
 237              		.loc 1 83 0
 238 01d0 D3F8E020 		ldr	r2, [r3, #224]
 239 01d4 42F40072 		orr	r2, r2, #512
 240 01d8 C3F8E020 		str	r2, [r3, #224]
 241 01dc D3F8E020 		ldr	r2, [r3, #224]
 242 01e0 02F40072 		and	r2, r2, #512
 243 01e4 1392     		str	r2, [sp, #76]
 244 01e6 139A     		ldr	r2, [sp, #76]
 245              	.LBE21:
 246              	.LBB22:
  84:User/lcd/bsp_lcd.c ****   LTDC_B4_GPIO_CLK_ENABLE();
 247              		.loc 1 84 0
 248 01e8 D3F8E020 		ldr	r2, [r3, #224]
 249 01ec 42F48062 		orr	r2, r2, #1024
 250 01f0 C3F8E020 		str	r2, [r3, #224]
 251 01f4 D3F8E020 		ldr	r2, [r3, #224]
 252 01f8 02F48062 		and	r2, r2, #1024
 253 01fc 1492     		str	r2, [sp, #80]
 254 01fe 149A     		ldr	r2, [sp, #80]
 255              	.LBE22:
 256              	.LBB23:
  85:User/lcd/bsp_lcd.c ****   LTDC_B5_GPIO_CLK_ENABLE();
 257              		.loc 1 85 0
 258 0200 D3F8E020 		ldr	r2, [r3, #224]
ARM GAS  /tmp/ccYQ2vhW.s 			page 7


 259 0204 42F48062 		orr	r2, r2, #1024
 260 0208 C3F8E020 		str	r2, [r3, #224]
 261 020c D3F8E020 		ldr	r2, [r3, #224]
 262 0210 02F48062 		and	r2, r2, #1024
 263 0214 1592     		str	r2, [sp, #84]
 264 0216 159A     		ldr	r2, [sp, #84]
 265              	.LBE23:
 266              	.LBB24:
  86:User/lcd/bsp_lcd.c ****   LTDC_B6_GPIO_CLK_ENABLE();
 267              		.loc 1 86 0
 268 0218 D3F8E020 		ldr	r2, [r3, #224]
 269 021c 42F48062 		orr	r2, r2, #1024
 270 0220 C3F8E020 		str	r2, [r3, #224]
 271 0224 D3F8E020 		ldr	r2, [r3, #224]
 272 0228 02F48062 		and	r2, r2, #1024
 273 022c 1692     		str	r2, [sp, #88]
 274 022e 169A     		ldr	r2, [sp, #88]
 275              	.LBE24:
 276              	.LBB25:
  87:User/lcd/bsp_lcd.c ****   LTDC_B7_GPIO_CLK_ENABLE();
 277              		.loc 1 87 0
 278 0230 D3F8E020 		ldr	r2, [r3, #224]
 279 0234 42F48062 		orr	r2, r2, #1024
 280 0238 C3F8E020 		str	r2, [r3, #224]
 281 023c D3F8E020 		ldr	r2, [r3, #224]
 282 0240 02F48062 		and	r2, r2, #1024
 283 0244 1792     		str	r2, [sp, #92]
 284 0246 179A     		ldr	r2, [sp, #92]
 285              	.LBE25:
 286              	.LBB26:
  88:User/lcd/bsp_lcd.c ****   LTDC_CLK_GPIO_CLK_ENABLE();
 287              		.loc 1 88 0
 288 0248 D3F8E020 		ldr	r2, [r3, #224]
 289 024c 42F48072 		orr	r2, r2, #256
 290 0250 C3F8E020 		str	r2, [r3, #224]
 291 0254 D3F8E020 		ldr	r2, [r3, #224]
 292 0258 02F48072 		and	r2, r2, #256
 293 025c 1892     		str	r2, [sp, #96]
 294 025e 189A     		ldr	r2, [sp, #96]
 295              	.LBE26:
 296              	.LBB27:
  89:User/lcd/bsp_lcd.c ****   LTDC_HSYNC_GPIO_CLK_ENABLE();
 297              		.loc 1 89 0
 298 0260 D3F8E020 		ldr	r2, [r3, #224]
 299 0264 42F48072 		orr	r2, r2, #256
 300 0268 C3F8E020 		str	r2, [r3, #224]
 301 026c D3F8E020 		ldr	r2, [r3, #224]
 302 0270 02F48072 		and	r2, r2, #256
 303 0274 1992     		str	r2, [sp, #100]
 304 0276 199A     		ldr	r2, [sp, #100]
 305              	.LBE27:
 306              	.LBB28:
  90:User/lcd/bsp_lcd.c ****   LTDC_VSYNC_GPIO_CLK_ENABLE();
 307              		.loc 1 90 0
 308 0278 D3F8E020 		ldr	r2, [r3, #224]
 309 027c 42F48072 		orr	r2, r2, #256
 310 0280 C3F8E020 		str	r2, [r3, #224]
ARM GAS  /tmp/ccYQ2vhW.s 			page 8


 311 0284 D3F8E020 		ldr	r2, [r3, #224]
 312 0288 02F48072 		and	r2, r2, #256
 313 028c 1A92     		str	r2, [sp, #104]
 314 028e 1A9A     		ldr	r2, [sp, #104]
 315              	.LBE28:
 316              	.LBB29:
  91:User/lcd/bsp_lcd.c ****   LTDC_DE_GPIO_CLK_ENABLE();
 317              		.loc 1 91 0
 318 0290 D3F8E020 		ldr	r2, [r3, #224]
 319 0294 42F48062 		orr	r2, r2, #1024
 320 0298 C3F8E020 		str	r2, [r3, #224]
 321 029c D3F8E020 		ldr	r2, [r3, #224]
 322 02a0 02F48062 		and	r2, r2, #1024
 323 02a4 1B92     		str	r2, [sp, #108]
 324 02a6 1B9A     		ldr	r2, [sp, #108]
 325              	.LBE29:
 326              	.LBB30:
  92:User/lcd/bsp_lcd.c ****   LTDC_BL_GPIO_CLK_ENABLE();
 327              		.loc 1 92 0
 328 02a8 D3F8E020 		ldr	r2, [r3, #224]
 329 02ac 42F00802 		orr	r2, r2, #8
 330 02b0 C3F8E020 		str	r2, [r3, #224]
 331 02b4 D3F8E030 		ldr	r3, [r3, #224]
 332 02b8 03F00803 		and	r3, r3, #8
 333 02bc 1C93     		str	r3, [sp, #112]
 334 02be 1C9B     		ldr	r3, [sp, #112]
 335              	.LBE30:
  93:User/lcd/bsp_lcd.c ****   /* GPIO配置 */
  94:User/lcd/bsp_lcd.c **** 
  95:User/lcd/bsp_lcd.c ****   /* 红色数据线 */
  96:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 336              		.loc 1 96 0
 337 02c0 4FF00208 		mov	r8, #2
 338 02c4 CDF88080 		str	r8, [sp, #128]
  97:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 339              		.loc 1 97 0
 340 02c8 CDF87880 		str	r8, [sp, #120]
  98:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pull = GPIO_PULLUP;
 341              		.loc 1 98 0
 342 02cc 0127     		movs	r7, #1
 343 02ce 1F97     		str	r7, [sp, #124]
  99:User/lcd/bsp_lcd.c **** 
 100:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_R0_GPIO_PIN;
 344              		.loc 1 100 0
 345 02d0 4FF40043 		mov	r3, #32768
 346 02d4 1D93     		str	r3, [sp, #116]
 101:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_R0_AF;
 347              		.loc 1 101 0
 348 02d6 0E24     		movs	r4, #14
 349 02d8 2194     		str	r4, [sp, #132]
 102:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_R0_GPIO_PORT, &GPIO_InitStruct);
 350              		.loc 1 102 0
 351 02da 1DA9     		add	r1, sp, #116
 352 02dc 1C48     		ldr	r0, .L3+4
 353 02de FFF7FEFF 		bl	HAL_GPIO_Init
 354              	.LVL0:
 103:User/lcd/bsp_lcd.c **** 
ARM GAS  /tmp/ccYQ2vhW.s 			page 9


 104:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_R1_GPIO_PIN;
 355              		.loc 1 104 0
 356 02e2 1D97     		str	r7, [sp, #116]
 105:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_R1_AF;
 357              		.loc 1 105 0
 358 02e4 2194     		str	r4, [sp, #132]
 106:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_R1_GPIO_PORT, &GPIO_InitStruct);
 359              		.loc 1 106 0
 360 02e6 1DA9     		add	r1, sp, #116
 361 02e8 1A48     		ldr	r0, .L3+8
 362 02ea FFF7FEFF 		bl	HAL_GPIO_Init
 363              	.LVL1:
 107:User/lcd/bsp_lcd.c **** 
 108:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_R2_GPIO_PIN;
 364              		.loc 1 108 0
 365 02ee CDF87480 		str	r8, [sp, #116]
 109:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_R2_AF;
 366              		.loc 1 109 0
 367 02f2 2194     		str	r4, [sp, #132]
 110:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_R2_GPIO_PORT, &GPIO_InitStruct);
 368              		.loc 1 110 0
 369 02f4 1DA9     		add	r1, sp, #116
 370 02f6 1748     		ldr	r0, .L3+8
 371 02f8 FFF7FEFF 		bl	HAL_GPIO_Init
 372              	.LVL2:
 111:User/lcd/bsp_lcd.c **** 
 112:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_R3_GPIO_PIN;
 373              		.loc 1 112 0
 374 02fc 4FF00409 		mov	r9, #4
 375 0300 CDF87490 		str	r9, [sp, #116]
 113:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_R3_AF;
 376              		.loc 1 113 0
 377 0304 2194     		str	r4, [sp, #132]
 114:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_R3_GPIO_PORT, &GPIO_InitStruct);
 378              		.loc 1 114 0
 379 0306 1DA9     		add	r1, sp, #116
 380 0308 1248     		ldr	r0, .L3+8
 381 030a FFF7FEFF 		bl	HAL_GPIO_Init
 382              	.LVL3:
 115:User/lcd/bsp_lcd.c **** 
 116:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_R4_GPIO_PIN;
 383              		.loc 1 116 0
 384 030e 0823     		movs	r3, #8
 385 0310 1D93     		str	r3, [sp, #116]
 117:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_R4_AF;
 386              		.loc 1 117 0
 387 0312 2194     		str	r4, [sp, #132]
 118:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_R4_GPIO_PORT, &GPIO_InitStruct);
 388              		.loc 1 118 0
 389 0314 1DA9     		add	r1, sp, #116
 390 0316 0F48     		ldr	r0, .L3+8
 391 0318 FFF7FEFF 		bl	HAL_GPIO_Init
 392              	.LVL4:
 119:User/lcd/bsp_lcd.c **** 
 120:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_R5_GPIO_PIN;
 393              		.loc 1 120 0
 394 031c 1023     		movs	r3, #16
ARM GAS  /tmp/ccYQ2vhW.s 			page 10


 395 031e 1D93     		str	r3, [sp, #116]
 121:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_R5_AF;
 396              		.loc 1 121 0
 397 0320 2194     		str	r4, [sp, #132]
 122:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_R5_GPIO_PORT, &GPIO_InitStruct);
 398              		.loc 1 122 0
 399 0322 1DA9     		add	r1, sp, #116
 400 0324 0B48     		ldr	r0, .L3+8
 401 0326 FFF7FEFF 		bl	HAL_GPIO_Init
 402              	.LVL5:
 123:User/lcd/bsp_lcd.c **** 
 124:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_R6_GPIO_PIN;
 403              		.loc 1 124 0
 404 032a 2023     		movs	r3, #32
 405 032c 1D93     		str	r3, [sp, #116]
 125:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_R6_AF;
 406              		.loc 1 125 0
 407 032e 2194     		str	r4, [sp, #132]
 126:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_R6_GPIO_PORT, &GPIO_InitStruct);
 408              		.loc 1 126 0
 409 0330 1DA9     		add	r1, sp, #116
 410 0332 0848     		ldr	r0, .L3+8
 411 0334 FFF7FEFF 		bl	HAL_GPIO_Init
 412              	.LVL6:
 127:User/lcd/bsp_lcd.c **** 
 128:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_R7_GPIO_PIN;
 413              		.loc 1 128 0
 414 0338 4025     		movs	r5, #64
 415 033a 1D95     		str	r5, [sp, #116]
 129:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_R7_AF;
 416              		.loc 1 129 0
 417 033c 2194     		str	r4, [sp, #132]
 130:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_R7_GPIO_PORT, &GPIO_InitStruct);
 418              		.loc 1 130 0
 419 033e 1DA9     		add	r1, sp, #116
 420 0340 0448     		ldr	r0, .L3+8
 421 0342 FFF7FEFF 		bl	HAL_GPIO_Init
 422              	.LVL7:
 131:User/lcd/bsp_lcd.c **** 
 132:User/lcd/bsp_lcd.c ****   //绿色数据线
 133:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_G0_GPIO_PIN;
 423              		.loc 1 133 0
 424 0346 8026     		movs	r6, #128
 425 0348 06E0     		b	.L4
 426              	.L5:
 427 034a 00BF     		.align	2
 428              	.L3:
 429 034c 00440258 		.word	1476543488
 430 0350 00200258 		.word	1476534272
 431 0354 00240258 		.word	1476535296
 432              	.L4:
 433 0358 1D96     		str	r6, [sp, #116]
 134:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_G0_AF;
 434              		.loc 1 134 0
 435 035a 2194     		str	r4, [sp, #132]
 135:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_G0_GPIO_PORT, &GPIO_InitStruct);
 436              		.loc 1 135 0
ARM GAS  /tmp/ccYQ2vhW.s 			page 11


 437 035c 1DA9     		add	r1, sp, #116
 438 035e 4E48     		ldr	r0, .L6
 439 0360 FFF7FEFF 		bl	HAL_GPIO_Init
 440              	.LVL8:
 136:User/lcd/bsp_lcd.c **** 
 137:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_G1_GPIO_PIN;
 441              		.loc 1 137 0
 442 0364 4FF48073 		mov	r3, #256
 443 0368 1D93     		str	r3, [sp, #116]
 138:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_G1_AF;
 444              		.loc 1 138 0
 445 036a 2194     		str	r4, [sp, #132]
 139:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_G1_GPIO_PORT, &GPIO_InitStruct);
 446              		.loc 1 139 0
 447 036c 1DA9     		add	r1, sp, #116
 448 036e 4A48     		ldr	r0, .L6
 449 0370 FFF7FEFF 		bl	HAL_GPIO_Init
 450              	.LVL9:
 140:User/lcd/bsp_lcd.c **** 
 141:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_G2_GPIO_PIN;
 451              		.loc 1 141 0
 452 0374 4FF40073 		mov	r3, #512
 453 0378 1D93     		str	r3, [sp, #116]
 142:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_G2_AF;
 454              		.loc 1 142 0
 455 037a 2194     		str	r4, [sp, #132]
 143:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_G2_GPIO_PORT, &GPIO_InitStruct);
 456              		.loc 1 143 0
 457 037c 1DA9     		add	r1, sp, #116
 458 037e 4648     		ldr	r0, .L6
 459 0380 FFF7FEFF 		bl	HAL_GPIO_Init
 460              	.LVL10:
 144:User/lcd/bsp_lcd.c **** 
 145:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_G3_GPIO_PIN;
 461              		.loc 1 145 0
 462 0384 4FF48063 		mov	r3, #1024
 463 0388 1D93     		str	r3, [sp, #116]
 146:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_G3_AF;
 464              		.loc 1 146 0
 465 038a 2194     		str	r4, [sp, #132]
 147:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_G3_GPIO_PORT, &GPIO_InitStruct);
 466              		.loc 1 147 0
 467 038c 1DA9     		add	r1, sp, #116
 468 038e 4248     		ldr	r0, .L6
 469 0390 FFF7FEFF 		bl	HAL_GPIO_Init
 470              	.LVL11:
 148:User/lcd/bsp_lcd.c **** 
 149:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_G4_GPIO_PIN;
 471              		.loc 1 149 0
 472 0394 4FF40063 		mov	r3, #2048
 473 0398 1D93     		str	r3, [sp, #116]
 150:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_G4_AF;
 474              		.loc 1 150 0
 475 039a 2194     		str	r4, [sp, #132]
 151:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_G4_GPIO_PORT, &GPIO_InitStruct);
 476              		.loc 1 151 0
 477 039c 1DA9     		add	r1, sp, #116
ARM GAS  /tmp/ccYQ2vhW.s 			page 12


 478 039e 3E48     		ldr	r0, .L6
 479 03a0 FFF7FEFF 		bl	HAL_GPIO_Init
 480              	.LVL12:
 152:User/lcd/bsp_lcd.c **** 
 153:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_G5_GPIO_PIN;
 481              		.loc 1 153 0
 482 03a4 1D97     		str	r7, [sp, #116]
 154:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_G5_AF;
 483              		.loc 1 154 0
 484 03a6 2194     		str	r4, [sp, #132]
 155:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_G5_GPIO_PORT, &GPIO_InitStruct);
 485              		.loc 1 155 0
 486 03a8 1DA9     		add	r1, sp, #116
 487 03aa 3C48     		ldr	r0, .L6+4
 488 03ac FFF7FEFF 		bl	HAL_GPIO_Init
 489              	.LVL13:
 156:User/lcd/bsp_lcd.c **** 
 157:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_G6_GPIO_PIN;
 490              		.loc 1 157 0
 491 03b0 CDF87480 		str	r8, [sp, #116]
 158:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_G6_AF;
 492              		.loc 1 158 0
 493 03b4 2194     		str	r4, [sp, #132]
 159:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_G6_GPIO_PORT, &GPIO_InitStruct);
 494              		.loc 1 159 0
 495 03b6 1DA9     		add	r1, sp, #116
 496 03b8 3848     		ldr	r0, .L6+4
 497 03ba FFF7FEFF 		bl	HAL_GPIO_Init
 498              	.LVL14:
 160:User/lcd/bsp_lcd.c **** 
 161:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_G7_GPIO_PIN;
 499              		.loc 1 161 0
 500 03be CDF87490 		str	r9, [sp, #116]
 162:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_G7_AF;
 501              		.loc 1 162 0
 502 03c2 2194     		str	r4, [sp, #132]
 163:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_G7_GPIO_PORT, &GPIO_InitStruct);
 503              		.loc 1 163 0
 504 03c4 1DA9     		add	r1, sp, #116
 505 03c6 3548     		ldr	r0, .L6+4
 506 03c8 FFF7FEFF 		bl	HAL_GPIO_Init
 507              	.LVL15:
 164:User/lcd/bsp_lcd.c **** 
 165:User/lcd/bsp_lcd.c ****   //蓝色数据线
 166:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_B0_GPIO_PIN;
 508              		.loc 1 166 0
 509 03cc 4FF4805A 		mov	r10, #4096
 510 03d0 CDF874A0 		str	r10, [sp, #116]
 167:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_B0_AF;
 511              		.loc 1 167 0
 512 03d4 2194     		str	r4, [sp, #132]
 168:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_B0_GPIO_PORT, &GPIO_InitStruct);
 513              		.loc 1 168 0
 514 03d6 1DA9     		add	r1, sp, #116
 515 03d8 2F48     		ldr	r0, .L6
 516 03da FFF7FEFF 		bl	HAL_GPIO_Init
 517              	.LVL16:
ARM GAS  /tmp/ccYQ2vhW.s 			page 13


 169:User/lcd/bsp_lcd.c **** 
 170:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_B1_GPIO_PIN;
 518              		.loc 1 170 0
 519 03de 4FF40059 		mov	r9, #8192
 520 03e2 CDF87490 		str	r9, [sp, #116]
 171:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_B1_AF;
 521              		.loc 1 171 0
 522 03e6 2194     		str	r4, [sp, #132]
 172:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_B1_GPIO_PORT, &GPIO_InitStruct);
 523              		.loc 1 172 0
 524 03e8 1DA9     		add	r1, sp, #116
 525 03ea 2B48     		ldr	r0, .L6
 526 03ec FFF7FEFF 		bl	HAL_GPIO_Init
 527              	.LVL17:
 173:User/lcd/bsp_lcd.c **** 
 174:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_B2_GPIO_PIN;
 528              		.loc 1 174 0
 529 03f0 4FF4804B 		mov	fp, #16384
 530 03f4 CDF874B0 		str	fp, [sp, #116]
 175:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_B2_AF;
 531              		.loc 1 175 0
 532 03f8 2194     		str	r4, [sp, #132]
 176:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_B2_GPIO_PORT, &GPIO_InitStruct);
 533              		.loc 1 176 0
 534 03fa 1DA9     		add	r1, sp, #116
 535 03fc 2648     		ldr	r0, .L6
 536 03fe FFF7FEFF 		bl	HAL_GPIO_Init
 537              	.LVL18:
 177:User/lcd/bsp_lcd.c **** 
 178:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_B3_GPIO_PIN;
 538              		.loc 1 178 0
 539 0402 4FF40043 		mov	r3, #32768
 540 0406 1D93     		str	r3, [sp, #116]
 179:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_B3_AF;
 541              		.loc 1 179 0
 542 0408 2194     		str	r4, [sp, #132]
 180:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_B3_GPIO_PORT, &GPIO_InitStruct);
 543              		.loc 1 180 0
 544 040a 1DA9     		add	r1, sp, #116
 545 040c 2248     		ldr	r0, .L6
 546 040e FFF7FEFF 		bl	HAL_GPIO_Init
 547              	.LVL19:
 181:User/lcd/bsp_lcd.c **** 
 182:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_B4_GPIO_PIN;
 548              		.loc 1 182 0
 549 0412 0823     		movs	r3, #8
 550 0414 1D93     		str	r3, [sp, #116]
 183:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_B4_AF;
 551              		.loc 1 183 0
 552 0416 2194     		str	r4, [sp, #132]
 184:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_B4_GPIO_PORT, &GPIO_InitStruct);
 553              		.loc 1 184 0
 554 0418 1DA9     		add	r1, sp, #116
 555 041a 2048     		ldr	r0, .L6+4
 556 041c FFF7FEFF 		bl	HAL_GPIO_Init
 557              	.LVL20:
 185:User/lcd/bsp_lcd.c **** 
ARM GAS  /tmp/ccYQ2vhW.s 			page 14


 186:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_B5_GPIO_PIN;
 558              		.loc 1 186 0
 559 0420 1023     		movs	r3, #16
 560 0422 1D93     		str	r3, [sp, #116]
 187:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_B5_AF;
 561              		.loc 1 187 0
 562 0424 2194     		str	r4, [sp, #132]
 188:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_B5_GPIO_PORT, &GPIO_InitStruct);
 563              		.loc 1 188 0
 564 0426 1DA9     		add	r1, sp, #116
 565 0428 1C48     		ldr	r0, .L6+4
 566 042a FFF7FEFF 		bl	HAL_GPIO_Init
 567              	.LVL21:
 189:User/lcd/bsp_lcd.c **** 
 190:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_B6_GPIO_PIN;
 568              		.loc 1 190 0
 569 042e 2023     		movs	r3, #32
 570 0430 1D93     		str	r3, [sp, #116]
 191:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_B6_AF;
 571              		.loc 1 191 0
 572 0432 2194     		str	r4, [sp, #132]
 192:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_B6_GPIO_PORT, &GPIO_InitStruct);
 573              		.loc 1 192 0
 574 0434 1DA9     		add	r1, sp, #116
 575 0436 1948     		ldr	r0, .L6+4
 576 0438 FFF7FEFF 		bl	HAL_GPIO_Init
 577              	.LVL22:
 193:User/lcd/bsp_lcd.c **** 
 194:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_B7_GPIO_PIN;
 578              		.loc 1 194 0
 579 043c 1D95     		str	r5, [sp, #116]
 195:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_B7_AF;
 580              		.loc 1 195 0
 581 043e 2194     		str	r4, [sp, #132]
 196:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_B7_GPIO_PORT, &GPIO_InitStruct);
 582              		.loc 1 196 0
 583 0440 1DA9     		add	r1, sp, #116
 584 0442 1648     		ldr	r0, .L6+4
 585 0444 FFF7FEFF 		bl	HAL_GPIO_Init
 586              	.LVL23:
 197:User/lcd/bsp_lcd.c **** 
 198:User/lcd/bsp_lcd.c ****   //控制信号线
 199:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_CLK_GPIO_PIN;
 587              		.loc 1 199 0
 588 0448 CDF874B0 		str	fp, [sp, #116]
 200:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_CLK_AF;
 589              		.loc 1 200 0
 590 044c 2194     		str	r4, [sp, #132]
 201:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_CLK_GPIO_PORT, &GPIO_InitStruct);
 591              		.loc 1 201 0
 592 044e 1DA9     		add	r1, sp, #116
 593 0450 1348     		ldr	r0, .L6+8
 594 0452 FFF7FEFF 		bl	HAL_GPIO_Init
 595              	.LVL24:
 202:User/lcd/bsp_lcd.c **** 
 203:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_HSYNC_GPIO_PIN;
 596              		.loc 1 203 0
ARM GAS  /tmp/ccYQ2vhW.s 			page 15


 597 0456 CDF874A0 		str	r10, [sp, #116]
 204:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_HSYNC_AF;
 598              		.loc 1 204 0
 599 045a 2194     		str	r4, [sp, #132]
 205:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_HSYNC_GPIO_PORT, &GPIO_InitStruct);
 600              		.loc 1 205 0
 601 045c 1DA9     		add	r1, sp, #116
 602 045e 1048     		ldr	r0, .L6+8
 603 0460 FFF7FEFF 		bl	HAL_GPIO_Init
 604              	.LVL25:
 206:User/lcd/bsp_lcd.c **** 
 207:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_VSYNC_GPIO_PIN;
 605              		.loc 1 207 0
 606 0464 CDF87490 		str	r9, [sp, #116]
 208:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_VSYNC_AF;
 607              		.loc 1 208 0
 608 0468 2194     		str	r4, [sp, #132]
 209:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_VSYNC_GPIO_PORT, &GPIO_InitStruct);
 609              		.loc 1 209 0
 610 046a 1DA9     		add	r1, sp, #116
 611 046c 0C48     		ldr	r0, .L6+8
 612 046e FFF7FEFF 		bl	HAL_GPIO_Init
 613              	.LVL26:
 210:User/lcd/bsp_lcd.c **** 
 211:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_DE_GPIO_PIN;
 614              		.loc 1 211 0
 615 0472 1D96     		str	r6, [sp, #116]
 212:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Alternate = LTDC_DE_AF;
 616              		.loc 1 212 0
 617 0474 2194     		str	r4, [sp, #132]
 213:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_DE_GPIO_PORT, &GPIO_InitStruct);
 618              		.loc 1 213 0
 619 0476 1DA9     		add	r1, sp, #116
 620 0478 0848     		ldr	r0, .L6+4
 621 047a FFF7FEFF 		bl	HAL_GPIO_Init
 622              	.LVL27:
 214:User/lcd/bsp_lcd.c **** 
 215:User/lcd/bsp_lcd.c ****   //背光BL
 216:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pin = LTDC_BL_GPIO_PIN;
 623              		.loc 1 216 0
 624 047e CDF87490 		str	r9, [sp, #116]
 217:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH;
 625              		.loc 1 217 0
 626 0482 CDF88080 		str	r8, [sp, #128]
 218:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
 627              		.loc 1 218 0
 628 0486 1E97     		str	r7, [sp, #120]
 219:User/lcd/bsp_lcd.c ****   GPIO_InitStruct.Pull = GPIO_PULLUP;
 629              		.loc 1 219 0
 630 0488 1F97     		str	r7, [sp, #124]
 220:User/lcd/bsp_lcd.c **** 
 221:User/lcd/bsp_lcd.c ****   HAL_GPIO_Init(LTDC_BL_GPIO_PORT, &GPIO_InitStruct);
 631              		.loc 1 221 0
 632 048a 1DA9     		add	r1, sp, #116
 633 048c 0548     		ldr	r0, .L6+12
 634 048e FFF7FEFF 		bl	HAL_GPIO_Init
 635              	.LVL28:
ARM GAS  /tmp/ccYQ2vhW.s 			page 16


 222:User/lcd/bsp_lcd.c **** }
 636              		.loc 1 222 0
 637 0492 23B0     		add	sp, sp, #140
 638              	.LCFI2:
 639              		.cfi_def_cfa_offset 36
 640              		@ sp needed
 641 0494 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 642              	.L7:
 643              		.align	2
 644              	.L6:
 645 0498 00240258 		.word	1476535296
 646 049c 00280258 		.word	1476536320
 647 04a0 00200258 		.word	1476534272
 648 04a4 000C0258 		.word	1476529152
 649              		.cfi_endproc
 650              	.LFE142:
 652              		.section	.text.LL_FillBuffer,"ax",%progbits
 653              		.align	1
 654              		.syntax unified
 655              		.thumb
 656              		.thumb_func
 657              		.fpu fpv5-d16
 659              	LL_FillBuffer:
 660              	.LFB185:
 223:User/lcd/bsp_lcd.c **** /**
 224:User/lcd/bsp_lcd.c ****  * @brief  时钟配置
 225:User/lcd/bsp_lcd.c ****  * @retval 无
 226:User/lcd/bsp_lcd.c ****  */
 227:User/lcd/bsp_lcd.c **** void LCD_ClockConfig(void)
 228:User/lcd/bsp_lcd.c **** {
 229:User/lcd/bsp_lcd.c ****   static RCC_PeriphCLKInitTypeDef periph_clk_init_struct;
 230:User/lcd/bsp_lcd.c **** 
 231:User/lcd/bsp_lcd.c ****   /* 液晶屏时钟配置 */
 232:User/lcd/bsp_lcd.c ****   /* 5寸屏的典型PCLK为27 MHz，因此PLL3R配置为提供此时钟 */
 233:User/lcd/bsp_lcd.c ****   /* AMPIRE640480 LCD clock configuration */
 234:User/lcd/bsp_lcd.c ****   /* PLL3_VCO Input = HSE_VALUE/PLL3M = 1 Mhz */
 235:User/lcd/bsp_lcd.c ****   /* PLL3_VCO Output = PLL3_VCO Input * PLL3N = 270 Mhz */
 236:User/lcd/bsp_lcd.c ****   /* PLLLCDCLK = PLL3_VCO Output/PLL3R = 270/10 = 27Mhz */
 237:User/lcd/bsp_lcd.c ****   /* LTDC clock frequency = PLLLCDCLK = 27 Mhz */
 238:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PeriphClockSelection = RCC_PERIPHCLK_LTDC;
 239:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PLL3.PLL3M = 25;
 240:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PLL3.PLL3N = 270;
 241:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PLL3.PLL3P = 2;
 242:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PLL3.PLL3Q = 2;
 243:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PLL3.PLL3R = 10;
 244:User/lcd/bsp_lcd.c ****   HAL_RCCEx_PeriphCLKConfig(&periph_clk_init_struct);
 245:User/lcd/bsp_lcd.c **** }
 246:User/lcd/bsp_lcd.c **** void LCD_Init(void)
 247:User/lcd/bsp_lcd.c **** {
 248:User/lcd/bsp_lcd.c ****   /* 使能LTDC时钟 */
 249:User/lcd/bsp_lcd.c ****   __HAL_RCC_LTDC_CLK_ENABLE();
 250:User/lcd/bsp_lcd.c ****   /* 使能DMA2D时钟 */
 251:User/lcd/bsp_lcd.c ****   __HAL_RCC_DMA2D_CLK_ENABLE();
 252:User/lcd/bsp_lcd.c ****   /* 液晶屏时钟配置 */
 253:User/lcd/bsp_lcd.c ****   LCD_ClockConfig();
 254:User/lcd/bsp_lcd.c ****   /* 初始化LCD引脚 */
 255:User/lcd/bsp_lcd.c ****   LCD_GPIO_Config();
ARM GAS  /tmp/ccYQ2vhW.s 			page 17


 256:User/lcd/bsp_lcd.c ****   /* 初始化SDRAM 用作LCD 显存*/
 257:User/lcd/bsp_lcd.c ****   SDRAM_Init();
 258:User/lcd/bsp_lcd.c ****   /* 配置LTDC参数 */
 259:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Instance = LTDC;
 260:User/lcd/bsp_lcd.c ****   /* 配置行同步信号宽度(HSW-1) */
 261:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.HorizontalSync = HSW - 1;
 262:User/lcd/bsp_lcd.c ****   /* 配置垂直同步信号宽度(VSW-1) */
 263:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.VerticalSync = VSW - 1;
 264:User/lcd/bsp_lcd.c ****   /* 配置(HSW+HBP-1) */
 265:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.AccumulatedHBP = HSW + HBP - 1;
 266:User/lcd/bsp_lcd.c ****   /* 配置(VSW+VBP-1) */
 267:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.AccumulatedVBP = VSW + VBP - 1;
 268:User/lcd/bsp_lcd.c ****   /* 配置(HSW+HBP+有效像素宽度-1) */
 269:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.AccumulatedActiveW = HSW + HBP + LCD_PIXEL_WIDTH - 1;
 270:User/lcd/bsp_lcd.c ****   /* 配置(VSW+VBP+有效像素高度-1) */
 271:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.AccumulatedActiveH = VSW + VBP + LCD_PIXEL_HEIGHT - 1;
 272:User/lcd/bsp_lcd.c ****   /* 配置总宽度(HSW+HBP+有效像素宽度+HFP-1) */
 273:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.TotalWidth = HSW + HBP + LCD_PIXEL_WIDTH + HFP - 1;
 274:User/lcd/bsp_lcd.c ****   /* 配置总高度(VSW+VBP+有效像素高度+VFP-1) */
 275:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.TotalHeigh = VSW + VBP + LCD_PIXEL_HEIGHT + VFP - 1;
 276:User/lcd/bsp_lcd.c **** 
 277:User/lcd/bsp_lcd.c ****   /* 初始化LCD的像素宽度和高度 */
 278:User/lcd/bsp_lcd.c ****   Ltdc_Handler.LayerCfg->ImageWidth = LCD_PIXEL_WIDTH;
 279:User/lcd/bsp_lcd.c ****   Ltdc_Handler.LayerCfg->ImageHeight = LCD_PIXEL_HEIGHT;
 280:User/lcd/bsp_lcd.c ****   /* 设置LCD背景层的颜色，默认黑色 */
 281:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.Backcolor.Red = 0;
 282:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.Backcolor.Green = 0;
 283:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.Backcolor.Blue = 0;
 284:User/lcd/bsp_lcd.c ****   /* 极性配置 */
 285:User/lcd/bsp_lcd.c ****   /* 初始化行同步极性，低电平有效 */
 286:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.HSPolarity = LTDC_HSPOLARITY_AL;
 287:User/lcd/bsp_lcd.c ****   /* 初始化场同步极性，低电平有效 */
 288:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.VSPolarity = LTDC_VSPOLARITY_AL;
 289:User/lcd/bsp_lcd.c ****   /* 初始化数据有效极性，低电平有效 */
 290:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.DEPolarity = LTDC_DEPOLARITY_AL;
 291:User/lcd/bsp_lcd.c ****   /* 初始化行像素时钟极性，同输入时钟 */
 292:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.PCPolarity = LTDC_PCPOLARITY_IPC;
 293:User/lcd/bsp_lcd.c ****   HAL_LTDC_Init(&Ltdc_Handler);
 294:User/lcd/bsp_lcd.c ****   /* 初始化字体 */
 295:User/lcd/bsp_lcd.c ****   LCD_SetFont(&LCD_DEFAULT_FONT);
 296:User/lcd/bsp_lcd.c **** }
 297:User/lcd/bsp_lcd.c **** 
 298:User/lcd/bsp_lcd.c **** /**
 299:User/lcd/bsp_lcd.c ****  * @brief  获取LCD当前有效层X轴的大小
 300:User/lcd/bsp_lcd.c ****  * @retval X轴的大小
 301:User/lcd/bsp_lcd.c ****  */
 302:User/lcd/bsp_lcd.c **** uint32_t LCD_GetXSize(void) { return Ltdc_Handler.LayerCfg[ActiveLayer].ImageWidth; }
 303:User/lcd/bsp_lcd.c **** 
 304:User/lcd/bsp_lcd.c **** /**
 305:User/lcd/bsp_lcd.c ****  * @brief  获取LCD当前有效层Y轴的大小
 306:User/lcd/bsp_lcd.c ****  * @retval Y轴的大小
 307:User/lcd/bsp_lcd.c ****  */
 308:User/lcd/bsp_lcd.c **** uint32_t LCD_GetYSize(void) { return Ltdc_Handler.LayerCfg[ActiveLayer].ImageHeight; }
 309:User/lcd/bsp_lcd.c **** 
 310:User/lcd/bsp_lcd.c **** /**
 311:User/lcd/bsp_lcd.c ****  * @brief  设置LCD当前有效层Y轴的大小
 312:User/lcd/bsp_lcd.c ****  * @param  imageWidthPixels：图像宽度像素个数
ARM GAS  /tmp/ccYQ2vhW.s 			page 18


 313:User/lcd/bsp_lcd.c ****  * @retval 无
 314:User/lcd/bsp_lcd.c ****  */
 315:User/lcd/bsp_lcd.c **** void LCD_SetXSize(uint32_t imageWidthPixels) { Ltdc_Handler.LayerCfg[ActiveLayer].ImageWidth = imag
 316:User/lcd/bsp_lcd.c **** 
 317:User/lcd/bsp_lcd.c **** /**
 318:User/lcd/bsp_lcd.c ****  * @brief  设置LCD当前有效层Y轴的大小
 319:User/lcd/bsp_lcd.c ****  * @param  imageHeightPixels：图像高度像素个数
 320:User/lcd/bsp_lcd.c ****  * @retval None
 321:User/lcd/bsp_lcd.c ****  */
 322:User/lcd/bsp_lcd.c **** void LCD_SetYSize(uint32_t imageHeightPixels) { Ltdc_Handler.LayerCfg[ActiveLayer].ImageHeight = im
 323:User/lcd/bsp_lcd.c **** 
 324:User/lcd/bsp_lcd.c **** /**
 325:User/lcd/bsp_lcd.c ****  * @brief  初始化LCD层
 326:User/lcd/bsp_lcd.c ****  * @param  LayerIndex:  前景层(层1)或者背景层(层0)
 327:User/lcd/bsp_lcd.c ****  * @param  FB_Address:  每一层显存的首地址
 328:User/lcd/bsp_lcd.c ****  * @param  PixelFormat: 层的像素格式
 329:User/lcd/bsp_lcd.c ****  * @retval 无
 330:User/lcd/bsp_lcd.c ****  */
 331:User/lcd/bsp_lcd.c **** void LCD_LayerInit(uint16_t LayerIndex, uint32_t FB_Address, uint32_t PixelFormat)
 332:User/lcd/bsp_lcd.c **** {
 333:User/lcd/bsp_lcd.c ****   LTDC_LayerCfgTypeDef layer_cfg;
 334:User/lcd/bsp_lcd.c **** 
 335:User/lcd/bsp_lcd.c ****   /* 层初始化 */
 336:User/lcd/bsp_lcd.c ****   layer_cfg.WindowX0 = 0;               //窗口起始位置X坐标
 337:User/lcd/bsp_lcd.c ****   layer_cfg.WindowX1 = LCD_GetXSize();  //窗口结束位置X坐标
 338:User/lcd/bsp_lcd.c ****   layer_cfg.WindowY0 = 0;               //窗口起始位置Y坐标
 339:User/lcd/bsp_lcd.c ****   layer_cfg.WindowY1 = LCD_GetYSize();  //窗口结束位置Y坐标
 340:User/lcd/bsp_lcd.c ****   layer_cfg.PixelFormat = PixelFormat;  //像素格式
 341:User/lcd/bsp_lcd.c ****   layer_cfg.FBStartAdress = FB_Address; //层显存首地址
 342:User/lcd/bsp_lcd.c ****   layer_cfg.Alpha = 255;                //用于混合的透明度常量，范围（0―255）0为完全透明
 343:User/lcd/bsp_lcd.c ****   layer_cfg.Alpha0 = 0;                 //默认透明度常量，范围（0―255）0为完全透明
 344:User/lcd/bsp_lcd.c ****   layer_cfg.Backcolor.Blue = 0;         //层背景颜色蓝色分量
 345:User/lcd/bsp_lcd.c ****   layer_cfg.Backcolor.Green = 0;        //层背景颜色绿色分量
 346:User/lcd/bsp_lcd.c ****   layer_cfg.Backcolor.Red = 0;          //层背景颜色红色分量
 347:User/lcd/bsp_lcd.c ****   layer_cfg.BlendingFactor1 = LTDC_BLENDING_FACTOR1_PAxCA; //层混合系数1
 348:User/lcd/bsp_lcd.c ****   layer_cfg.BlendingFactor2 = LTDC_BLENDING_FACTOR2_PAxCA; //层混合系数2
 349:User/lcd/bsp_lcd.c ****   layer_cfg.ImageWidth = LCD_GetXSize();                   //设置图像宽度
 350:User/lcd/bsp_lcd.c ****   layer_cfg.ImageHeight = LCD_GetYSize();                  //设置图像高度
 351:User/lcd/bsp_lcd.c **** 
 352:User/lcd/bsp_lcd.c ****   HAL_LTDC_ConfigLayer(&Ltdc_Handler, &layer_cfg, LayerIndex); //设置选中的层参数
 353:User/lcd/bsp_lcd.c **** 
 354:User/lcd/bsp_lcd.c ****   DrawProp[LayerIndex].BackColor = LCD_COLOR_WHITE; //设置层的字体颜色
 355:User/lcd/bsp_lcd.c ****   DrawProp[LayerIndex].pFont = &LCD_DEFAULT_FONT;   //设置层的字体类型
 356:User/lcd/bsp_lcd.c ****   DrawProp[LayerIndex].TextColor = LCD_COLOR_BLACK; //设置层的字体背景颜色
 357:User/lcd/bsp_lcd.c **** 
 358:User/lcd/bsp_lcd.c ****   __HAL_LTDC_RELOAD_CONFIG(&Ltdc_Handler); //重载层的配置参数
 359:User/lcd/bsp_lcd.c **** }
 360:User/lcd/bsp_lcd.c **** /**
 361:User/lcd/bsp_lcd.c ****  * @brief  选择LCD层
 362:User/lcd/bsp_lcd.c ****  * @param  LayerIndex: 前景层(层1)或者背景层(层0)
 363:User/lcd/bsp_lcd.c ****  * @retval 无
 364:User/lcd/bsp_lcd.c ****  */
 365:User/lcd/bsp_lcd.c **** void LCD_SelectLayer(uint32_t LayerIndex) { ActiveLayer = LayerIndex; }
 366:User/lcd/bsp_lcd.c **** 
 367:User/lcd/bsp_lcd.c **** /**
 368:User/lcd/bsp_lcd.c ****  * @brief  设置LCD层的可视化
 369:User/lcd/bsp_lcd.c ****  * @param  LayerIndex: 前景层(层1)或者背景层(层0)
ARM GAS  /tmp/ccYQ2vhW.s 			page 19


 370:User/lcd/bsp_lcd.c ****  * @param  State: 禁能或者使能
 371:User/lcd/bsp_lcd.c ****  * @retval 无
 372:User/lcd/bsp_lcd.c ****  */
 373:User/lcd/bsp_lcd.c **** void LCD_SetLayerVisible(uint32_t LayerIndex, FunctionalState State)
 374:User/lcd/bsp_lcd.c **** {
 375:User/lcd/bsp_lcd.c ****   if (State == ENABLE)
 376:User/lcd/bsp_lcd.c ****   {
 377:User/lcd/bsp_lcd.c ****     __HAL_LTDC_LAYER_ENABLE(&Ltdc_Handler, LayerIndex);
 378:User/lcd/bsp_lcd.c ****   }
 379:User/lcd/bsp_lcd.c ****   else
 380:User/lcd/bsp_lcd.c ****   {
 381:User/lcd/bsp_lcd.c ****     __HAL_LTDC_LAYER_DISABLE(&Ltdc_Handler, LayerIndex);
 382:User/lcd/bsp_lcd.c ****   }
 383:User/lcd/bsp_lcd.c ****   __HAL_LTDC_RELOAD_CONFIG(&Ltdc_Handler);
 384:User/lcd/bsp_lcd.c **** }
 385:User/lcd/bsp_lcd.c **** 
 386:User/lcd/bsp_lcd.c **** /**
 387:User/lcd/bsp_lcd.c ****  * @brief  设置LCD的透明度常量
 388:User/lcd/bsp_lcd.c ****  * @param  LayerIndex: 前景层(层1)或者背景层(层0)
 389:User/lcd/bsp_lcd.c ****  * @param  Transparency: 透明度，范围（0―255）0为完全透明
 390:User/lcd/bsp_lcd.c ****  * @retval 无
 391:User/lcd/bsp_lcd.c ****  */
 392:User/lcd/bsp_lcd.c **** void LCD_SetTransparency(uint32_t LayerIndex, uint8_t Transparency)
 393:User/lcd/bsp_lcd.c **** {
 394:User/lcd/bsp_lcd.c ****   HAL_LTDC_SetAlpha(&Ltdc_Handler, Transparency, LayerIndex);
 395:User/lcd/bsp_lcd.c **** }
 396:User/lcd/bsp_lcd.c **** 
 397:User/lcd/bsp_lcd.c **** /**
 398:User/lcd/bsp_lcd.c ****  * @brief  设置LCD缓冲帧的首地址
 399:User/lcd/bsp_lcd.c ****  * @param  LayerIndex: 前景层(层1)或者背景层(层0)
 400:User/lcd/bsp_lcd.c ****  * @param  Address: LCD缓冲帧的首地址
 401:User/lcd/bsp_lcd.c ****  * @retval 无
 402:User/lcd/bsp_lcd.c ****  */
 403:User/lcd/bsp_lcd.c **** void LCD_SetLayerAddress(uint32_t LayerIndex, uint32_t Address)
 404:User/lcd/bsp_lcd.c **** {
 405:User/lcd/bsp_lcd.c ****   HAL_LTDC_SetAddress(&Ltdc_Handler, Address, LayerIndex);
 406:User/lcd/bsp_lcd.c **** }
 407:User/lcd/bsp_lcd.c **** 
 408:User/lcd/bsp_lcd.c **** /**
 409:User/lcd/bsp_lcd.c ****  * @brief  设置显示窗口
 410:User/lcd/bsp_lcd.c ****  * @param  LayerIndex: 前景层(层1)或者背景层(层0)
 411:User/lcd/bsp_lcd.c ****  * @param  Xpos: LCD 	X轴起始位置
 412:User/lcd/bsp_lcd.c ****  * @param  Ypos: LCD 	Y轴起始位置
 413:User/lcd/bsp_lcd.c ****  * @param  Width: LCD  窗口大小
 414:User/lcd/bsp_lcd.c ****  * @param  Height: LCD 窗口大小
 415:User/lcd/bsp_lcd.c ****  * @retval None
 416:User/lcd/bsp_lcd.c ****  */
 417:User/lcd/bsp_lcd.c **** void LCD_SetLayerWindow(uint16_t LayerIndex, uint16_t Xpos, uint16_t Ypos, uint16_t Width, uint16_t
 418:User/lcd/bsp_lcd.c **** {
 419:User/lcd/bsp_lcd.c ****   /* 重新设置窗口大小 */
 420:User/lcd/bsp_lcd.c ****   HAL_LTDC_SetWindowSize(&Ltdc_Handler, Width, Height, LayerIndex);
 421:User/lcd/bsp_lcd.c **** 
 422:User/lcd/bsp_lcd.c ****   /* 重新设置窗口的起始位置 */
 423:User/lcd/bsp_lcd.c ****   HAL_LTDC_SetWindowPosition(&Ltdc_Handler, Xpos, Ypos, LayerIndex);
 424:User/lcd/bsp_lcd.c **** }
 425:User/lcd/bsp_lcd.c **** 
 426:User/lcd/bsp_lcd.c **** /**
ARM GAS  /tmp/ccYQ2vhW.s 			page 20


 427:User/lcd/bsp_lcd.c ****  * @brief  设置LCD当前层文字颜色
 428:User/lcd/bsp_lcd.c ****  * @param  Color: 文字颜色
 429:User/lcd/bsp_lcd.c ****  * @retval 无
 430:User/lcd/bsp_lcd.c ****  */
 431:User/lcd/bsp_lcd.c **** void LCD_SetTextColor(uint32_t Color) { DrawProp[ActiveLayer].TextColor = Color; }
 432:User/lcd/bsp_lcd.c **** 
 433:User/lcd/bsp_lcd.c **** /**
 434:User/lcd/bsp_lcd.c ****  * @brief  获取LCD当前层文字颜色
 435:User/lcd/bsp_lcd.c ****  * @retval 文字颜色
 436:User/lcd/bsp_lcd.c ****  */
 437:User/lcd/bsp_lcd.c **** uint32_t LCD_GetTextColor(void) { return DrawProp[ActiveLayer].TextColor; }
 438:User/lcd/bsp_lcd.c **** 
 439:User/lcd/bsp_lcd.c **** /**
 440:User/lcd/bsp_lcd.c ****  * @brief  设置LCD当前层的文字背景颜色
 441:User/lcd/bsp_lcd.c ****  * @param  Color: 文字背景颜色
 442:User/lcd/bsp_lcd.c ****  * @retval 无
 443:User/lcd/bsp_lcd.c ****  */
 444:User/lcd/bsp_lcd.c **** void LCD_SetBackColor(uint32_t Color) { DrawProp[ActiveLayer].BackColor = Color; }
 445:User/lcd/bsp_lcd.c **** 
 446:User/lcd/bsp_lcd.c **** /**
 447:User/lcd/bsp_lcd.c ****  * @brief  获取LCD当前层的文字背景颜色
 448:User/lcd/bsp_lcd.c ****  * @retval 文字背景颜色
 449:User/lcd/bsp_lcd.c ****  */
 450:User/lcd/bsp_lcd.c **** uint32_t LCD_GetBackColor(void) { return DrawProp[ActiveLayer].BackColor; }
 451:User/lcd/bsp_lcd.c **** 
 452:User/lcd/bsp_lcd.c **** /**
 453:User/lcd/bsp_lcd.c ****  * @brief  设置LCD文字的颜色和背景的颜色
 454:User/lcd/bsp_lcd.c ****  * @param  TextColor: 指定文字颜色
 455:User/lcd/bsp_lcd.c ****  * @param  BackColor: 指定背景颜色
 456:User/lcd/bsp_lcd.c ****  * @retval 无
 457:User/lcd/bsp_lcd.c ****  */
 458:User/lcd/bsp_lcd.c **** void LCD_SetColors(uint32_t TextColor, uint32_t BackColor)
 459:User/lcd/bsp_lcd.c **** {
 460:User/lcd/bsp_lcd.c ****   LCD_SetTextColor(TextColor);
 461:User/lcd/bsp_lcd.c ****   LCD_SetBackColor(BackColor);
 462:User/lcd/bsp_lcd.c **** }
 463:User/lcd/bsp_lcd.c **** /**
 464:User/lcd/bsp_lcd.c ****  * @brief  设置LCD当前层显示的字体
 465:User/lcd/bsp_lcd.c ****  * @param  fonts: 字体类型
 466:User/lcd/bsp_lcd.c ****  * @retval None
 467:User/lcd/bsp_lcd.c ****  */
 468:User/lcd/bsp_lcd.c **** void LCD_SetFont(sFONT *fonts) { DrawProp[ActiveLayer].pFont = fonts; }
 469:User/lcd/bsp_lcd.c **** 
 470:User/lcd/bsp_lcd.c **** /**
 471:User/lcd/bsp_lcd.c ****  * @brief  获取LCD当前层显示的字体
 472:User/lcd/bsp_lcd.c ****  * @retval 字体类型
 473:User/lcd/bsp_lcd.c ****  */
 474:User/lcd/bsp_lcd.c **** sFONT *LCD_GetFont(void) { return DrawProp[ActiveLayer].pFont; }
 475:User/lcd/bsp_lcd.c **** 
 476:User/lcd/bsp_lcd.c **** /**
 477:User/lcd/bsp_lcd.c ****  * @brief  读LCD的像素值
 478:User/lcd/bsp_lcd.c ****  * @param  Xpos: X 轴坐标位置
 479:User/lcd/bsp_lcd.c ****  * @param  Ypos: Y 轴坐标位置
 480:User/lcd/bsp_lcd.c ****  * @retval RGB像素值
 481:User/lcd/bsp_lcd.c ****  */
 482:User/lcd/bsp_lcd.c **** uint32_t LCD_ReadPixel(uint16_t Xpos, uint16_t Ypos)
 483:User/lcd/bsp_lcd.c **** {
ARM GAS  /tmp/ccYQ2vhW.s 			page 21


 484:User/lcd/bsp_lcd.c ****   uint32_t ret = 0;
 485:User/lcd/bsp_lcd.c **** 
 486:User/lcd/bsp_lcd.c ****   if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB8888)
 487:User/lcd/bsp_lcd.c ****   {
 488:User/lcd/bsp_lcd.c ****     /* 从SDRAM显存中读取颜色数据 */
 489:User/lcd/bsp_lcd.c ****     ret = *(__IO uint32_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (2 * (Ypos * LCD_Ge
 490:User/lcd/bsp_lcd.c ****   }
 491:User/lcd/bsp_lcd.c ****   else if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB888)
 492:User/lcd/bsp_lcd.c ****   {
 493:User/lcd/bsp_lcd.c ****     /* 从SDRAM显存中读取颜色数据 */
 494:User/lcd/bsp_lcd.c ****     ret = (*(__IO uint8_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (3 * (Ypos * LCD_Ge
 495:User/lcd/bsp_lcd.c ****                              2) &
 496:User/lcd/bsp_lcd.c ****            0x00FFFFFF);
 497:User/lcd/bsp_lcd.c ****     ret |= (*(__IO uint8_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (3 * (Ypos * LCD_G
 498:User/lcd/bsp_lcd.c ****                               1) &
 499:User/lcd/bsp_lcd.c ****             0x00FFFFFF);
 500:User/lcd/bsp_lcd.c ****     ret |= (*(__IO uint8_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (3 * (Ypos * LCD_G
 501:User/lcd/bsp_lcd.c ****             0x00FFFFFF);
 502:User/lcd/bsp_lcd.c ****   }
 503:User/lcd/bsp_lcd.c ****   else if ((Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB565) ||
 504:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444) ||
 505:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_AL88))
 506:User/lcd/bsp_lcd.c ****   {
 507:User/lcd/bsp_lcd.c ****     /* 从SDRAM显存中读取颜色数据 */
 508:User/lcd/bsp_lcd.c ****     ret = *(__IO uint16_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (2 * (Ypos * LCD_Ge
 509:User/lcd/bsp_lcd.c ****   }
 510:User/lcd/bsp_lcd.c ****   else
 511:User/lcd/bsp_lcd.c ****   {
 512:User/lcd/bsp_lcd.c ****     /* 从SDRAM显存中读取颜色数据 */
 513:User/lcd/bsp_lcd.c ****     ret = *(__IO uint8_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (2 * (Ypos * LCD_Get
 514:User/lcd/bsp_lcd.c ****   }
 515:User/lcd/bsp_lcd.c **** 
 516:User/lcd/bsp_lcd.c ****   return ret;
 517:User/lcd/bsp_lcd.c **** }
 518:User/lcd/bsp_lcd.c **** 
 519:User/lcd/bsp_lcd.c **** /**
 520:User/lcd/bsp_lcd.c ****  * @brief  LCD当前层清屏
 521:User/lcd/bsp_lcd.c ****  * @param  Color: 背景颜色
 522:User/lcd/bsp_lcd.c ****  * @retval None
 523:User/lcd/bsp_lcd.c ****  */
 524:User/lcd/bsp_lcd.c **** void LCD_Clear(uint32_t Color)
 525:User/lcd/bsp_lcd.c **** {
 526:User/lcd/bsp_lcd.c ****   /* 清屏 */
 527:User/lcd/bsp_lcd.c ****   LL_FillBuffer(ActiveLayer, (uint32_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress), LCD_Ge
 528:User/lcd/bsp_lcd.c ****                 LCD_GetYSize(), 0, Color);
 529:User/lcd/bsp_lcd.c **** }
 530:User/lcd/bsp_lcd.c **** 
 531:User/lcd/bsp_lcd.c **** /**
 532:User/lcd/bsp_lcd.c ****  * @brief  清除一行
 533:User/lcd/bsp_lcd.c ****  * @param  Line: 行
 534:User/lcd/bsp_lcd.c ****  * @retval None
 535:User/lcd/bsp_lcd.c ****  */
 536:User/lcd/bsp_lcd.c **** void LCD_ClearLine(uint32_t Line)
 537:User/lcd/bsp_lcd.c **** {
 538:User/lcd/bsp_lcd.c ****   uint32_t color_backup = DrawProp[ActiveLayer].TextColor;
 539:User/lcd/bsp_lcd.c ****   DrawProp[ActiveLayer].TextColor = DrawProp[ActiveLayer].BackColor;
 540:User/lcd/bsp_lcd.c **** 
ARM GAS  /tmp/ccYQ2vhW.s 			page 22


 541:User/lcd/bsp_lcd.c ****   /* 画一个跟背景色一致的矩形完成清除 */
 542:User/lcd/bsp_lcd.c ****   LCD_FillRect(0, (Line * DrawProp[ActiveLayer].pFont->Height), LCD_GetXSize(), DrawProp[ActiveLaye
 543:User/lcd/bsp_lcd.c **** 
 544:User/lcd/bsp_lcd.c ****   DrawProp[ActiveLayer].TextColor = color_backup;
 545:User/lcd/bsp_lcd.c ****   LCD_SetTextColor(DrawProp[ActiveLayer].TextColor);
 546:User/lcd/bsp_lcd.c ****   HAL_Delay(1);
 547:User/lcd/bsp_lcd.c **** }
 548:User/lcd/bsp_lcd.c **** 
 549:User/lcd/bsp_lcd.c **** /**
 550:User/lcd/bsp_lcd.c ****  * @brief  显示一个字符
 551:User/lcd/bsp_lcd.c ****  * @param  Xpos: X轴起始坐标
 552:User/lcd/bsp_lcd.c ****  * @param  Ypos: Y轴起始坐标
 553:User/lcd/bsp_lcd.c ****  * @param  Ascii: 字符 ascii 码,范围（ 0x20 ―0x7E ）
 554:User/lcd/bsp_lcd.c ****  * @retval 无
 555:User/lcd/bsp_lcd.c ****  */
 556:User/lcd/bsp_lcd.c **** void LCD_DisplayChar(uint16_t Xpos, uint16_t Ypos, uint8_t Ascii)
 557:User/lcd/bsp_lcd.c **** {
 558:User/lcd/bsp_lcd.c ****   DrawChar(Xpos, Ypos,
 559:User/lcd/bsp_lcd.c ****            &DrawProp[ActiveLayer].pFont->table[(Ascii - ' ') * DrawProp[ActiveLayer].pFont->Height 
 560:User/lcd/bsp_lcd.c ****                                                ((DrawProp[ActiveLayer].pFont->Width + 7) / 8)]);
 561:User/lcd/bsp_lcd.c **** }
 562:User/lcd/bsp_lcd.c **** 
 563:User/lcd/bsp_lcd.c **** /**
 564:User/lcd/bsp_lcd.c ****  * @brief  显示字符串
 565:User/lcd/bsp_lcd.c ****  * @param  Xpos: X轴起始坐标
 566:User/lcd/bsp_lcd.c ****  * @param  Ypos: Y轴起始坐标
 567:User/lcd/bsp_lcd.c ****  * @param  Text: 字符串指针
 568:User/lcd/bsp_lcd.c ****  * @param  Mode: 显示对齐方式，可以是CENTER_MODE、RIGHT_MODE、LEFT_MODE
 569:User/lcd/bsp_lcd.c ****  * @retval None
 570:User/lcd/bsp_lcd.c ****  */
 571:User/lcd/bsp_lcd.c **** void LCD_DisplayStringAt(uint16_t Xpos, uint16_t Ypos, uint8_t *Text, Text_AlignModeTypdef Mode)
 572:User/lcd/bsp_lcd.c **** {
 573:User/lcd/bsp_lcd.c ****   uint16_t ref_column = 1, i = 0;
 574:User/lcd/bsp_lcd.c ****   uint32_t size = 0, xsize = 0;
 575:User/lcd/bsp_lcd.c ****   uint8_t *ptr = Text;
 576:User/lcd/bsp_lcd.c **** 
 577:User/lcd/bsp_lcd.c ****   /* 获取字符串大小 */
 578:User/lcd/bsp_lcd.c ****   while (*ptr++)
 579:User/lcd/bsp_lcd.c ****     size++;
 580:User/lcd/bsp_lcd.c **** 
 581:User/lcd/bsp_lcd.c ****   /* 每一行可以显示字符的数量 */
 582:User/lcd/bsp_lcd.c ****   xsize = (LCD_GetXSize() / DrawProp[ActiveLayer].pFont->Width);
 583:User/lcd/bsp_lcd.c **** 
 584:User/lcd/bsp_lcd.c ****   switch (Mode)
 585:User/lcd/bsp_lcd.c ****   {
 586:User/lcd/bsp_lcd.c ****   case CENTER_MODE:
 587:User/lcd/bsp_lcd.c ****   {
 588:User/lcd/bsp_lcd.c ****     ref_column = Xpos + ((xsize - size) * DrawProp[ActiveLayer].pFont->Width) / 2;
 589:User/lcd/bsp_lcd.c ****     break;
 590:User/lcd/bsp_lcd.c ****   }
 591:User/lcd/bsp_lcd.c ****   case LEFT_MODE:
 592:User/lcd/bsp_lcd.c ****   {
 593:User/lcd/bsp_lcd.c ****     ref_column = Xpos;
 594:User/lcd/bsp_lcd.c ****     break;
 595:User/lcd/bsp_lcd.c ****   }
 596:User/lcd/bsp_lcd.c ****   case RIGHT_MODE:
 597:User/lcd/bsp_lcd.c ****   {
ARM GAS  /tmp/ccYQ2vhW.s 			page 23


 598:User/lcd/bsp_lcd.c ****     ref_column = -Xpos + ((xsize - size) * DrawProp[ActiveLayer].pFont->Width);
 599:User/lcd/bsp_lcd.c ****     break;
 600:User/lcd/bsp_lcd.c ****   }
 601:User/lcd/bsp_lcd.c ****   default:
 602:User/lcd/bsp_lcd.c ****   {
 603:User/lcd/bsp_lcd.c ****     ref_column = Xpos;
 604:User/lcd/bsp_lcd.c ****     break;
 605:User/lcd/bsp_lcd.c ****   }
 606:User/lcd/bsp_lcd.c ****   }
 607:User/lcd/bsp_lcd.c **** 
 608:User/lcd/bsp_lcd.c ****   /*检查起始行是否在显示范围内 */
 609:User/lcd/bsp_lcd.c ****   if ((ref_column < 1) || (ref_column >= 0x8000))
 610:User/lcd/bsp_lcd.c ****   {
 611:User/lcd/bsp_lcd.c ****     ref_column = 1;
 612:User/lcd/bsp_lcd.c ****   }
 613:User/lcd/bsp_lcd.c **** 
 614:User/lcd/bsp_lcd.c ****   /* 使用字符显示函数显示每一个字符*/
 615:User/lcd/bsp_lcd.c ****   while ((*Text != 0) &
 616:User/lcd/bsp_lcd.c ****          (((LCD_GetXSize() - (i * DrawProp[ActiveLayer].pFont->Width)) & 0xFFFF) >= DrawProp[Active
 617:User/lcd/bsp_lcd.c ****   {
 618:User/lcd/bsp_lcd.c ****     /* 显示一个字符 */
 619:User/lcd/bsp_lcd.c ****     LCD_DisplayChar(ref_column, Ypos, *Text);
 620:User/lcd/bsp_lcd.c ****     /* 根据字体大小计算下一个偏移位置 */
 621:User/lcd/bsp_lcd.c ****     ref_column += DrawProp[ActiveLayer].pFont->Width;
 622:User/lcd/bsp_lcd.c ****     /* 指针指向下一个字符 */
 623:User/lcd/bsp_lcd.c ****     Text++;
 624:User/lcd/bsp_lcd.c ****     i++;
 625:User/lcd/bsp_lcd.c ****   }
 626:User/lcd/bsp_lcd.c **** }
 627:User/lcd/bsp_lcd.c **** 
 628:User/lcd/bsp_lcd.c **** /**
 629:User/lcd/bsp_lcd.c ****  * @brief  在指定行显示字符串(最多60个)
 630:User/lcd/bsp_lcd.c ****  * @param  Line: 显示的行
 631:User/lcd/bsp_lcd.c ****  * @param  ptr: 字符串指针
 632:User/lcd/bsp_lcd.c ****  * @retval 无
 633:User/lcd/bsp_lcd.c ****  */
 634:User/lcd/bsp_lcd.c **** void LCD_DisplayStringLine(uint16_t Line, uint8_t *ptr) { LCD_DisplayStringAt(0, LINE(Line), ptr, L
 635:User/lcd/bsp_lcd.c **** 
 636:User/lcd/bsp_lcd.c **** /**
 637:User/lcd/bsp_lcd.c ****  * @brief  绘制水平线
 638:User/lcd/bsp_lcd.c ****  * @param  Xpos: X轴起始坐标
 639:User/lcd/bsp_lcd.c ****  * @param  Ypos: Y轴起始坐标
 640:User/lcd/bsp_lcd.c ****  * @param  Length: 线的长度
 641:User/lcd/bsp_lcd.c ****  * @retval 无
 642:User/lcd/bsp_lcd.c ****  */
 643:User/lcd/bsp_lcd.c **** void LCD_DrawHLine(uint16_t Xpos, uint16_t Ypos, uint16_t Length)
 644:User/lcd/bsp_lcd.c **** {
 645:User/lcd/bsp_lcd.c ****   uint32_t Xaddress = 0;
 646:User/lcd/bsp_lcd.c **** 
 647:User/lcd/bsp_lcd.c ****   if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB8888)
 648:User/lcd/bsp_lcd.c ****   {
 649:User/lcd/bsp_lcd.c ****     Xaddress = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 4 * (LCD_GetXSize() * Ypos + Xp
 650:User/lcd/bsp_lcd.c ****   }
 651:User/lcd/bsp_lcd.c ****   else if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB888)
 652:User/lcd/bsp_lcd.c ****   {
 653:User/lcd/bsp_lcd.c ****     Xaddress = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 3 * (LCD_GetXSize() * Ypos + Xp
 654:User/lcd/bsp_lcd.c ****   }
ARM GAS  /tmp/ccYQ2vhW.s 			page 24


 655:User/lcd/bsp_lcd.c ****   else if ((Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB565) ||
 656:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444) ||
 657:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_AL88))
 658:User/lcd/bsp_lcd.c ****   {
 659:User/lcd/bsp_lcd.c ****     Xaddress = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 2 * (LCD_GetXSize() * Ypos + Xp
 660:User/lcd/bsp_lcd.c ****   }
 661:User/lcd/bsp_lcd.c ****   else
 662:User/lcd/bsp_lcd.c ****   {
 663:User/lcd/bsp_lcd.c ****     Xaddress = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 2 * (LCD_GetXSize() * Ypos + Xp
 664:User/lcd/bsp_lcd.c ****   }
 665:User/lcd/bsp_lcd.c ****   /* 填充数据 */
 666:User/lcd/bsp_lcd.c ****   LL_FillBuffer(ActiveLayer, (uint32_t *)Xaddress, Length, 1, 0, DrawProp[ActiveLayer].TextColor);
 667:User/lcd/bsp_lcd.c **** }
 668:User/lcd/bsp_lcd.c **** 
 669:User/lcd/bsp_lcd.c **** /**
 670:User/lcd/bsp_lcd.c ****  * @brief  绘制垂直线
 671:User/lcd/bsp_lcd.c ****  * @param  Xpos: X轴起始坐标
 672:User/lcd/bsp_lcd.c ****  * @param  Ypos: Y轴起始坐标
 673:User/lcd/bsp_lcd.c ****  * @param  Length: 线的长度
 674:User/lcd/bsp_lcd.c ****  * @retval 无
 675:User/lcd/bsp_lcd.c ****  */
 676:User/lcd/bsp_lcd.c **** void LCD_DrawVLine(uint16_t Xpos, uint16_t Ypos, uint16_t Length)
 677:User/lcd/bsp_lcd.c **** {
 678:User/lcd/bsp_lcd.c ****   uint32_t Xaddress = 0;
 679:User/lcd/bsp_lcd.c **** 
 680:User/lcd/bsp_lcd.c ****   if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB8888)
 681:User/lcd/bsp_lcd.c ****   {
 682:User/lcd/bsp_lcd.c ****     Xaddress = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 4 * (LCD_GetXSize() * Ypos + Xp
 683:User/lcd/bsp_lcd.c ****   }
 684:User/lcd/bsp_lcd.c ****   else if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB888)
 685:User/lcd/bsp_lcd.c ****   {
 686:User/lcd/bsp_lcd.c ****     Xaddress = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 3 * (LCD_GetXSize() * Ypos + Xp
 687:User/lcd/bsp_lcd.c ****   }
 688:User/lcd/bsp_lcd.c ****   else if ((Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB565) ||
 689:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444) ||
 690:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_AL88))
 691:User/lcd/bsp_lcd.c ****   {
 692:User/lcd/bsp_lcd.c ****     Xaddress = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 2 * (LCD_GetXSize() * Ypos + Xp
 693:User/lcd/bsp_lcd.c ****   }
 694:User/lcd/bsp_lcd.c ****   else
 695:User/lcd/bsp_lcd.c ****   {
 696:User/lcd/bsp_lcd.c ****     Xaddress = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 2 * (LCD_GetXSize() * Ypos + Xp
 697:User/lcd/bsp_lcd.c ****   }
 698:User/lcd/bsp_lcd.c **** 
 699:User/lcd/bsp_lcd.c ****   /* 填充数据 */
 700:User/lcd/bsp_lcd.c ****   LL_FillBuffer(ActiveLayer, (uint32_t *)Xaddress, 1, Length, (LCD_GetXSize() - 1), DrawProp[Active
 701:User/lcd/bsp_lcd.c **** }
 702:User/lcd/bsp_lcd.c **** 
 703:User/lcd/bsp_lcd.c **** /**
 704:User/lcd/bsp_lcd.c ****  * @brief  指定两点画一条线
 705:User/lcd/bsp_lcd.c ****  * @param  x1: 第一点X轴坐标
 706:User/lcd/bsp_lcd.c ****  * @param  y1: 第一点Y轴坐标
 707:User/lcd/bsp_lcd.c ****  * @param  x2: 第二点X轴坐标
 708:User/lcd/bsp_lcd.c ****  * @param  y2: 第二点Y轴坐标
 709:User/lcd/bsp_lcd.c ****  * @retval 无
 710:User/lcd/bsp_lcd.c ****  */
 711:User/lcd/bsp_lcd.c **** void LCD_DrawLine(uint16_t x1, uint16_t y1, uint16_t x2, uint16_t y2)
ARM GAS  /tmp/ccYQ2vhW.s 			page 25


 712:User/lcd/bsp_lcd.c **** {
 713:User/lcd/bsp_lcd.c ****   int16_t deltax = 0, deltay = 0, x = 0, y = 0, xinc1 = 0, xinc2 = 0, yinc1 = 0, yinc2 = 0, den = 0
 714:User/lcd/bsp_lcd.c ****           num_add = 0, num_pixels = 0, curpixel = 0;
 715:User/lcd/bsp_lcd.c **** 
 716:User/lcd/bsp_lcd.c ****   deltax = ABS(x2 - x1); /* 求x轴的绝对值 */
 717:User/lcd/bsp_lcd.c ****   deltay = ABS(y2 - y1); /* 求y轴的绝对值 */
 718:User/lcd/bsp_lcd.c ****   x = x1;                /* 第一个像素的x坐标起始值 */
 719:User/lcd/bsp_lcd.c ****   y = y1;                /* 第一个像素的y坐标起始值 */
 720:User/lcd/bsp_lcd.c **** 
 721:User/lcd/bsp_lcd.c ****   if (x2 >= x1) /* x坐标值为递增 */
 722:User/lcd/bsp_lcd.c ****   {
 723:User/lcd/bsp_lcd.c ****     xinc1 = 1;
 724:User/lcd/bsp_lcd.c ****     xinc2 = 1;
 725:User/lcd/bsp_lcd.c ****   }
 726:User/lcd/bsp_lcd.c ****   else /* x坐标值为递减 */
 727:User/lcd/bsp_lcd.c ****   {
 728:User/lcd/bsp_lcd.c ****     xinc1 = -1;
 729:User/lcd/bsp_lcd.c ****     xinc2 = -1;
 730:User/lcd/bsp_lcd.c ****   }
 731:User/lcd/bsp_lcd.c **** 
 732:User/lcd/bsp_lcd.c ****   if (y2 >= y1) /* y坐标值为递增 */
 733:User/lcd/bsp_lcd.c ****   {
 734:User/lcd/bsp_lcd.c ****     yinc1 = 1;
 735:User/lcd/bsp_lcd.c ****     yinc2 = 1;
 736:User/lcd/bsp_lcd.c ****   }
 737:User/lcd/bsp_lcd.c ****   else /* y坐标值为递减 */
 738:User/lcd/bsp_lcd.c ****   {
 739:User/lcd/bsp_lcd.c ****     yinc1 = -1;
 740:User/lcd/bsp_lcd.c ****     yinc2 = -1;
 741:User/lcd/bsp_lcd.c ****   }
 742:User/lcd/bsp_lcd.c **** 
 743:User/lcd/bsp_lcd.c ****   if (deltax >= deltay) /* 每个 y 坐标值至少有一个x坐标值*/
 744:User/lcd/bsp_lcd.c ****   {
 745:User/lcd/bsp_lcd.c ****     xinc1 = 0; /* 当分子大于或等于分母时不要改变 x */
 746:User/lcd/bsp_lcd.c ****     yinc2 = 0; /* 不要为每次迭代更改 y */
 747:User/lcd/bsp_lcd.c ****     den = deltax;
 748:User/lcd/bsp_lcd.c ****     num = deltax / 2;
 749:User/lcd/bsp_lcd.c ****     num_add = deltay;
 750:User/lcd/bsp_lcd.c ****     num_pixels = deltax; /* x比y多的值 */
 751:User/lcd/bsp_lcd.c ****   }
 752:User/lcd/bsp_lcd.c ****   else /* 每个 x 坐标值至少有一个y坐标值 */
 753:User/lcd/bsp_lcd.c ****   {
 754:User/lcd/bsp_lcd.c ****     xinc2 = 0; /* 不要为每次迭代更改 x */
 755:User/lcd/bsp_lcd.c ****     yinc1 = 0; /* 当分子大于或等于分母时不要改变 y */
 756:User/lcd/bsp_lcd.c ****     den = deltay;
 757:User/lcd/bsp_lcd.c ****     num = deltay / 2;
 758:User/lcd/bsp_lcd.c ****     num_add = deltax;
 759:User/lcd/bsp_lcd.c ****     num_pixels = deltay; /* y比x多的值 */
 760:User/lcd/bsp_lcd.c ****   }
 761:User/lcd/bsp_lcd.c **** 
 762:User/lcd/bsp_lcd.c ****   for (curpixel = 0; curpixel <= num_pixels; curpixel++)
 763:User/lcd/bsp_lcd.c ****   {
 764:User/lcd/bsp_lcd.c ****     LCD_DrawPixel(x, y, DrawProp[ActiveLayer].TextColor); /* 绘制当前像素点 */
 765:User/lcd/bsp_lcd.c ****     num += num_add;                                       /* 在分数的基础上增加分子 */
 766:User/lcd/bsp_lcd.c ****     if (num >= den)                                       /* 检查分子大于或等于分母 */
 767:User/lcd/bsp_lcd.c ****     {
 768:User/lcd/bsp_lcd.c ****       num -= den; /* 计算新的分子值 */
ARM GAS  /tmp/ccYQ2vhW.s 			page 26


 769:User/lcd/bsp_lcd.c ****       x += xinc1; /* x值递增 */
 770:User/lcd/bsp_lcd.c ****       y += yinc1; /* y值递增 */
 771:User/lcd/bsp_lcd.c ****     }
 772:User/lcd/bsp_lcd.c ****     x += xinc2; /* y值递增 */
 773:User/lcd/bsp_lcd.c ****     y += yinc2; /* y值递增 */
 774:User/lcd/bsp_lcd.c ****   }
 775:User/lcd/bsp_lcd.c **** }
 776:User/lcd/bsp_lcd.c **** 
 777:User/lcd/bsp_lcd.c **** /**
 778:User/lcd/bsp_lcd.c ****  * @brief  绘制一个矩形
 779:User/lcd/bsp_lcd.c ****  * @param  Xpos:   X轴坐标
 780:User/lcd/bsp_lcd.c ****  * @param  Ypos:   Y轴坐标
 781:User/lcd/bsp_lcd.c ****  * @param  Width:  矩形宽度
 782:User/lcd/bsp_lcd.c ****  * @param  Height: 矩形高度
 783:User/lcd/bsp_lcd.c ****  * @retval 无
 784:User/lcd/bsp_lcd.c ****  */
 785:User/lcd/bsp_lcd.c **** void LCD_DrawRect(uint16_t Xpos, uint16_t Ypos, uint16_t Width, uint16_t Height)
 786:User/lcd/bsp_lcd.c **** {
 787:User/lcd/bsp_lcd.c ****   /* 绘制水平线 */
 788:User/lcd/bsp_lcd.c ****   LCD_DrawHLine(Xpos, Ypos, Width);
 789:User/lcd/bsp_lcd.c ****   LCD_DrawHLine(Xpos, (Ypos + Height), Width);
 790:User/lcd/bsp_lcd.c **** 
 791:User/lcd/bsp_lcd.c ****   /* 绘制垂直线 */
 792:User/lcd/bsp_lcd.c ****   LCD_DrawVLine(Xpos, Ypos, Height);
 793:User/lcd/bsp_lcd.c ****   LCD_DrawVLine((Xpos + Width), Ypos, Height);
 794:User/lcd/bsp_lcd.c **** }
 795:User/lcd/bsp_lcd.c **** 
 796:User/lcd/bsp_lcd.c **** /**
 797:User/lcd/bsp_lcd.c ****  * @brief  绘制一个圆形
 798:User/lcd/bsp_lcd.c ****  * @param  Xpos:   X轴坐标
 799:User/lcd/bsp_lcd.c ****  * @param  Ypos:   Y轴坐标
 800:User/lcd/bsp_lcd.c ****  * @param  Radius: 圆的半径
 801:User/lcd/bsp_lcd.c ****  * @retval 无
 802:User/lcd/bsp_lcd.c ****  */
 803:User/lcd/bsp_lcd.c **** void LCD_DrawCircle(uint16_t Xpos, uint16_t Ypos, uint16_t Radius)
 804:User/lcd/bsp_lcd.c **** {
 805:User/lcd/bsp_lcd.c ****   int32_t decision;   /* 决策变量 */
 806:User/lcd/bsp_lcd.c ****   uint32_t current_x; /* 当前x坐标值 */
 807:User/lcd/bsp_lcd.c ****   uint32_t current_y; /* 当前y坐标值 */
 808:User/lcd/bsp_lcd.c **** 
 809:User/lcd/bsp_lcd.c ****   decision = 3 - (Radius << 1);
 810:User/lcd/bsp_lcd.c ****   current_x = 0;
 811:User/lcd/bsp_lcd.c ****   current_y = Radius;
 812:User/lcd/bsp_lcd.c **** 
 813:User/lcd/bsp_lcd.c ****   while (current_x <= current_y)
 814:User/lcd/bsp_lcd.c ****   {
 815:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos + current_x), (Ypos - current_y), DrawProp[ActiveLayer].TextColor);
 816:User/lcd/bsp_lcd.c **** 
 817:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos - current_x), (Ypos - current_y), DrawProp[ActiveLayer].TextColor);
 818:User/lcd/bsp_lcd.c **** 
 819:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos + current_y), (Ypos - current_x), DrawProp[ActiveLayer].TextColor);
 820:User/lcd/bsp_lcd.c **** 
 821:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos - current_y), (Ypos - current_x), DrawProp[ActiveLayer].TextColor);
 822:User/lcd/bsp_lcd.c **** 
 823:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos + current_x), (Ypos + current_y), DrawProp[ActiveLayer].TextColor);
 824:User/lcd/bsp_lcd.c **** 
 825:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos - current_x), (Ypos + current_y), DrawProp[ActiveLayer].TextColor);
ARM GAS  /tmp/ccYQ2vhW.s 			page 27


 826:User/lcd/bsp_lcd.c **** 
 827:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos + current_y), (Ypos + current_x), DrawProp[ActiveLayer].TextColor);
 828:User/lcd/bsp_lcd.c **** 
 829:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos - current_y), (Ypos + current_x), DrawProp[ActiveLayer].TextColor);
 830:User/lcd/bsp_lcd.c **** 
 831:User/lcd/bsp_lcd.c ****     if (decision < 0)
 832:User/lcd/bsp_lcd.c ****     {
 833:User/lcd/bsp_lcd.c ****       decision += (current_x << 2) + 6;
 834:User/lcd/bsp_lcd.c ****     }
 835:User/lcd/bsp_lcd.c ****     else
 836:User/lcd/bsp_lcd.c ****     {
 837:User/lcd/bsp_lcd.c ****       decision += ((current_x - current_y) << 2) + 10;
 838:User/lcd/bsp_lcd.c ****       current_y--;
 839:User/lcd/bsp_lcd.c ****     }
 840:User/lcd/bsp_lcd.c ****     current_x++;
 841:User/lcd/bsp_lcd.c ****   }
 842:User/lcd/bsp_lcd.c **** }
 843:User/lcd/bsp_lcd.c **** 
 844:User/lcd/bsp_lcd.c **** /**
 845:User/lcd/bsp_lcd.c ****  * @brief  绘制一条折线
 846:User/lcd/bsp_lcd.c ****  * @param  Points: 指向点数组的指针
 847:User/lcd/bsp_lcd.c ****  * @param  PointCount: 点数
 848:User/lcd/bsp_lcd.c ****  * @retval 无
 849:User/lcd/bsp_lcd.c ****  */
 850:User/lcd/bsp_lcd.c **** void LCD_DrawPolygon(pPoint Points, uint16_t PointCount)
 851:User/lcd/bsp_lcd.c **** {
 852:User/lcd/bsp_lcd.c ****   int16_t x = 0, y = 0;
 853:User/lcd/bsp_lcd.c **** 
 854:User/lcd/bsp_lcd.c ****   if (PointCount < 2)
 855:User/lcd/bsp_lcd.c ****   {
 856:User/lcd/bsp_lcd.c ****     return;
 857:User/lcd/bsp_lcd.c ****   }
 858:User/lcd/bsp_lcd.c **** 
 859:User/lcd/bsp_lcd.c ****   LCD_DrawLine(Points->X, Points->Y, (Points + PointCount - 1)->X, (Points + PointCount - 1)->Y);
 860:User/lcd/bsp_lcd.c **** 
 861:User/lcd/bsp_lcd.c ****   while (--PointCount)
 862:User/lcd/bsp_lcd.c ****   {
 863:User/lcd/bsp_lcd.c ****     x = Points->X;
 864:User/lcd/bsp_lcd.c ****     y = Points->Y;
 865:User/lcd/bsp_lcd.c ****     Points++;
 866:User/lcd/bsp_lcd.c ****     LCD_DrawLine(x, y, Points->X, Points->Y);
 867:User/lcd/bsp_lcd.c ****   }
 868:User/lcd/bsp_lcd.c **** }
 869:User/lcd/bsp_lcd.c **** 
 870:User/lcd/bsp_lcd.c **** /**
 871:User/lcd/bsp_lcd.c ****  * @brief  绘制一个椭圆
 872:User/lcd/bsp_lcd.c ****  * @param  Xpos:   X轴坐标
 873:User/lcd/bsp_lcd.c ****  * @param  Ypos:   Y轴坐标
 874:User/lcd/bsp_lcd.c ****  * @param  XRadius: 椭圆X轴半径
 875:User/lcd/bsp_lcd.c ****  * @param  YRadius: 椭圆Y轴半径
 876:User/lcd/bsp_lcd.c ****  * @retval 无
 877:User/lcd/bsp_lcd.c ****  */
 878:User/lcd/bsp_lcd.c **** void LCD_DrawEllipse(int Xpos, int Ypos, int XRadius, int YRadius)
 879:User/lcd/bsp_lcd.c **** {
 880:User/lcd/bsp_lcd.c ****   int x = 0, y = -YRadius, err = 2 - 2 * XRadius, e2;
 881:User/lcd/bsp_lcd.c ****   float k = 0, rad1 = 0, rad2 = 0;
 882:User/lcd/bsp_lcd.c **** 
ARM GAS  /tmp/ccYQ2vhW.s 			page 28


 883:User/lcd/bsp_lcd.c ****   rad1 = XRadius;
 884:User/lcd/bsp_lcd.c ****   rad2 = YRadius;
 885:User/lcd/bsp_lcd.c **** 
 886:User/lcd/bsp_lcd.c ****   k = (float)(rad2 / rad1);
 887:User/lcd/bsp_lcd.c **** 
 888:User/lcd/bsp_lcd.c ****   do
 889:User/lcd/bsp_lcd.c ****   {
 890:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos - (uint16_t)(x / k)), (Ypos + y), DrawProp[ActiveLayer].TextColor);
 891:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos + (uint16_t)(x / k)), (Ypos + y), DrawProp[ActiveLayer].TextColor);
 892:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos + (uint16_t)(x / k)), (Ypos - y), DrawProp[ActiveLayer].TextColor);
 893:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos - (uint16_t)(x / k)), (Ypos - y), DrawProp[ActiveLayer].TextColor);
 894:User/lcd/bsp_lcd.c **** 
 895:User/lcd/bsp_lcd.c ****     e2 = err;
 896:User/lcd/bsp_lcd.c ****     if (e2 <= x)
 897:User/lcd/bsp_lcd.c ****     {
 898:User/lcd/bsp_lcd.c ****       err += ++x * 2 + 1;
 899:User/lcd/bsp_lcd.c ****       if (-y == x && e2 <= y)
 900:User/lcd/bsp_lcd.c ****         e2 = 0;
 901:User/lcd/bsp_lcd.c ****     }
 902:User/lcd/bsp_lcd.c ****     if (e2 > y)
 903:User/lcd/bsp_lcd.c ****       err += ++y * 2 + 1;
 904:User/lcd/bsp_lcd.c ****   } while (y <= 0);
 905:User/lcd/bsp_lcd.c **** }
 906:User/lcd/bsp_lcd.c **** 
 907:User/lcd/bsp_lcd.c **** /**
 908:User/lcd/bsp_lcd.c ****  * @brief  绘制一个点
 909:User/lcd/bsp_lcd.c ****  * @param  Xpos:   X轴坐标
 910:User/lcd/bsp_lcd.c ****  * @param  Ypos:   Y轴坐标
 911:User/lcd/bsp_lcd.c ****  * @param  RGB_Code: 像素颜色值
 912:User/lcd/bsp_lcd.c ****  * @retval 无
 913:User/lcd/bsp_lcd.c ****  */
 914:User/lcd/bsp_lcd.c **** void LCD_DrawPixel(uint16_t Xpos, uint16_t Ypos, uint32_t RGB_Code)
 915:User/lcd/bsp_lcd.c **** {
 916:User/lcd/bsp_lcd.c **** 
 917:User/lcd/bsp_lcd.c ****   if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB8888)
 918:User/lcd/bsp_lcd.c ****   {
 919:User/lcd/bsp_lcd.c ****     *(__IO uint32_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (4 * (Ypos * LCD_GetXSize
 920:User/lcd/bsp_lcd.c ****         RGB_Code;
 921:User/lcd/bsp_lcd.c ****   }
 922:User/lcd/bsp_lcd.c ****   else if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB888)
 923:User/lcd/bsp_lcd.c ****   {
 924:User/lcd/bsp_lcd.c ****     *(__IO uint8_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (3 * (Ypos * LCD_GetXSize(
 925:User/lcd/bsp_lcd.c ****         0xFF & (RGB_Code >> 16);
 926:User/lcd/bsp_lcd.c ****     *(__IO uint8_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (3 * (Ypos * LCD_GetXSize(
 927:User/lcd/bsp_lcd.c ****         0xFF & (RGB_Code >> 8);
 928:User/lcd/bsp_lcd.c ****     *(__IO uint8_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (3 * (Ypos * LCD_GetXSize(
 929:User/lcd/bsp_lcd.c ****         0xFF & RGB_Code;
 930:User/lcd/bsp_lcd.c ****   }
 931:User/lcd/bsp_lcd.c ****   else if ((Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB565) ||
 932:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444) ||
 933:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_AL88))
 934:User/lcd/bsp_lcd.c ****   {
 935:User/lcd/bsp_lcd.c ****     *(__IO uint16_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (2 * (Ypos * LCD_GetXSize
 936:User/lcd/bsp_lcd.c ****         (uint16_t)RGB_Code;
 937:User/lcd/bsp_lcd.c ****   }
 938:User/lcd/bsp_lcd.c ****   else
 939:User/lcd/bsp_lcd.c ****   {
ARM GAS  /tmp/ccYQ2vhW.s 			page 29


 940:User/lcd/bsp_lcd.c ****     *(__IO uint16_t *)(Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (2 * (Ypos * LCD_GetXSize
 941:User/lcd/bsp_lcd.c ****         (uint16_t)RGB_Code;
 942:User/lcd/bsp_lcd.c ****   }
 943:User/lcd/bsp_lcd.c **** }
 944:User/lcd/bsp_lcd.c **** 
 945:User/lcd/bsp_lcd.c **** /**
 946:User/lcd/bsp_lcd.c ****  * @brief  绘制一幅从内部flash加载的ARGB888(32 bits per pixel)格式的图片
 947:User/lcd/bsp_lcd.c ****  * @param  Xpos: Bmp在液晶上X 轴坐标
 948:User/lcd/bsp_lcd.c ****  * @param  Ypos: Bmp在液晶上Y 轴坐标
 949:User/lcd/bsp_lcd.c ****  * @param  pbmp: 指针指向存在内部flash的Bmp图片的首地址
 950:User/lcd/bsp_lcd.c ****  * @retval 无
 951:User/lcd/bsp_lcd.c ****  */
 952:User/lcd/bsp_lcd.c **** void LCD_DrawBitmap(uint32_t Xpos, uint32_t Ypos, uint8_t *pbmp)
 953:User/lcd/bsp_lcd.c **** {
 954:User/lcd/bsp_lcd.c ****   uint32_t index = 0, width = 0, height = 0, bit_pixel = 0;
 955:User/lcd/bsp_lcd.c ****   uint32_t address;
 956:User/lcd/bsp_lcd.c ****   uint32_t input_color_mode = 0;
 957:User/lcd/bsp_lcd.c **** 
 958:User/lcd/bsp_lcd.c ****   /* 获取位图数据的基地址 */
 959:User/lcd/bsp_lcd.c ****   index = *(__IO uint16_t *)(pbmp + 10);
 960:User/lcd/bsp_lcd.c ****   index |= (*(__IO uint16_t *)(pbmp + 12)) << 16;
 961:User/lcd/bsp_lcd.c **** 
 962:User/lcd/bsp_lcd.c ****   /* 获取位图宽度 */
 963:User/lcd/bsp_lcd.c ****   width = *(uint16_t *)(pbmp + 18);
 964:User/lcd/bsp_lcd.c ****   width |= (*(uint16_t *)(pbmp + 20)) << 16;
 965:User/lcd/bsp_lcd.c **** 
 966:User/lcd/bsp_lcd.c ****   /* 获取位图高度 */
 967:User/lcd/bsp_lcd.c ****   height = *(uint16_t *)(pbmp + 22);
 968:User/lcd/bsp_lcd.c ****   height |= (*(uint16_t *)(pbmp + 24)) << 16;
 969:User/lcd/bsp_lcd.c **** 
 970:User/lcd/bsp_lcd.c ****   /* 获取像素个数 */
 971:User/lcd/bsp_lcd.c ****   bit_pixel = *(uint16_t *)(pbmp + 28);
 972:User/lcd/bsp_lcd.c **** 
 973:User/lcd/bsp_lcd.c ****   /* 设定地址 */
 974:User/lcd/bsp_lcd.c ****   address = Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress + (((LCD_GetXSize() * Ypos) + Xpos) * 
 975:User/lcd/bsp_lcd.c **** 
 976:User/lcd/bsp_lcd.c ****   /*判断层输入像素格式 */
 977:User/lcd/bsp_lcd.c ****   if ((bit_pixel / 8) == 4)
 978:User/lcd/bsp_lcd.c ****   {
 979:User/lcd/bsp_lcd.c ****     input_color_mode = DMA2D_INPUT_ARGB8888;
 980:User/lcd/bsp_lcd.c ****   }
 981:User/lcd/bsp_lcd.c ****   else if ((bit_pixel / 8) == 2)
 982:User/lcd/bsp_lcd.c ****   {
 983:User/lcd/bsp_lcd.c ****     input_color_mode = DMA2D_INPUT_RGB565;
 984:User/lcd/bsp_lcd.c ****   }
 985:User/lcd/bsp_lcd.c ****   else
 986:User/lcd/bsp_lcd.c ****   {
 987:User/lcd/bsp_lcd.c ****     input_color_mode = DMA2D_INPUT_RGB888;
 988:User/lcd/bsp_lcd.c ****   }
 989:User/lcd/bsp_lcd.c **** 
 990:User/lcd/bsp_lcd.c ****   /* 绕过位图的帧头 */
 991:User/lcd/bsp_lcd.c ****   pbmp += (index + (width * (height - 1) * (bit_pixel / 8)));
 992:User/lcd/bsp_lcd.c **** 
 993:User/lcd/bsp_lcd.c ****   /* 将图片转换为 ARGB8888 像素格式 */
 994:User/lcd/bsp_lcd.c ****   for (index = 0; index < height; index++)
 995:User/lcd/bsp_lcd.c ****   {
 996:User/lcd/bsp_lcd.c ****     /* 像素格式转换 */
ARM GAS  /tmp/ccYQ2vhW.s 			page 30


 997:User/lcd/bsp_lcd.c ****     LL_ConvertLineToARGB8888((uint32_t *)pbmp, (uint32_t *)address, width, input_color_mode);
 998:User/lcd/bsp_lcd.c **** 
 999:User/lcd/bsp_lcd.c ****     /* 递增源和目标缓冲区 */
1000:User/lcd/bsp_lcd.c ****     address += (LCD_GetXSize() * 4);
1001:User/lcd/bsp_lcd.c ****     pbmp -= width * (bit_pixel / 8);
1002:User/lcd/bsp_lcd.c ****   }
1003:User/lcd/bsp_lcd.c **** }
1004:User/lcd/bsp_lcd.c **** 
1005:User/lcd/bsp_lcd.c **** /**
1006:User/lcd/bsp_lcd.c ****  * @brief  填充一个实心矩形
1007:User/lcd/bsp_lcd.c ****  * @param  Xpos: X坐标值
1008:User/lcd/bsp_lcd.c ****  * @param  Ypos: Y坐标值
1009:User/lcd/bsp_lcd.c ****  * @param  Width:  矩形宽度
1010:User/lcd/bsp_lcd.c ****  * @param  Height: 矩形高度
1011:User/lcd/bsp_lcd.c ****  * @retval 无
1012:User/lcd/bsp_lcd.c ****  */
1013:User/lcd/bsp_lcd.c **** void LCD_FillRect(uint16_t Xpos, uint16_t Ypos, uint16_t Width, uint16_t Height)
1014:User/lcd/bsp_lcd.c **** {
1015:User/lcd/bsp_lcd.c ****   uint32_t x_address = 0;
1016:User/lcd/bsp_lcd.c **** 
1017:User/lcd/bsp_lcd.c ****   /* 设置文字颜色 */
1018:User/lcd/bsp_lcd.c ****   LCD_SetTextColor(DrawProp[ActiveLayer].TextColor);
1019:User/lcd/bsp_lcd.c **** 
1020:User/lcd/bsp_lcd.c ****   /* 设置矩形开始地址 */
1021:User/lcd/bsp_lcd.c ****   if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB8888)
1022:User/lcd/bsp_lcd.c ****   {
1023:User/lcd/bsp_lcd.c ****     x_address = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 4 * (LCD_GetXSize() * Ypos + X
1024:User/lcd/bsp_lcd.c ****   }
1025:User/lcd/bsp_lcd.c ****   else if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB888)
1026:User/lcd/bsp_lcd.c ****   {
1027:User/lcd/bsp_lcd.c ****     x_address = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 3 * (LCD_GetXSize() * Ypos + X
1028:User/lcd/bsp_lcd.c ****   }
1029:User/lcd/bsp_lcd.c ****   else if ((Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB565) ||
1030:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444) ||
1031:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_AL88))
1032:User/lcd/bsp_lcd.c ****   {
1033:User/lcd/bsp_lcd.c ****     x_address = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 2 * (LCD_GetXSize() * Ypos + X
1034:User/lcd/bsp_lcd.c ****   }
1035:User/lcd/bsp_lcd.c ****   else
1036:User/lcd/bsp_lcd.c ****   {
1037:User/lcd/bsp_lcd.c ****     x_address = (Ltdc_Handler.LayerCfg[ActiveLayer].FBStartAdress) + 2 * (LCD_GetXSize() * Ypos + X
1038:User/lcd/bsp_lcd.c ****   }
1039:User/lcd/bsp_lcd.c ****   /* 填充矩形 */
1040:User/lcd/bsp_lcd.c ****   LL_FillBuffer(ActiveLayer, (uint32_t *)x_address, Width, Height, (LCD_GetXSize() - Width),
1041:User/lcd/bsp_lcd.c ****                 DrawProp[ActiveLayer].TextColor);
1042:User/lcd/bsp_lcd.c **** }
1043:User/lcd/bsp_lcd.c **** 
1044:User/lcd/bsp_lcd.c **** /**
1045:User/lcd/bsp_lcd.c ****  * @brief  填充一个实心圆
1046:User/lcd/bsp_lcd.c ****  * @param  Xpos: X坐标值
1047:User/lcd/bsp_lcd.c ****  * @param  Ypos: Y坐标值
1048:User/lcd/bsp_lcd.c ****  * @param  Radius: 圆的半径
1049:User/lcd/bsp_lcd.c ****  * @retval 无
1050:User/lcd/bsp_lcd.c ****  */
1051:User/lcd/bsp_lcd.c **** void LCD_FillCircle(uint16_t Xpos, uint16_t Ypos, uint16_t Radius)
1052:User/lcd/bsp_lcd.c **** {
1053:User/lcd/bsp_lcd.c ****   int32_t decision;   /* 决策变量 */
ARM GAS  /tmp/ccYQ2vhW.s 			page 31


1054:User/lcd/bsp_lcd.c ****   uint32_t current_x; /* 当前x坐标值 */
1055:User/lcd/bsp_lcd.c ****   uint32_t current_y; /* 当前y坐标值 */
1056:User/lcd/bsp_lcd.c **** 
1057:User/lcd/bsp_lcd.c ****   decision = 3 - (Radius << 1);
1058:User/lcd/bsp_lcd.c **** 
1059:User/lcd/bsp_lcd.c ****   current_x = 0;
1060:User/lcd/bsp_lcd.c ****   current_y = Radius;
1061:User/lcd/bsp_lcd.c **** 
1062:User/lcd/bsp_lcd.c ****   LCD_SetTextColor(DrawProp[ActiveLayer].TextColor);
1063:User/lcd/bsp_lcd.c **** 
1064:User/lcd/bsp_lcd.c ****   while (current_x <= current_y)
1065:User/lcd/bsp_lcd.c ****   {
1066:User/lcd/bsp_lcd.c ****     if (current_y > 0)
1067:User/lcd/bsp_lcd.c ****     {
1068:User/lcd/bsp_lcd.c ****       LCD_DrawHLine(Xpos - current_y, Ypos + current_x, 2 * current_y);
1069:User/lcd/bsp_lcd.c ****       LCD_DrawHLine(Xpos - current_y, Ypos - current_x, 2 * current_y);
1070:User/lcd/bsp_lcd.c ****     }
1071:User/lcd/bsp_lcd.c **** 
1072:User/lcd/bsp_lcd.c ****     if (current_x > 0)
1073:User/lcd/bsp_lcd.c ****     {
1074:User/lcd/bsp_lcd.c ****       LCD_DrawHLine(Xpos - current_x, Ypos - current_y, 2 * current_x);
1075:User/lcd/bsp_lcd.c ****       LCD_DrawHLine(Xpos - current_x, Ypos + current_y, 2 * current_x);
1076:User/lcd/bsp_lcd.c ****     }
1077:User/lcd/bsp_lcd.c ****     if (decision < 0)
1078:User/lcd/bsp_lcd.c ****     {
1079:User/lcd/bsp_lcd.c ****       decision += (current_x << 2) + 6;
1080:User/lcd/bsp_lcd.c ****     }
1081:User/lcd/bsp_lcd.c ****     else
1082:User/lcd/bsp_lcd.c ****     {
1083:User/lcd/bsp_lcd.c ****       decision += ((current_x - current_y) << 2) + 10;
1084:User/lcd/bsp_lcd.c ****       current_y--;
1085:User/lcd/bsp_lcd.c ****     }
1086:User/lcd/bsp_lcd.c ****     current_x++;
1087:User/lcd/bsp_lcd.c ****   }
1088:User/lcd/bsp_lcd.c **** 
1089:User/lcd/bsp_lcd.c ****   LCD_SetTextColor(DrawProp[ActiveLayer].TextColor);
1090:User/lcd/bsp_lcd.c ****   LCD_DrawCircle(Xpos, Ypos, Radius);
1091:User/lcd/bsp_lcd.c **** }
1092:User/lcd/bsp_lcd.c **** 
1093:User/lcd/bsp_lcd.c **** /**
1094:User/lcd/bsp_lcd.c ****  * @brief  绘制多边形
1095:User/lcd/bsp_lcd.c ****  * @param  Points: 指向点数组的指针
1096:User/lcd/bsp_lcd.c ****  * @param  PointCount: 点数
1097:User/lcd/bsp_lcd.c ****  * @retval 无
1098:User/lcd/bsp_lcd.c ****  */
1099:User/lcd/bsp_lcd.c **** void LCD_FillPolygon(pPoint Points, uint16_t PointCount)
1100:User/lcd/bsp_lcd.c **** {
1101:User/lcd/bsp_lcd.c ****   int16_t X = 0, Y = 0, X2 = 0, Y2 = 0, X_center = 0, Y_center = 0, X_first = 0, Y_first = 0, pixel
1102:User/lcd/bsp_lcd.c ****           counter = 0;
1103:User/lcd/bsp_lcd.c ****   uint16_t image_left = 0, image_right = 0, image_top = 0, image_bottom = 0;
1104:User/lcd/bsp_lcd.c **** 
1105:User/lcd/bsp_lcd.c ****   image_left = image_right = Points->X;
1106:User/lcd/bsp_lcd.c ****   image_top = image_bottom = Points->Y;
1107:User/lcd/bsp_lcd.c **** 
1108:User/lcd/bsp_lcd.c ****   for (counter = 1; counter < PointCount; counter++)
1109:User/lcd/bsp_lcd.c ****   {
1110:User/lcd/bsp_lcd.c ****     pixelX = POLY_X(counter);
ARM GAS  /tmp/ccYQ2vhW.s 			page 32


1111:User/lcd/bsp_lcd.c ****     if (pixelX < image_left)
1112:User/lcd/bsp_lcd.c ****     {
1113:User/lcd/bsp_lcd.c ****       image_left = pixelX;
1114:User/lcd/bsp_lcd.c ****     }
1115:User/lcd/bsp_lcd.c ****     if (pixelX > image_right)
1116:User/lcd/bsp_lcd.c ****     {
1117:User/lcd/bsp_lcd.c ****       image_right = pixelX;
1118:User/lcd/bsp_lcd.c ****     }
1119:User/lcd/bsp_lcd.c **** 
1120:User/lcd/bsp_lcd.c ****     pixelY = POLY_Y(counter);
1121:User/lcd/bsp_lcd.c ****     if (pixelY < image_top)
1122:User/lcd/bsp_lcd.c ****     {
1123:User/lcd/bsp_lcd.c ****       image_top = pixelY;
1124:User/lcd/bsp_lcd.c ****     }
1125:User/lcd/bsp_lcd.c ****     if (pixelY > image_bottom)
1126:User/lcd/bsp_lcd.c ****     {
1127:User/lcd/bsp_lcd.c ****       image_bottom = pixelY;
1128:User/lcd/bsp_lcd.c ****     }
1129:User/lcd/bsp_lcd.c ****   }
1130:User/lcd/bsp_lcd.c **** 
1131:User/lcd/bsp_lcd.c ****   if (PointCount < 2)
1132:User/lcd/bsp_lcd.c ****   {
1133:User/lcd/bsp_lcd.c ****     return;
1134:User/lcd/bsp_lcd.c ****   }
1135:User/lcd/bsp_lcd.c **** 
1136:User/lcd/bsp_lcd.c ****   X_center = (image_left + image_right) / 2;
1137:User/lcd/bsp_lcd.c ****   Y_center = (image_bottom + image_top) / 2;
1138:User/lcd/bsp_lcd.c **** 
1139:User/lcd/bsp_lcd.c ****   X_first = Points->X;
1140:User/lcd/bsp_lcd.c ****   Y_first = Points->Y;
1141:User/lcd/bsp_lcd.c **** 
1142:User/lcd/bsp_lcd.c ****   while (--PointCount)
1143:User/lcd/bsp_lcd.c ****   {
1144:User/lcd/bsp_lcd.c ****     X = Points->X;
1145:User/lcd/bsp_lcd.c ****     Y = Points->Y;
1146:User/lcd/bsp_lcd.c ****     Points++;
1147:User/lcd/bsp_lcd.c ****     X2 = Points->X;
1148:User/lcd/bsp_lcd.c ****     Y2 = Points->Y;
1149:User/lcd/bsp_lcd.c **** 
1150:User/lcd/bsp_lcd.c ****     FillTriangle(X, X2, X_center, Y, Y2, Y_center);
1151:User/lcd/bsp_lcd.c ****     FillTriangle(X, X_center, X2, Y, Y_center, Y2);
1152:User/lcd/bsp_lcd.c ****     FillTriangle(X_center, X2, X, Y_center, Y2, Y);
1153:User/lcd/bsp_lcd.c ****   }
1154:User/lcd/bsp_lcd.c **** 
1155:User/lcd/bsp_lcd.c ****   FillTriangle(X_first, X2, X_center, Y_first, Y2, Y_center);
1156:User/lcd/bsp_lcd.c ****   FillTriangle(X_first, X_center, X2, Y_first, Y_center, Y2);
1157:User/lcd/bsp_lcd.c ****   FillTriangle(X_center, X2, X_first, Y_center, Y2, Y_first);
1158:User/lcd/bsp_lcd.c **** }
1159:User/lcd/bsp_lcd.c **** 
1160:User/lcd/bsp_lcd.c **** /**
1161:User/lcd/bsp_lcd.c ****  * @brief  填充一个实心椭圆
1162:User/lcd/bsp_lcd.c ****  * @param  Xpos:   X轴坐标
1163:User/lcd/bsp_lcd.c ****  * @param  Ypos:   Y轴坐标
1164:User/lcd/bsp_lcd.c ****  * @param  XRadius: 椭圆X轴半径
1165:User/lcd/bsp_lcd.c ****  * @param  YRadius: 椭圆Y轴半径
1166:User/lcd/bsp_lcd.c ****  * @retval 无
1167:User/lcd/bsp_lcd.c ****  */
ARM GAS  /tmp/ccYQ2vhW.s 			page 33


1168:User/lcd/bsp_lcd.c **** void LCD_FillEllipse(int Xpos, int Ypos, int XRadius, int YRadius)
1169:User/lcd/bsp_lcd.c **** {
1170:User/lcd/bsp_lcd.c ****   int x = 0, y = -YRadius, err = 2 - 2 * XRadius, e2;
1171:User/lcd/bsp_lcd.c ****   float k = 0, rad1 = 0, rad2 = 0;
1172:User/lcd/bsp_lcd.c **** 
1173:User/lcd/bsp_lcd.c ****   rad1 = XRadius;
1174:User/lcd/bsp_lcd.c ****   rad2 = YRadius;
1175:User/lcd/bsp_lcd.c **** 
1176:User/lcd/bsp_lcd.c ****   k = (float)(rad2 / rad1);
1177:User/lcd/bsp_lcd.c **** 
1178:User/lcd/bsp_lcd.c ****   do
1179:User/lcd/bsp_lcd.c ****   {
1180:User/lcd/bsp_lcd.c ****     LCD_DrawHLine((Xpos - (uint16_t)(x / k)), (Ypos + y), (2 * (uint16_t)(x / k) + 1));
1181:User/lcd/bsp_lcd.c ****     LCD_DrawHLine((Xpos - (uint16_t)(x / k)), (Ypos - y), (2 * (uint16_t)(x / k) + 1));
1182:User/lcd/bsp_lcd.c **** 
1183:User/lcd/bsp_lcd.c ****     e2 = err;
1184:User/lcd/bsp_lcd.c ****     if (e2 <= x)
1185:User/lcd/bsp_lcd.c ****     {
1186:User/lcd/bsp_lcd.c ****       err += ++x * 2 + 1;
1187:User/lcd/bsp_lcd.c ****       if (-y == x && e2 <= y)
1188:User/lcd/bsp_lcd.c ****         e2 = 0;
1189:User/lcd/bsp_lcd.c ****     }
1190:User/lcd/bsp_lcd.c ****     if (e2 > y)
1191:User/lcd/bsp_lcd.c ****       err += ++y * 2 + 1;
1192:User/lcd/bsp_lcd.c ****   } while (y <= 0);
1193:User/lcd/bsp_lcd.c **** }
1194:User/lcd/bsp_lcd.c **** 
1195:User/lcd/bsp_lcd.c **** /**
1196:User/lcd/bsp_lcd.c ****  * @brief  使能显示
1197:User/lcd/bsp_lcd.c ****  * @retval 无
1198:User/lcd/bsp_lcd.c ****  */
1199:User/lcd/bsp_lcd.c **** void LCD_DisplayOn(void)
1200:User/lcd/bsp_lcd.c **** {
1201:User/lcd/bsp_lcd.c ****   /* 开显示 */
1202:User/lcd/bsp_lcd.c ****   __HAL_LTDC_ENABLE(&Ltdc_Handler);
1203:User/lcd/bsp_lcd.c ****   HAL_GPIO_WritePin(LTDC_BL_GPIO_PORT, LTDC_BL_GPIO_PIN, GPIO_PIN_SET); /* 开背光*/
1204:User/lcd/bsp_lcd.c **** }
1205:User/lcd/bsp_lcd.c **** 
1206:User/lcd/bsp_lcd.c **** /**
1207:User/lcd/bsp_lcd.c ****  * @brief  禁能显示
1208:User/lcd/bsp_lcd.c ****  * @retval 无
1209:User/lcd/bsp_lcd.c ****  */
1210:User/lcd/bsp_lcd.c **** void LCD_DisplayOff(void)
1211:User/lcd/bsp_lcd.c **** {
1212:User/lcd/bsp_lcd.c ****   /* 关显示 */
1213:User/lcd/bsp_lcd.c ****   __HAL_LTDC_DISABLE(&Ltdc_Handler);
1214:User/lcd/bsp_lcd.c ****   HAL_GPIO_WritePin(LTDC_BL_GPIO_PORT, LTDC_BL_GPIO_PIN, GPIO_PIN_RESET); /*关背光*/
1215:User/lcd/bsp_lcd.c **** }
1216:User/lcd/bsp_lcd.c **** 
1217:User/lcd/bsp_lcd.c **** /*******************************************************************************
1218:User/lcd/bsp_lcd.c ****                             局部函数
1219:User/lcd/bsp_lcd.c **** *******************************************************************************/
1220:User/lcd/bsp_lcd.c **** 
1221:User/lcd/bsp_lcd.c **** /**
1222:User/lcd/bsp_lcd.c ****  * @brief  显示一个字符
1223:User/lcd/bsp_lcd.c ****  * @param  Xpos: 显示字符的行位置
1224:User/lcd/bsp_lcd.c ****  * @param  Ypos: 列起始位置
ARM GAS  /tmp/ccYQ2vhW.s 			page 34


1225:User/lcd/bsp_lcd.c ****  * @param  c: 指向字体数据的指针
1226:User/lcd/bsp_lcd.c ****  * @retval 无
1227:User/lcd/bsp_lcd.c ****  */
1228:User/lcd/bsp_lcd.c **** static void DrawChar(uint16_t Xpos, uint16_t Ypos, const uint8_t *c)
1229:User/lcd/bsp_lcd.c **** {
1230:User/lcd/bsp_lcd.c ****   uint32_t i = 0, j = 0;
1231:User/lcd/bsp_lcd.c ****   uint16_t height, width;
1232:User/lcd/bsp_lcd.c ****   uint8_t offset;
1233:User/lcd/bsp_lcd.c ****   uint8_t *pchar;
1234:User/lcd/bsp_lcd.c ****   uint32_t line;
1235:User/lcd/bsp_lcd.c **** 
1236:User/lcd/bsp_lcd.c ****   height = DrawProp[ActiveLayer].pFont->Height; //获取正在使用字体高度
1237:User/lcd/bsp_lcd.c ****   width = DrawProp[ActiveLayer].pFont->Width;   //获取正在使用字体宽度
1238:User/lcd/bsp_lcd.c **** 
1239:User/lcd/bsp_lcd.c ****   offset = 8 * ((width + 7) / 8) - width; //计算字符的每一行像素的偏移值，实际存储大小-字体宽度
1240:User/lcd/bsp_lcd.c **** 
1241:User/lcd/bsp_lcd.c ****   for (i = 0; i < height; i++) //遍历字体高度绘点
1242:User/lcd/bsp_lcd.c ****   {
1243:User/lcd/bsp_lcd.c ****     pchar = ((uint8_t *)c + (width + 7) / 8 * i); //计算字符的每一行像素的偏移地址
1244:User/lcd/bsp_lcd.c **** 
1245:User/lcd/bsp_lcd.c ****     switch (((width + 7) / 8)) //根据字体宽度来提取不同字体的实际像素值
1246:User/lcd/bsp_lcd.c ****     {
1247:User/lcd/bsp_lcd.c **** 
1248:User/lcd/bsp_lcd.c ****     case 1:
1249:User/lcd/bsp_lcd.c ****       line = pchar[0]; //提取字体宽度小于8的字符的像素值
1250:User/lcd/bsp_lcd.c ****       break;
1251:User/lcd/bsp_lcd.c **** 
1252:User/lcd/bsp_lcd.c ****     case 2:
1253:User/lcd/bsp_lcd.c ****       line = (pchar[0] << 8) | pchar[1]; //提取字体宽度大于8小于16的字符的像素值
1254:User/lcd/bsp_lcd.c ****       break;
1255:User/lcd/bsp_lcd.c **** 
1256:User/lcd/bsp_lcd.c ****     case 3:
1257:User/lcd/bsp_lcd.c ****     default:
1258:User/lcd/bsp_lcd.c ****       line = (pchar[0] << 16) | (pchar[1] << 8) | pchar[2]; //提取字体宽度大于16小于24的字符的像素
1259:User/lcd/bsp_lcd.c ****       break;
1260:User/lcd/bsp_lcd.c ****     }
1261:User/lcd/bsp_lcd.c **** 
1262:User/lcd/bsp_lcd.c ****     for (j = 0; j < width; j++) //遍历字体宽度绘点
1263:User/lcd/bsp_lcd.c ****     {
1264:User/lcd/bsp_lcd.c ****       if (line & (1 << (width - j + offset - 1))) //根据每一行的像素值及偏移位置按照当前字体颜色进
1265:User/lcd/bsp_lcd.c ****       {
1266:User/lcd/bsp_lcd.c ****         LCD_DrawPixel((Xpos + j), Ypos, DrawProp[ActiveLayer].TextColor);
1267:User/lcd/bsp_lcd.c ****       }
1268:User/lcd/bsp_lcd.c ****       else //如果这一行没有字体像素则按照背景颜色绘点
1269:User/lcd/bsp_lcd.c ****       {
1270:User/lcd/bsp_lcd.c ****         LCD_DrawPixel((Xpos + j), Ypos, DrawProp[ActiveLayer].BackColor);
1271:User/lcd/bsp_lcd.c ****       }
1272:User/lcd/bsp_lcd.c ****     }
1273:User/lcd/bsp_lcd.c ****     Ypos++;
1274:User/lcd/bsp_lcd.c ****   }
1275:User/lcd/bsp_lcd.c **** }
1276:User/lcd/bsp_lcd.c **** 
1277:User/lcd/bsp_lcd.c **** /**
1278:User/lcd/bsp_lcd.c ****  * @brief  填充三角形（基于三点）
1279:User/lcd/bsp_lcd.c ****  * @param  x1: 第一点的X坐标值
1280:User/lcd/bsp_lcd.c ****  * @param  y1: 第一点的Y坐标值
1281:User/lcd/bsp_lcd.c ****  * @param  x2: 第二点的X坐标值
ARM GAS  /tmp/ccYQ2vhW.s 			page 35


1282:User/lcd/bsp_lcd.c ****  * @param  y2: 第二点的Y坐标值
1283:User/lcd/bsp_lcd.c ****  * @param  x3: 第三点的X坐标值
1284:User/lcd/bsp_lcd.c ****  * @param  y3: 第三点的Y坐标值
1285:User/lcd/bsp_lcd.c ****  * @retval 无
1286:User/lcd/bsp_lcd.c ****  */
1287:User/lcd/bsp_lcd.c **** static void FillTriangle(uint16_t x1, uint16_t x2, uint16_t x3, uint16_t y1, uint16_t y2, uint16_t 
1288:User/lcd/bsp_lcd.c **** {
1289:User/lcd/bsp_lcd.c ****   int16_t deltax = 0, deltay = 0, x = 0, y = 0, xinc1 = 0, xinc2 = 0, yinc1 = 0, yinc2 = 0, den = 0
1290:User/lcd/bsp_lcd.c ****           num_add = 0, num_pixels = 0, curpixel = 0;
1291:User/lcd/bsp_lcd.c **** 
1292:User/lcd/bsp_lcd.c ****   deltax = ABS(x2 - x1); /* 求x轴的绝对值 */
1293:User/lcd/bsp_lcd.c ****   deltay = ABS(y2 - y1); /* 求y轴的绝对值 */
1294:User/lcd/bsp_lcd.c ****   x = x1;                /* 第一个像素的x坐标起始值 */
1295:User/lcd/bsp_lcd.c ****   y = y1;                /* 第一个像素的y坐标起始值 */
1296:User/lcd/bsp_lcd.c **** 
1297:User/lcd/bsp_lcd.c ****   if (x2 >= x1) /* x坐标值为递增*/
1298:User/lcd/bsp_lcd.c ****   {
1299:User/lcd/bsp_lcd.c ****     xinc1 = 1;
1300:User/lcd/bsp_lcd.c ****     xinc2 = 1;
1301:User/lcd/bsp_lcd.c ****   }
1302:User/lcd/bsp_lcd.c ****   else /* x坐标值为递减 */
1303:User/lcd/bsp_lcd.c ****   {
1304:User/lcd/bsp_lcd.c ****     xinc1 = -1;
1305:User/lcd/bsp_lcd.c ****     xinc2 = -1;
1306:User/lcd/bsp_lcd.c ****   }
1307:User/lcd/bsp_lcd.c **** 
1308:User/lcd/bsp_lcd.c ****   if (y2 >= y1) /* y坐标值为递增*/
1309:User/lcd/bsp_lcd.c ****   {
1310:User/lcd/bsp_lcd.c ****     yinc1 = 1;
1311:User/lcd/bsp_lcd.c ****     yinc2 = 1;
1312:User/lcd/bsp_lcd.c ****   }
1313:User/lcd/bsp_lcd.c ****   else /* y坐标值为递减 */
1314:User/lcd/bsp_lcd.c ****   {
1315:User/lcd/bsp_lcd.c ****     yinc1 = -1;
1316:User/lcd/bsp_lcd.c ****     yinc2 = -1;
1317:User/lcd/bsp_lcd.c ****   }
1318:User/lcd/bsp_lcd.c **** 
1319:User/lcd/bsp_lcd.c ****   if (deltax >= deltay) /* 每个 y 坐标值至少有一个x坐标值*/
1320:User/lcd/bsp_lcd.c ****   {
1321:User/lcd/bsp_lcd.c ****     xinc1 = 0; /* 当分子大于或等于分母时不要改变 x */
1322:User/lcd/bsp_lcd.c ****     yinc2 = 0; /* 不要为每次迭代更改 y */
1323:User/lcd/bsp_lcd.c ****     den = deltax;
1324:User/lcd/bsp_lcd.c ****     num = deltax / 2;
1325:User/lcd/bsp_lcd.c ****     num_add = deltay;
1326:User/lcd/bsp_lcd.c ****     num_pixels = deltax; /* x比y多的值 */
1327:User/lcd/bsp_lcd.c ****   }
1328:User/lcd/bsp_lcd.c ****   else /* 每个 x 坐标值至少有一个y坐标值 */
1329:User/lcd/bsp_lcd.c ****   {
1330:User/lcd/bsp_lcd.c ****     xinc2 = 0; /* 不要为每次迭代更改 x */
1331:User/lcd/bsp_lcd.c ****     yinc1 = 0; /* 当分子大于或等于分母时不要改变 y */
1332:User/lcd/bsp_lcd.c ****     den = deltay;
1333:User/lcd/bsp_lcd.c ****     num = deltay / 2;
1334:User/lcd/bsp_lcd.c ****     num_add = deltax;
1335:User/lcd/bsp_lcd.c ****     num_pixels = deltay; /* y比x多的值 */
1336:User/lcd/bsp_lcd.c ****   }
1337:User/lcd/bsp_lcd.c **** 
1338:User/lcd/bsp_lcd.c ****   for (curpixel = 0; curpixel <= num_pixels; curpixel++)
ARM GAS  /tmp/ccYQ2vhW.s 			page 36


1339:User/lcd/bsp_lcd.c ****   {
1340:User/lcd/bsp_lcd.c ****     LCD_DrawLine(x, y, x3, y3);
1341:User/lcd/bsp_lcd.c **** 
1342:User/lcd/bsp_lcd.c ****     num += num_add; /* 在分数的基础上增加分子 */
1343:User/lcd/bsp_lcd.c ****     if (num >= den) /* 判断分子是否大于或等于分母 */
1344:User/lcd/bsp_lcd.c ****     {
1345:User/lcd/bsp_lcd.c ****       num -= den; /* 计算新的分子值 */
1346:User/lcd/bsp_lcd.c ****       x += xinc1; /* x值递增 */
1347:User/lcd/bsp_lcd.c ****       y += yinc1; /* y值递增 */
1348:User/lcd/bsp_lcd.c ****     }
1349:User/lcd/bsp_lcd.c ****     x += xinc2; /* x值递增 */
1350:User/lcd/bsp_lcd.c ****     y += yinc2; /* y值递增 */
1351:User/lcd/bsp_lcd.c ****   }
1352:User/lcd/bsp_lcd.c **** }
1353:User/lcd/bsp_lcd.c **** 
1354:User/lcd/bsp_lcd.c **** /**
1355:User/lcd/bsp_lcd.c ****  * @brief  填充一个缓冲区
1356:User/lcd/bsp_lcd.c ****  * @param  LayerIndex: 当前层
1357:User/lcd/bsp_lcd.c ****  * @param  pDst: 指向目标缓冲区指针
1358:User/lcd/bsp_lcd.c ****  * @param  xSize: 缓冲区宽度
1359:User/lcd/bsp_lcd.c ****  * @param  ySize: 缓冲区高度
1360:User/lcd/bsp_lcd.c ****  * @param  OffLine: 偏移量
1361:User/lcd/bsp_lcd.c ****  * @param  ColorIndex: 当前颜色
1362:User/lcd/bsp_lcd.c ****  * @retval None
1363:User/lcd/bsp_lcd.c ****  */
1364:User/lcd/bsp_lcd.c **** static void LL_FillBuffer(uint32_t LayerIndex, void *pDst, uint32_t xSize, uint32_t ySize, uint32_t
1365:User/lcd/bsp_lcd.c ****                           uint32_t ColorIndex)
1366:User/lcd/bsp_lcd.c **** {
 661              		.loc 1 1366 0
 662              		.cfi_startproc
 663              		@ args = 8, pretend = 0, frame = 0
 664              		@ frame_needed = 0, uses_anonymous_args = 0
 665              	.LVL29:
 666 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 667              	.LCFI3:
 668              		.cfi_def_cfa_offset 20
 669              		.cfi_offset 4, -20
 670              		.cfi_offset 5, -16
 671              		.cfi_offset 6, -12
 672              		.cfi_offset 7, -8
 673              		.cfi_offset 14, -4
 674 0002 83B0     		sub	sp, sp, #12
 675              	.LCFI4:
 676              		.cfi_def_cfa_offset 32
 677 0004 0446     		mov	r4, r0
 678 0006 0D46     		mov	r5, r1
 679 0008 1646     		mov	r6, r2
 680 000a 1F46     		mov	r7, r3
1367:User/lcd/bsp_lcd.c **** 
1368:User/lcd/bsp_lcd.c ****   Dma2d_Handler.Init.Mode = DMA2D_R2M;
 681              		.loc 1 1368 0
 682 000c 4FF44032 		mov	r2, #196608
 683              	.LVL30:
 684 0010 214B     		ldr	r3, .L20
 685              	.LVL31:
 686 0012 5A60     		str	r2, [r3, #4]
1369:User/lcd/bsp_lcd.c ****   if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB565)
ARM GAS  /tmp/ccYQ2vhW.s 			page 37


 687              		.loc 1 1369 0
 688 0014 214B     		ldr	r3, .L20+4
 689 0016 1B68     		ldr	r3, [r3]
 690 0018 3421     		movs	r1, #52
 691              	.LVL32:
 692 001a 214A     		ldr	r2, .L20+8
 693 001c 01FB0323 		mla	r3, r1, r3, r2
 694 0020 9B6C     		ldr	r3, [r3, #72]
 695 0022 022B     		cmp	r3, #2
 696 0024 0DD0     		beq	.L16
1370:User/lcd/bsp_lcd.c ****   {
1371:User/lcd/bsp_lcd.c ****     Dma2d_Handler.Init.ColorMode = DMA2D_OUTPUT_RGB565;
1372:User/lcd/bsp_lcd.c ****   }
1373:User/lcd/bsp_lcd.c ****   else if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB8888)
 697              		.loc 1 1373 0
 698 0026 83B9     		cbnz	r3, .L11
1374:User/lcd/bsp_lcd.c ****   {
1375:User/lcd/bsp_lcd.c ****     Dma2d_Handler.Init.ColorMode = DMA2D_OUTPUT_ARGB8888;
 699              		.loc 1 1375 0
 700 0028 0022     		movs	r2, #0
 701 002a 1B4B     		ldr	r3, .L20
 702 002c 9A60     		str	r2, [r3, #8]
 703              	.L10:
1376:User/lcd/bsp_lcd.c ****   }
1377:User/lcd/bsp_lcd.c ****   else if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_RGB888)
1378:User/lcd/bsp_lcd.c ****   {
1379:User/lcd/bsp_lcd.c ****     Dma2d_Handler.Init.ColorMode = DMA2D_OUTPUT_RGB888;
1380:User/lcd/bsp_lcd.c ****   }
1381:User/lcd/bsp_lcd.c ****   else if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB1555)
1382:User/lcd/bsp_lcd.c ****   {
1383:User/lcd/bsp_lcd.c ****     Dma2d_Handler.Init.ColorMode = DMA2D_OUTPUT_ARGB1555;
1384:User/lcd/bsp_lcd.c ****   }
1385:User/lcd/bsp_lcd.c ****   else if (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444)
1386:User/lcd/bsp_lcd.c ****   {
1387:User/lcd/bsp_lcd.c ****     Dma2d_Handler.Init.ColorMode = DMA2D_OUTPUT_ARGB4444;
1388:User/lcd/bsp_lcd.c ****   }
1389:User/lcd/bsp_lcd.c ****   Dma2d_Handler.Init.OutputOffset = OffLine;
 704              		.loc 1 1389 0
 705 002e 1A48     		ldr	r0, .L20
 706              	.LVL33:
 707 0030 089B     		ldr	r3, [sp, #32]
 708 0032 C360     		str	r3, [r0, #12]
1390:User/lcd/bsp_lcd.c **** 
1391:User/lcd/bsp_lcd.c ****   Dma2d_Handler.Instance = DMA2D;
 709              		.loc 1 1391 0
 710 0034 1B4B     		ldr	r3, .L20+12
 711 0036 0360     		str	r3, [r0]
1392:User/lcd/bsp_lcd.c **** 
1393:User/lcd/bsp_lcd.c ****   /* DMA2D 初始化 */
1394:User/lcd/bsp_lcd.c ****   if (HAL_DMA2D_Init(&Dma2d_Handler) == HAL_OK)
 712              		.loc 1 1394 0
 713 0038 FFF7FEFF 		bl	HAL_DMA2D_Init
 714              	.LVL34:
 715 003c B8B1     		cbz	r0, .L17
 716              	.L8:
1395:User/lcd/bsp_lcd.c ****   {
1396:User/lcd/bsp_lcd.c ****     if (HAL_DMA2D_ConfigLayer(&Dma2d_Handler, LayerIndex) == HAL_OK)
ARM GAS  /tmp/ccYQ2vhW.s 			page 38


1397:User/lcd/bsp_lcd.c ****     {
1398:User/lcd/bsp_lcd.c ****       if (HAL_DMA2D_Start(&Dma2d_Handler, ColorIndex, (uint32_t)pDst, xSize, ySize) == HAL_OK)
1399:User/lcd/bsp_lcd.c ****       {
1400:User/lcd/bsp_lcd.c ****         /* DMA轮询传输 */
1401:User/lcd/bsp_lcd.c ****         HAL_DMA2D_PollForTransfer(&Dma2d_Handler, 10);
1402:User/lcd/bsp_lcd.c ****       }
1403:User/lcd/bsp_lcd.c ****     }
1404:User/lcd/bsp_lcd.c ****   }
1405:User/lcd/bsp_lcd.c **** }
 717              		.loc 1 1405 0
 718 003e 03B0     		add	sp, sp, #12
 719              	.LCFI5:
 720              		.cfi_remember_state
 721              		.cfi_def_cfa_offset 20
 722              		@ sp needed
 723 0040 F0BD     		pop	{r4, r5, r6, r7, pc}
 724              	.LVL35:
 725              	.L16:
 726              	.LCFI6:
 727              		.cfi_restore_state
1371:User/lcd/bsp_lcd.c ****   }
 728              		.loc 1 1371 0
 729 0042 0222     		movs	r2, #2
 730 0044 144B     		ldr	r3, .L20
 731 0046 9A60     		str	r2, [r3, #8]
 732 0048 F1E7     		b	.L10
 733              	.L11:
1377:User/lcd/bsp_lcd.c ****   {
 734              		.loc 1 1377 0
 735 004a 012B     		cmp	r3, #1
 736 004c 07D0     		beq	.L18
1381:User/lcd/bsp_lcd.c ****   {
 737              		.loc 1 1381 0
 738 004e 032B     		cmp	r3, #3
 739 0050 09D0     		beq	.L19
1385:User/lcd/bsp_lcd.c ****   {
 740              		.loc 1 1385 0
 741 0052 042B     		cmp	r3, #4
 742 0054 EBD1     		bne	.L10
1387:User/lcd/bsp_lcd.c ****   }
 743              		.loc 1 1387 0
 744 0056 0422     		movs	r2, #4
 745 0058 0F4B     		ldr	r3, .L20
 746 005a 9A60     		str	r2, [r3, #8]
 747 005c E7E7     		b	.L10
 748              	.L18:
1379:User/lcd/bsp_lcd.c ****   }
 749              		.loc 1 1379 0
 750 005e 0122     		movs	r2, #1
 751 0060 0D4B     		ldr	r3, .L20
 752 0062 9A60     		str	r2, [r3, #8]
 753 0064 E3E7     		b	.L10
 754              	.L19:
1383:User/lcd/bsp_lcd.c ****   }
 755              		.loc 1 1383 0
 756 0066 0322     		movs	r2, #3
 757 0068 0B4B     		ldr	r3, .L20
ARM GAS  /tmp/ccYQ2vhW.s 			page 39


 758 006a 9A60     		str	r2, [r3, #8]
 759 006c DFE7     		b	.L10
 760              	.LVL36:
 761              	.L17:
1396:User/lcd/bsp_lcd.c ****     {
 762              		.loc 1 1396 0
 763 006e 2146     		mov	r1, r4
 764 0070 0948     		ldr	r0, .L20
 765 0072 FFF7FEFF 		bl	HAL_DMA2D_ConfigLayer
 766              	.LVL37:
 767 0076 0028     		cmp	r0, #0
 768 0078 E1D1     		bne	.L8
1398:User/lcd/bsp_lcd.c ****       {
 769              		.loc 1 1398 0
 770 007a 0097     		str	r7, [sp]
 771 007c 3346     		mov	r3, r6
 772 007e 2A46     		mov	r2, r5
 773 0080 0999     		ldr	r1, [sp, #36]
 774 0082 0548     		ldr	r0, .L20
 775 0084 FFF7FEFF 		bl	HAL_DMA2D_Start
 776              	.LVL38:
 777 0088 0028     		cmp	r0, #0
 778 008a D8D1     		bne	.L8
1401:User/lcd/bsp_lcd.c ****       }
 779              		.loc 1 1401 0
 780 008c 0A21     		movs	r1, #10
 781 008e 0248     		ldr	r0, .L20
 782 0090 FFF7FEFF 		bl	HAL_DMA2D_PollForTransfer
 783              	.LVL39:
 784              		.loc 1 1405 0
 785 0094 D3E7     		b	.L8
 786              	.L21:
 787 0096 00BF     		.align	2
 788              	.L20:
 789 0098 00000000 		.word	.LANCHOR0
 790 009c 00000000 		.word	.LANCHOR2
 791 00a0 00000000 		.word	.LANCHOR1
 792 00a4 00100052 		.word	1375735808
 793              		.cfi_endproc
 794              	.LFE185:
 796              		.section	.text.LL_ConvertLineToARGB8888,"ax",%progbits
 797              		.align	1
 798              		.syntax unified
 799              		.thumb
 800              		.thumb_func
 801              		.fpu fpv5-d16
 803              	LL_ConvertLineToARGB8888:
 804              	.LFB186:
1406:User/lcd/bsp_lcd.c **** 
1407:User/lcd/bsp_lcd.c **** /**
1408:User/lcd/bsp_lcd.c ****  * @brief  转换一行为ARGB8888像素格式
1409:User/lcd/bsp_lcd.c ****  * @param  pSrc: 指向源缓冲区的指针
1410:User/lcd/bsp_lcd.c ****  * @param  pDst: 输出颜色
1411:User/lcd/bsp_lcd.c ****  * @param  xSize: 缓冲区宽度
1412:User/lcd/bsp_lcd.c ****  * @param  ColorMode: 输入颜色模式
1413:User/lcd/bsp_lcd.c ****  * @retval 无
1414:User/lcd/bsp_lcd.c ****  */
ARM GAS  /tmp/ccYQ2vhW.s 			page 40


1415:User/lcd/bsp_lcd.c **** static void LL_ConvertLineToARGB8888(void *pSrc, void *pDst, uint32_t xSize, uint32_t ColorMode)
1416:User/lcd/bsp_lcd.c **** {
 805              		.loc 1 1416 0
 806              		.cfi_startproc
 807              		@ args = 0, pretend = 0, frame = 0
 808              		@ frame_needed = 0, uses_anonymous_args = 0
 809              	.LVL40:
 810 0000 70B5     		push	{r4, r5, r6, lr}
 811              	.LCFI7:
 812              		.cfi_def_cfa_offset 16
 813              		.cfi_offset 4, -16
 814              		.cfi_offset 5, -12
 815              		.cfi_offset 6, -8
 816              		.cfi_offset 14, -4
 817 0002 82B0     		sub	sp, sp, #8
 818              	.LCFI8:
 819              		.cfi_def_cfa_offset 24
 820 0004 0446     		mov	r4, r0
 821 0006 0D46     		mov	r5, r1
 822 0008 1646     		mov	r6, r2
1417:User/lcd/bsp_lcd.c ****   /* 配置DMA2D模式,颜色模式和输出偏移 */
1418:User/lcd/bsp_lcd.c ****   Dma2d_Handler.Init.Mode = DMA2D_M2M_PFC;
 823              		.loc 1 1418 0
 824 000a 1448     		ldr	r0, .L26
 825              	.LVL41:
 826 000c 4FF48032 		mov	r2, #65536
 827              	.LVL42:
 828 0010 4260     		str	r2, [r0, #4]
1419:User/lcd/bsp_lcd.c ****   Dma2d_Handler.Init.ColorMode = DMA2D_OUTPUT_ARGB8888;
 829              		.loc 1 1419 0
 830 0012 0022     		movs	r2, #0
 831 0014 8260     		str	r2, [r0, #8]
1420:User/lcd/bsp_lcd.c ****   Dma2d_Handler.Init.OutputOffset = 0;
 832              		.loc 1 1420 0
 833 0016 C260     		str	r2, [r0, #12]
1421:User/lcd/bsp_lcd.c **** 
1422:User/lcd/bsp_lcd.c ****   /* Foreground Configuration */
1423:User/lcd/bsp_lcd.c ****   Dma2d_Handler.LayerCfg[1].AlphaMode = DMA2D_NO_MODIF_ALPHA;
 834              		.loc 1 1423 0
 835 0018 4264     		str	r2, [r0, #68]
1424:User/lcd/bsp_lcd.c ****   Dma2d_Handler.LayerCfg[1].InputAlpha = 0xFF;
 836              		.loc 1 1424 0
 837 001a FF21     		movs	r1, #255
 838              	.LVL43:
 839 001c 8164     		str	r1, [r0, #72]
1425:User/lcd/bsp_lcd.c ****   Dma2d_Handler.LayerCfg[1].InputColorMode = ColorMode;
 840              		.loc 1 1425 0
 841 001e 0364     		str	r3, [r0, #64]
1426:User/lcd/bsp_lcd.c ****   Dma2d_Handler.LayerCfg[1].InputOffset = 0;
 842              		.loc 1 1426 0
 843 0020 C263     		str	r2, [r0, #60]
1427:User/lcd/bsp_lcd.c **** 
1428:User/lcd/bsp_lcd.c ****   Dma2d_Handler.Instance = DMA2D;
 844              		.loc 1 1428 0
 845 0022 0F4B     		ldr	r3, .L26+4
 846              	.LVL44:
 847 0024 0360     		str	r3, [r0]
ARM GAS  /tmp/ccYQ2vhW.s 			page 41


1429:User/lcd/bsp_lcd.c **** 
1430:User/lcd/bsp_lcd.c ****   /* DMA2D 初始化 */
1431:User/lcd/bsp_lcd.c ****   if (HAL_DMA2D_Init(&Dma2d_Handler) == HAL_OK)
 848              		.loc 1 1431 0
 849 0026 FFF7FEFF 		bl	HAL_DMA2D_Init
 850              	.LVL45:
 851 002a 08B1     		cbz	r0, .L25
 852              	.L22:
1432:User/lcd/bsp_lcd.c ****   {
1433:User/lcd/bsp_lcd.c ****     if (HAL_DMA2D_ConfigLayer(&Dma2d_Handler, 1) == HAL_OK)
1434:User/lcd/bsp_lcd.c ****     {
1435:User/lcd/bsp_lcd.c ****       if (HAL_DMA2D_Start(&Dma2d_Handler, (uint32_t)pSrc, (uint32_t)pDst, xSize, 1) == HAL_OK)
1436:User/lcd/bsp_lcd.c ****       {
1437:User/lcd/bsp_lcd.c ****         /* DMA轮询传输*/
1438:User/lcd/bsp_lcd.c ****         HAL_DMA2D_PollForTransfer(&Dma2d_Handler, 10);
1439:User/lcd/bsp_lcd.c ****       }
1440:User/lcd/bsp_lcd.c ****     }
1441:User/lcd/bsp_lcd.c ****   }
1442:User/lcd/bsp_lcd.c **** }
 853              		.loc 1 1442 0
 854 002c 02B0     		add	sp, sp, #8
 855              	.LCFI9:
 856              		.cfi_remember_state
 857              		.cfi_def_cfa_offset 16
 858              		@ sp needed
 859 002e 70BD     		pop	{r4, r5, r6, pc}
 860              	.LVL46:
 861              	.L25:
 862              	.LCFI10:
 863              		.cfi_restore_state
1433:User/lcd/bsp_lcd.c ****     {
 864              		.loc 1 1433 0
 865 0030 0121     		movs	r1, #1
 866 0032 0A48     		ldr	r0, .L26
 867 0034 FFF7FEFF 		bl	HAL_DMA2D_ConfigLayer
 868              	.LVL47:
 869 0038 0028     		cmp	r0, #0
 870 003a F7D1     		bne	.L22
1435:User/lcd/bsp_lcd.c ****       {
 871              		.loc 1 1435 0
 872 003c 0123     		movs	r3, #1
 873 003e 0093     		str	r3, [sp]
 874 0040 3346     		mov	r3, r6
 875 0042 2A46     		mov	r2, r5
 876 0044 2146     		mov	r1, r4
 877 0046 0548     		ldr	r0, .L26
 878 0048 FFF7FEFF 		bl	HAL_DMA2D_Start
 879              	.LVL48:
 880 004c 0028     		cmp	r0, #0
 881 004e EDD1     		bne	.L22
1438:User/lcd/bsp_lcd.c ****       }
 882              		.loc 1 1438 0
 883 0050 0A21     		movs	r1, #10
 884 0052 0248     		ldr	r0, .L26
 885 0054 FFF7FEFF 		bl	HAL_DMA2D_PollForTransfer
 886              	.LVL49:
 887              		.loc 1 1442 0
ARM GAS  /tmp/ccYQ2vhW.s 			page 42


 888 0058 E8E7     		b	.L22
 889              	.L27:
 890 005a 00BF     		.align	2
 891              	.L26:
 892 005c 00000000 		.word	.LANCHOR0
 893 0060 00100052 		.word	1375735808
 894              		.cfi_endproc
 895              	.LFE186:
 897              		.section	.text.LCD_ClockConfig,"ax",%progbits
 898              		.align	1
 899              		.global	LCD_ClockConfig
 900              		.syntax unified
 901              		.thumb
 902              		.thumb_func
 903              		.fpu fpv5-d16
 905              	LCD_ClockConfig:
 906              	.LFB143:
 228:User/lcd/bsp_lcd.c ****   static RCC_PeriphCLKInitTypeDef periph_clk_init_struct;
 907              		.loc 1 228 0
 908              		.cfi_startproc
 909              		@ args = 0, pretend = 0, frame = 0
 910              		@ frame_needed = 0, uses_anonymous_args = 0
 911 0000 08B5     		push	{r3, lr}
 912              	.LCFI11:
 913              		.cfi_def_cfa_offset 8
 914              		.cfi_offset 3, -8
 915              		.cfi_offset 14, -4
 238:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PLL3.PLL3M = 25;
 916              		.loc 1 238 0
 917 0002 0848     		ldr	r0, .L30
 918 0004 4FF00053 		mov	r3, #536870912
 919 0008 0360     		str	r3, [r0]
 239:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PLL3.PLL3N = 270;
 920              		.loc 1 239 0
 921 000a 1923     		movs	r3, #25
 922 000c 4362     		str	r3, [r0, #36]
 240:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PLL3.PLL3P = 2;
 923              		.loc 1 240 0
 924 000e 4FF48773 		mov	r3, #270
 925 0012 8362     		str	r3, [r0, #40]
 241:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PLL3.PLL3Q = 2;
 926              		.loc 1 241 0
 927 0014 0223     		movs	r3, #2
 928 0016 C362     		str	r3, [r0, #44]
 242:User/lcd/bsp_lcd.c ****   periph_clk_init_struct.PLL3.PLL3R = 10;
 929              		.loc 1 242 0
 930 0018 0363     		str	r3, [r0, #48]
 243:User/lcd/bsp_lcd.c ****   HAL_RCCEx_PeriphCLKConfig(&periph_clk_init_struct);
 931              		.loc 1 243 0
 932 001a 0A23     		movs	r3, #10
 933 001c 4363     		str	r3, [r0, #52]
 244:User/lcd/bsp_lcd.c **** }
 934              		.loc 1 244 0
 935 001e FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 936              	.LVL50:
 937 0022 08BD     		pop	{r3, pc}
 938              	.L31:
ARM GAS  /tmp/ccYQ2vhW.s 			page 43


 939              		.align	2
 940              	.L30:
 941 0024 00000000 		.word	.LANCHOR3
 942              		.cfi_endproc
 943              	.LFE143:
 945              		.section	.text.LCD_GetXSize,"ax",%progbits
 946              		.align	1
 947              		.global	LCD_GetXSize
 948              		.syntax unified
 949              		.thumb
 950              		.thumb_func
 951              		.fpu fpv5-d16
 953              	LCD_GetXSize:
 954              	.LFB145:
 302:User/lcd/bsp_lcd.c **** 
 955              		.loc 1 302 0
 956              		.cfi_startproc
 957              		@ args = 0, pretend = 0, frame = 0
 958              		@ frame_needed = 0, uses_anonymous_args = 0
 959              		@ link register save eliminated.
 302:User/lcd/bsp_lcd.c **** 
 960              		.loc 1 302 0
 961 0000 034B     		ldr	r3, .L33
 962 0002 1B68     		ldr	r3, [r3]
 963 0004 3421     		movs	r1, #52
 964 0006 034A     		ldr	r2, .L33+4
 965 0008 01FB0323 		mla	r3, r1, r3, r2
 966 000c 186E     		ldr	r0, [r3, #96]
 967 000e 7047     		bx	lr
 968              	.L34:
 969              		.align	2
 970              	.L33:
 971 0010 00000000 		.word	.LANCHOR2
 972 0014 00000000 		.word	.LANCHOR1
 973              		.cfi_endproc
 974              	.LFE145:
 976              		.section	.text.LCD_GetYSize,"ax",%progbits
 977              		.align	1
 978              		.global	LCD_GetYSize
 979              		.syntax unified
 980              		.thumb
 981              		.thumb_func
 982              		.fpu fpv5-d16
 984              	LCD_GetYSize:
 985              	.LFB146:
 308:User/lcd/bsp_lcd.c **** 
 986              		.loc 1 308 0
 987              		.cfi_startproc
 988              		@ args = 0, pretend = 0, frame = 0
 989              		@ frame_needed = 0, uses_anonymous_args = 0
 990              		@ link register save eliminated.
 308:User/lcd/bsp_lcd.c **** 
 991              		.loc 1 308 0
 992 0000 034B     		ldr	r3, .L36
 993 0002 1B68     		ldr	r3, [r3]
 994 0004 3421     		movs	r1, #52
 995 0006 034A     		ldr	r2, .L36+4
ARM GAS  /tmp/ccYQ2vhW.s 			page 44


 996 0008 01FB0323 		mla	r3, r1, r3, r2
 997 000c 586E     		ldr	r0, [r3, #100]
 998 000e 7047     		bx	lr
 999              	.L37:
 1000              		.align	2
 1001              	.L36:
 1002 0010 00000000 		.word	.LANCHOR2
 1003 0014 00000000 		.word	.LANCHOR1
 1004              		.cfi_endproc
 1005              	.LFE146:
 1007              		.section	.text.LCD_SetXSize,"ax",%progbits
 1008              		.align	1
 1009              		.global	LCD_SetXSize
 1010              		.syntax unified
 1011              		.thumb
 1012              		.thumb_func
 1013              		.fpu fpv5-d16
 1015              	LCD_SetXSize:
 1016              	.LFB147:
 315:User/lcd/bsp_lcd.c **** 
 1017              		.loc 1 315 0
 1018              		.cfi_startproc
 1019              		@ args = 0, pretend = 0, frame = 0
 1020              		@ frame_needed = 0, uses_anonymous_args = 0
 1021              		@ link register save eliminated.
 1022              	.LVL51:
 315:User/lcd/bsp_lcd.c **** 
 1023              		.loc 1 315 0
 1024 0000 034B     		ldr	r3, .L39
 1025 0002 1B68     		ldr	r3, [r3]
 1026 0004 3421     		movs	r1, #52
 1027 0006 034A     		ldr	r2, .L39+4
 1028 0008 01FB0323 		mla	r3, r1, r3, r2
 1029 000c 1866     		str	r0, [r3, #96]
 1030 000e 7047     		bx	lr
 1031              	.L40:
 1032              		.align	2
 1033              	.L39:
 1034 0010 00000000 		.word	.LANCHOR2
 1035 0014 00000000 		.word	.LANCHOR1
 1036              		.cfi_endproc
 1037              	.LFE147:
 1039              		.section	.text.LCD_SetYSize,"ax",%progbits
 1040              		.align	1
 1041              		.global	LCD_SetYSize
 1042              		.syntax unified
 1043              		.thumb
 1044              		.thumb_func
 1045              		.fpu fpv5-d16
 1047              	LCD_SetYSize:
 1048              	.LFB148:
 322:User/lcd/bsp_lcd.c **** 
 1049              		.loc 1 322 0
 1050              		.cfi_startproc
 1051              		@ args = 0, pretend = 0, frame = 0
 1052              		@ frame_needed = 0, uses_anonymous_args = 0
 1053              		@ link register save eliminated.
ARM GAS  /tmp/ccYQ2vhW.s 			page 45


 1054              	.LVL52:
 322:User/lcd/bsp_lcd.c **** 
 1055              		.loc 1 322 0
 1056 0000 034B     		ldr	r3, .L42
 1057 0002 1B68     		ldr	r3, [r3]
 1058 0004 3421     		movs	r1, #52
 1059 0006 034A     		ldr	r2, .L42+4
 1060 0008 01FB0323 		mla	r3, r1, r3, r2
 1061 000c 5866     		str	r0, [r3, #100]
 1062 000e 7047     		bx	lr
 1063              	.L43:
 1064              		.align	2
 1065              	.L42:
 1066 0010 00000000 		.word	.LANCHOR2
 1067 0014 00000000 		.word	.LANCHOR1
 1068              		.cfi_endproc
 1069              	.LFE148:
 1071              		.section	.text.LCD_LayerInit,"ax",%progbits
 1072              		.align	1
 1073              		.global	LCD_LayerInit
 1074              		.syntax unified
 1075              		.thumb
 1076              		.thumb_func
 1077              		.fpu fpv5-d16
 1079              	LCD_LayerInit:
 1080              	.LFB149:
 332:User/lcd/bsp_lcd.c ****   LTDC_LayerCfgTypeDef layer_cfg;
 1081              		.loc 1 332 0
 1082              		.cfi_startproc
 1083              		@ args = 0, pretend = 0, frame = 56
 1084              		@ frame_needed = 0, uses_anonymous_args = 0
 1085              	.LVL53:
 1086 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1087              	.LCFI12:
 1088              		.cfi_def_cfa_offset 20
 1089              		.cfi_offset 4, -20
 1090              		.cfi_offset 5, -16
 1091              		.cfi_offset 6, -12
 1092              		.cfi_offset 7, -8
 1093              		.cfi_offset 14, -4
 1094 0002 8FB0     		sub	sp, sp, #60
 1095              	.LCFI13:
 1096              		.cfi_def_cfa_offset 80
 1097 0004 0546     		mov	r5, r0
 1098 0006 0E46     		mov	r6, r1
 1099 0008 1746     		mov	r7, r2
 336:User/lcd/bsp_lcd.c ****   layer_cfg.WindowX1 = LCD_GetXSize();  //窗口结束位置X坐标
 1100              		.loc 1 336 0
 1101 000a 0024     		movs	r4, #0
 1102 000c 0194     		str	r4, [sp, #4]
 337:User/lcd/bsp_lcd.c ****   layer_cfg.WindowY0 = 0;               //窗口起始位置Y坐标
 1103              		.loc 1 337 0
 1104 000e FFF7FEFF 		bl	LCD_GetXSize
 1105              	.LVL54:
 1106 0012 0290     		str	r0, [sp, #8]
 338:User/lcd/bsp_lcd.c ****   layer_cfg.WindowY1 = LCD_GetYSize();  //窗口结束位置Y坐标
 1107              		.loc 1 338 0
ARM GAS  /tmp/ccYQ2vhW.s 			page 46


 1108 0014 0394     		str	r4, [sp, #12]
 339:User/lcd/bsp_lcd.c ****   layer_cfg.PixelFormat = PixelFormat;  //像素格式
 1109              		.loc 1 339 0
 1110 0016 FFF7FEFF 		bl	LCD_GetYSize
 1111              	.LVL55:
 1112 001a 0490     		str	r0, [sp, #16]
 340:User/lcd/bsp_lcd.c ****   layer_cfg.FBStartAdress = FB_Address; //层显存首地址
 1113              		.loc 1 340 0
 1114 001c 0597     		str	r7, [sp, #20]
 341:User/lcd/bsp_lcd.c ****   layer_cfg.Alpha = 255;                //用于混合的透明度常量，范围（0―255）0为完全透明
 1115              		.loc 1 341 0
 1116 001e 0A96     		str	r6, [sp, #40]
 342:User/lcd/bsp_lcd.c ****   layer_cfg.Alpha0 = 0;                 //默认透明度常量，范围（0―255）0为完全透明
 1117              		.loc 1 342 0
 1118 0020 FF23     		movs	r3, #255
 1119 0022 0693     		str	r3, [sp, #24]
 343:User/lcd/bsp_lcd.c ****   layer_cfg.Backcolor.Blue = 0;         //层背景颜色蓝色分量
 1120              		.loc 1 343 0
 1121 0024 0794     		str	r4, [sp, #28]
 344:User/lcd/bsp_lcd.c ****   layer_cfg.Backcolor.Green = 0;        //层背景颜色绿色分量
 1122              		.loc 1 344 0
 1123 0026 8DF83440 		strb	r4, [sp, #52]
 345:User/lcd/bsp_lcd.c ****   layer_cfg.Backcolor.Red = 0;          //层背景颜色红色分量
 1124              		.loc 1 345 0
 1125 002a 8DF83540 		strb	r4, [sp, #53]
 346:User/lcd/bsp_lcd.c ****   layer_cfg.BlendingFactor1 = LTDC_BLENDING_FACTOR1_PAxCA; //层混合系数1
 1126              		.loc 1 346 0
 1127 002e 8DF83640 		strb	r4, [sp, #54]
 347:User/lcd/bsp_lcd.c ****   layer_cfg.BlendingFactor2 = LTDC_BLENDING_FACTOR2_PAxCA; //层混合系数2
 1128              		.loc 1 347 0
 1129 0032 4FF4C063 		mov	r3, #1536
 1130 0036 0893     		str	r3, [sp, #32]
 348:User/lcd/bsp_lcd.c ****   layer_cfg.ImageWidth = LCD_GetXSize();                   //设置图像宽度
 1131              		.loc 1 348 0
 1132 0038 0723     		movs	r3, #7
 1133 003a 0993     		str	r3, [sp, #36]
 349:User/lcd/bsp_lcd.c ****   layer_cfg.ImageHeight = LCD_GetYSize();                  //设置图像高度
 1134              		.loc 1 349 0
 1135 003c FFF7FEFF 		bl	LCD_GetXSize
 1136              	.LVL56:
 1137 0040 0B90     		str	r0, [sp, #44]
 350:User/lcd/bsp_lcd.c **** 
 1138              		.loc 1 350 0
 1139 0042 FFF7FEFF 		bl	LCD_GetYSize
 1140              	.LVL57:
 1141 0046 0C90     		str	r0, [sp, #48]
 352:User/lcd/bsp_lcd.c **** 
 1142              		.loc 1 352 0
 1143 0048 0D4C     		ldr	r4, .L46
 1144 004a 2A46     		mov	r2, r5
 1145 004c 01A9     		add	r1, sp, #4
 1146 004e 2046     		mov	r0, r4
 1147 0050 FFF7FEFF 		bl	HAL_LTDC_ConfigLayer
 1148              	.LVL58:
 354:User/lcd/bsp_lcd.c ****   DrawProp[LayerIndex].pFont = &LCD_DEFAULT_FONT;   //设置层的字体类型
 1149              		.loc 1 354 0
 1150 0054 0B4A     		ldr	r2, .L46+4
ARM GAS  /tmp/ccYQ2vhW.s 			page 47


 1151 0056 6800     		lsls	r0, r5, #1
 1152 0058 4119     		adds	r1, r0, r5
 1153 005a 8B00     		lsls	r3, r1, #2
 1154 005c 1344     		add	r3, r3, r2
 1155 005e 4FF0FF31 		mov	r1, #-1
 1156 0062 5960     		str	r1, [r3, #4]
 355:User/lcd/bsp_lcd.c ****   DrawProp[LayerIndex].TextColor = LCD_COLOR_BLACK; //设置层的字体背景颜色
 1157              		.loc 1 355 0
 1158 0064 0849     		ldr	r1, .L46+8
 1159 0066 9960     		str	r1, [r3, #8]
 356:User/lcd/bsp_lcd.c **** 
 1160              		.loc 1 356 0
 1161 0068 2844     		add	r0, r0, r5
 1162 006a 8300     		lsls	r3, r0, #2
 1163 006c 4FF07F41 		mov	r1, #-16777216
 1164 0070 D150     		str	r1, [r2, r3]
 358:User/lcd/bsp_lcd.c **** }
 1165              		.loc 1 358 0
 1166 0072 2268     		ldr	r2, [r4]
 1167 0074 536A     		ldr	r3, [r2, #36]
 1168 0076 43F00103 		orr	r3, r3, #1
 1169 007a 5362     		str	r3, [r2, #36]
 359:User/lcd/bsp_lcd.c **** /**
 1170              		.loc 1 359 0
 1171 007c 0FB0     		add	sp, sp, #60
 1172              	.LCFI14:
 1173              		.cfi_def_cfa_offset 20
 1174              		@ sp needed
 1175 007e F0BD     		pop	{r4, r5, r6, r7, pc}
 1176              	.LVL59:
 1177              	.L47:
 1178              		.align	2
 1179              	.L46:
 1180 0080 00000000 		.word	.LANCHOR1
 1181 0084 00000000 		.word	.LANCHOR4
 1182 0088 00000000 		.word	Font24
 1183              		.cfi_endproc
 1184              	.LFE149:
 1186              		.section	.text.LCD_SelectLayer,"ax",%progbits
 1187              		.align	1
 1188              		.global	LCD_SelectLayer
 1189              		.syntax unified
 1190              		.thumb
 1191              		.thumb_func
 1192              		.fpu fpv5-d16
 1194              	LCD_SelectLayer:
 1195              	.LFB150:
 365:User/lcd/bsp_lcd.c **** 
 1196              		.loc 1 365 0
 1197              		.cfi_startproc
 1198              		@ args = 0, pretend = 0, frame = 0
 1199              		@ frame_needed = 0, uses_anonymous_args = 0
 1200              		@ link register save eliminated.
 1201              	.LVL60:
 365:User/lcd/bsp_lcd.c **** 
 1202              		.loc 1 365 0
 1203 0000 014B     		ldr	r3, .L49
ARM GAS  /tmp/ccYQ2vhW.s 			page 48


 1204 0002 1860     		str	r0, [r3]
 1205 0004 7047     		bx	lr
 1206              	.L50:
 1207 0006 00BF     		.align	2
 1208              	.L49:
 1209 0008 00000000 		.word	.LANCHOR2
 1210              		.cfi_endproc
 1211              	.LFE150:
 1213              		.section	.text.LCD_SetLayerVisible,"ax",%progbits
 1214              		.align	1
 1215              		.global	LCD_SetLayerVisible
 1216              		.syntax unified
 1217              		.thumb
 1218              		.thumb_func
 1219              		.fpu fpv5-d16
 1221              	LCD_SetLayerVisible:
 1222              	.LFB151:
 374:User/lcd/bsp_lcd.c ****   if (State == ENABLE)
 1223              		.loc 1 374 0
 1224              		.cfi_startproc
 1225              		@ args = 0, pretend = 0, frame = 0
 1226              		@ frame_needed = 0, uses_anonymous_args = 0
 1227              		@ link register save eliminated.
 1228              	.LVL61:
 375:User/lcd/bsp_lcd.c ****   {
 1229              		.loc 1 375 0
 1230 0000 0129     		cmp	r1, #1
 1231 0002 10D0     		beq	.L54
 381:User/lcd/bsp_lcd.c ****   }
 1232              		.loc 1 381 0
 1233 0004 0D4B     		ldr	r3, .L55
 1234 0006 1B68     		ldr	r3, [r3]
 1235 0008 03EBC010 		add	r0, r3, r0, lsl #7
 1236              	.LVL62:
 1237 000c D0F88430 		ldr	r3, [r0, #132]
 1238 0010 23F00103 		bic	r3, r3, #1
 1239 0014 C0F88430 		str	r3, [r0, #132]
 1240              	.L53:
 383:User/lcd/bsp_lcd.c **** }
 1241              		.loc 1 383 0
 1242 0018 084B     		ldr	r3, .L55
 1243 001a 1A68     		ldr	r2, [r3]
 1244 001c 536A     		ldr	r3, [r2, #36]
 1245 001e 43F00103 		orr	r3, r3, #1
 1246 0022 5362     		str	r3, [r2, #36]
 1247 0024 7047     		bx	lr
 1248              	.LVL63:
 1249              	.L54:
 377:User/lcd/bsp_lcd.c ****   }
 1250              		.loc 1 377 0
 1251 0026 054B     		ldr	r3, .L55
 1252 0028 1B68     		ldr	r3, [r3]
 1253 002a 03EBC010 		add	r0, r3, r0, lsl #7
 1254              	.LVL64:
 1255 002e D0F88430 		ldr	r3, [r0, #132]
 1256 0032 43F00103 		orr	r3, r3, #1
 1257 0036 C0F88430 		str	r3, [r0, #132]
ARM GAS  /tmp/ccYQ2vhW.s 			page 49


 1258 003a EDE7     		b	.L53
 1259              	.L56:
 1260              		.align	2
 1261              	.L55:
 1262 003c 00000000 		.word	.LANCHOR1
 1263              		.cfi_endproc
 1264              	.LFE151:
 1266              		.section	.text.LCD_SetTransparency,"ax",%progbits
 1267              		.align	1
 1268              		.global	LCD_SetTransparency
 1269              		.syntax unified
 1270              		.thumb
 1271              		.thumb_func
 1272              		.fpu fpv5-d16
 1274              	LCD_SetTransparency:
 1275              	.LFB152:
 393:User/lcd/bsp_lcd.c ****   HAL_LTDC_SetAlpha(&Ltdc_Handler, Transparency, LayerIndex);
 1276              		.loc 1 393 0
 1277              		.cfi_startproc
 1278              		@ args = 0, pretend = 0, frame = 0
 1279              		@ frame_needed = 0, uses_anonymous_args = 0
 1280              	.LVL65:
 1281 0000 08B5     		push	{r3, lr}
 1282              	.LCFI15:
 1283              		.cfi_def_cfa_offset 8
 1284              		.cfi_offset 3, -8
 1285              		.cfi_offset 14, -4
 394:User/lcd/bsp_lcd.c **** }
 1286              		.loc 1 394 0
 1287 0002 0246     		mov	r2, r0
 1288 0004 0148     		ldr	r0, .L59
 1289              	.LVL66:
 1290 0006 FFF7FEFF 		bl	HAL_LTDC_SetAlpha
 1291              	.LVL67:
 1292 000a 08BD     		pop	{r3, pc}
 1293              	.L60:
 1294              		.align	2
 1295              	.L59:
 1296 000c 00000000 		.word	.LANCHOR1
 1297              		.cfi_endproc
 1298              	.LFE152:
 1300              		.section	.text.LCD_SetLayerAddress,"ax",%progbits
 1301              		.align	1
 1302              		.global	LCD_SetLayerAddress
 1303              		.syntax unified
 1304              		.thumb
 1305              		.thumb_func
 1306              		.fpu fpv5-d16
 1308              	LCD_SetLayerAddress:
 1309              	.LFB153:
 404:User/lcd/bsp_lcd.c ****   HAL_LTDC_SetAddress(&Ltdc_Handler, Address, LayerIndex);
 1310              		.loc 1 404 0
 1311              		.cfi_startproc
 1312              		@ args = 0, pretend = 0, frame = 0
 1313              		@ frame_needed = 0, uses_anonymous_args = 0
 1314              	.LVL68:
 1315 0000 08B5     		push	{r3, lr}
ARM GAS  /tmp/ccYQ2vhW.s 			page 50


 1316              	.LCFI16:
 1317              		.cfi_def_cfa_offset 8
 1318              		.cfi_offset 3, -8
 1319              		.cfi_offset 14, -4
 405:User/lcd/bsp_lcd.c **** }
 1320              		.loc 1 405 0
 1321 0002 0246     		mov	r2, r0
 1322 0004 0148     		ldr	r0, .L63
 1323              	.LVL69:
 1324 0006 FFF7FEFF 		bl	HAL_LTDC_SetAddress
 1325              	.LVL70:
 1326 000a 08BD     		pop	{r3, pc}
 1327              	.L64:
 1328              		.align	2
 1329              	.L63:
 1330 000c 00000000 		.word	.LANCHOR1
 1331              		.cfi_endproc
 1332              	.LFE153:
 1334              		.section	.text.LCD_SetLayerWindow,"ax",%progbits
 1335              		.align	1
 1336              		.global	LCD_SetLayerWindow
 1337              		.syntax unified
 1338              		.thumb
 1339              		.thumb_func
 1340              		.fpu fpv5-d16
 1342              	LCD_SetLayerWindow:
 1343              	.LFB154:
 418:User/lcd/bsp_lcd.c ****   /* 重新设置窗口大小 */
 1344              		.loc 1 418 0
 1345              		.cfi_startproc
 1346              		@ args = 4, pretend = 0, frame = 0
 1347              		@ frame_needed = 0, uses_anonymous_args = 0
 1348              	.LVL71:
 1349 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1350              	.LCFI17:
 1351              		.cfi_def_cfa_offset 24
 1352              		.cfi_offset 3, -24
 1353              		.cfi_offset 4, -20
 1354              		.cfi_offset 5, -16
 1355              		.cfi_offset 6, -12
 1356              		.cfi_offset 7, -8
 1357              		.cfi_offset 14, -4
 1358 0002 0546     		mov	r5, r0
 1359 0004 0E46     		mov	r6, r1
 1360 0006 1746     		mov	r7, r2
 1361 0008 1946     		mov	r1, r3
 1362              	.LVL72:
 420:User/lcd/bsp_lcd.c **** 
 1363              		.loc 1 420 0
 1364 000a 074C     		ldr	r4, .L67
 1365 000c 0346     		mov	r3, r0
 1366              	.LVL73:
 1367 000e BDF81820 		ldrh	r2, [sp, #24]
 1368              	.LVL74:
 1369 0012 2046     		mov	r0, r4
 1370              	.LVL75:
 1371 0014 FFF7FEFF 		bl	HAL_LTDC_SetWindowSize
ARM GAS  /tmp/ccYQ2vhW.s 			page 51


 1372              	.LVL76:
 423:User/lcd/bsp_lcd.c **** }
 1373              		.loc 1 423 0
 1374 0018 2B46     		mov	r3, r5
 1375 001a 3A46     		mov	r2, r7
 1376 001c 3146     		mov	r1, r6
 1377 001e 2046     		mov	r0, r4
 1378 0020 FFF7FEFF 		bl	HAL_LTDC_SetWindowPosition
 1379              	.LVL77:
 1380 0024 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1381              	.LVL78:
 1382              	.L68:
 1383 0026 00BF     		.align	2
 1384              	.L67:
 1385 0028 00000000 		.word	.LANCHOR1
 1386              		.cfi_endproc
 1387              	.LFE154:
 1389              		.section	.text.LCD_SetTextColor,"ax",%progbits
 1390              		.align	1
 1391              		.global	LCD_SetTextColor
 1392              		.syntax unified
 1393              		.thumb
 1394              		.thumb_func
 1395              		.fpu fpv5-d16
 1397              	LCD_SetTextColor:
 1398              	.LFB155:
 431:User/lcd/bsp_lcd.c **** 
 1399              		.loc 1 431 0
 1400              		.cfi_startproc
 1401              		@ args = 0, pretend = 0, frame = 0
 1402              		@ frame_needed = 0, uses_anonymous_args = 0
 1403              		@ link register save eliminated.
 1404              	.LVL79:
 431:User/lcd/bsp_lcd.c **** 
 1405              		.loc 1 431 0
 1406 0000 034B     		ldr	r3, .L70
 1407 0002 1B68     		ldr	r3, [r3]
 1408 0004 03EB4303 		add	r3, r3, r3, lsl #1
 1409 0008 9A00     		lsls	r2, r3, #2
 1410 000a 024B     		ldr	r3, .L70+4
 1411 000c 9850     		str	r0, [r3, r2]
 1412 000e 7047     		bx	lr
 1413              	.L71:
 1414              		.align	2
 1415              	.L70:
 1416 0010 00000000 		.word	.LANCHOR2
 1417 0014 00000000 		.word	.LANCHOR4
 1418              		.cfi_endproc
 1419              	.LFE155:
 1421              		.section	.text.LCD_GetTextColor,"ax",%progbits
 1422              		.align	1
 1423              		.global	LCD_GetTextColor
 1424              		.syntax unified
 1425              		.thumb
 1426              		.thumb_func
 1427              		.fpu fpv5-d16
 1429              	LCD_GetTextColor:
ARM GAS  /tmp/ccYQ2vhW.s 			page 52


 1430              	.LFB156:
 437:User/lcd/bsp_lcd.c **** 
 1431              		.loc 1 437 0
 1432              		.cfi_startproc
 1433              		@ args = 0, pretend = 0, frame = 0
 1434              		@ frame_needed = 0, uses_anonymous_args = 0
 1435              		@ link register save eliminated.
 437:User/lcd/bsp_lcd.c **** 
 1436              		.loc 1 437 0
 1437 0000 034B     		ldr	r3, .L73
 1438 0002 1B68     		ldr	r3, [r3]
 1439 0004 03EB4303 		add	r3, r3, r3, lsl #1
 1440 0008 9A00     		lsls	r2, r3, #2
 1441 000a 024B     		ldr	r3, .L73+4
 1442 000c 9858     		ldr	r0, [r3, r2]
 1443 000e 7047     		bx	lr
 1444              	.L74:
 1445              		.align	2
 1446              	.L73:
 1447 0010 00000000 		.word	.LANCHOR2
 1448 0014 00000000 		.word	.LANCHOR4
 1449              		.cfi_endproc
 1450              	.LFE156:
 1452              		.section	.text.LCD_SetBackColor,"ax",%progbits
 1453              		.align	1
 1454              		.global	LCD_SetBackColor
 1455              		.syntax unified
 1456              		.thumb
 1457              		.thumb_func
 1458              		.fpu fpv5-d16
 1460              	LCD_SetBackColor:
 1461              	.LFB157:
 444:User/lcd/bsp_lcd.c **** 
 1462              		.loc 1 444 0
 1463              		.cfi_startproc
 1464              		@ args = 0, pretend = 0, frame = 0
 1465              		@ frame_needed = 0, uses_anonymous_args = 0
 1466              		@ link register save eliminated.
 1467              	.LVL80:
 444:User/lcd/bsp_lcd.c **** 
 1468              		.loc 1 444 0
 1469 0000 044B     		ldr	r3, .L76
 1470 0002 1B68     		ldr	r3, [r3]
 1471 0004 03EB4303 		add	r3, r3, r3, lsl #1
 1472 0008 9A00     		lsls	r2, r3, #2
 1473 000a 034B     		ldr	r3, .L76+4
 1474 000c 1344     		add	r3, r3, r2
 1475 000e 5860     		str	r0, [r3, #4]
 1476 0010 7047     		bx	lr
 1477              	.L77:
 1478 0012 00BF     		.align	2
 1479              	.L76:
 1480 0014 00000000 		.word	.LANCHOR2
 1481 0018 00000000 		.word	.LANCHOR4
 1482              		.cfi_endproc
 1483              	.LFE157:
 1485              		.section	.text.LCD_GetBackColor,"ax",%progbits
ARM GAS  /tmp/ccYQ2vhW.s 			page 53


 1486              		.align	1
 1487              		.global	LCD_GetBackColor
 1488              		.syntax unified
 1489              		.thumb
 1490              		.thumb_func
 1491              		.fpu fpv5-d16
 1493              	LCD_GetBackColor:
 1494              	.LFB158:
 450:User/lcd/bsp_lcd.c **** 
 1495              		.loc 1 450 0
 1496              		.cfi_startproc
 1497              		@ args = 0, pretend = 0, frame = 0
 1498              		@ frame_needed = 0, uses_anonymous_args = 0
 1499              		@ link register save eliminated.
 450:User/lcd/bsp_lcd.c **** 
 1500              		.loc 1 450 0
 1501 0000 044B     		ldr	r3, .L79
 1502 0002 1B68     		ldr	r3, [r3]
 1503 0004 03EB4303 		add	r3, r3, r3, lsl #1
 1504 0008 9A00     		lsls	r2, r3, #2
 1505 000a 034B     		ldr	r3, .L79+4
 1506 000c 1344     		add	r3, r3, r2
 1507 000e 5868     		ldr	r0, [r3, #4]
 1508 0010 7047     		bx	lr
 1509              	.L80:
 1510 0012 00BF     		.align	2
 1511              	.L79:
 1512 0014 00000000 		.word	.LANCHOR2
 1513 0018 00000000 		.word	.LANCHOR4
 1514              		.cfi_endproc
 1515              	.LFE158:
 1517              		.section	.text.LCD_SetColors,"ax",%progbits
 1518              		.align	1
 1519              		.global	LCD_SetColors
 1520              		.syntax unified
 1521              		.thumb
 1522              		.thumb_func
 1523              		.fpu fpv5-d16
 1525              	LCD_SetColors:
 1526              	.LFB159:
 459:User/lcd/bsp_lcd.c ****   LCD_SetTextColor(TextColor);
 1527              		.loc 1 459 0
 1528              		.cfi_startproc
 1529              		@ args = 0, pretend = 0, frame = 0
 1530              		@ frame_needed = 0, uses_anonymous_args = 0
 1531              	.LVL81:
 1532 0000 10B5     		push	{r4, lr}
 1533              	.LCFI18:
 1534              		.cfi_def_cfa_offset 8
 1535              		.cfi_offset 4, -8
 1536              		.cfi_offset 14, -4
 1537 0002 0C46     		mov	r4, r1
 460:User/lcd/bsp_lcd.c ****   LCD_SetBackColor(BackColor);
 1538              		.loc 1 460 0
 1539 0004 FFF7FEFF 		bl	LCD_SetTextColor
 1540              	.LVL82:
 461:User/lcd/bsp_lcd.c **** }
ARM GAS  /tmp/ccYQ2vhW.s 			page 54


 1541              		.loc 1 461 0
 1542 0008 2046     		mov	r0, r4
 1543 000a FFF7FEFF 		bl	LCD_SetBackColor
 1544              	.LVL83:
 1545 000e 10BD     		pop	{r4, pc}
 1546              		.cfi_endproc
 1547              	.LFE159:
 1549              		.section	.text.LCD_SetFont,"ax",%progbits
 1550              		.align	1
 1551              		.global	LCD_SetFont
 1552              		.syntax unified
 1553              		.thumb
 1554              		.thumb_func
 1555              		.fpu fpv5-d16
 1557              	LCD_SetFont:
 1558              	.LFB160:
 468:User/lcd/bsp_lcd.c **** 
 1559              		.loc 1 468 0
 1560              		.cfi_startproc
 1561              		@ args = 0, pretend = 0, frame = 0
 1562              		@ frame_needed = 0, uses_anonymous_args = 0
 1563              		@ link register save eliminated.
 1564              	.LVL84:
 468:User/lcd/bsp_lcd.c **** 
 1565              		.loc 1 468 0
 1566 0000 044B     		ldr	r3, .L84
 1567 0002 1B68     		ldr	r3, [r3]
 1568 0004 03EB4303 		add	r3, r3, r3, lsl #1
 1569 0008 9A00     		lsls	r2, r3, #2
 1570 000a 034B     		ldr	r3, .L84+4
 1571 000c 1344     		add	r3, r3, r2
 1572 000e 9860     		str	r0, [r3, #8]
 1573 0010 7047     		bx	lr
 1574              	.L85:
 1575 0012 00BF     		.align	2
 1576              	.L84:
 1577 0014 00000000 		.word	.LANCHOR2
 1578 0018 00000000 		.word	.LANCHOR4
 1579              		.cfi_endproc
 1580              	.LFE160:
 1582              		.section	.text.LCD_Init,"ax",%progbits
 1583              		.align	1
 1584              		.global	LCD_Init
 1585              		.syntax unified
 1586              		.thumb
 1587              		.thumb_func
 1588              		.fpu fpv5-d16
 1590              	LCD_Init:
 1591              	.LFB144:
 247:User/lcd/bsp_lcd.c ****   /* 使能LTDC时钟 */
 1592              		.loc 1 247 0
 1593              		.cfi_startproc
 1594              		@ args = 0, pretend = 0, frame = 8
 1595              		@ frame_needed = 0, uses_anonymous_args = 0
 1596 0000 00B5     		push	{lr}
 1597              	.LCFI19:
 1598              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccYQ2vhW.s 			page 55


 1599              		.cfi_offset 14, -4
 1600 0002 83B0     		sub	sp, sp, #12
 1601              	.LCFI20:
 1602              		.cfi_def_cfa_offset 16
 1603              	.LBB31:
 249:User/lcd/bsp_lcd.c ****   /* 使能DMA2D时钟 */
 1604              		.loc 1 249 0
 1605 0004 264B     		ldr	r3, .L88
 1606 0006 D3F8E420 		ldr	r2, [r3, #228]
 1607 000a 42F00802 		orr	r2, r2, #8
 1608 000e C3F8E420 		str	r2, [r3, #228]
 1609 0012 D3F8E420 		ldr	r2, [r3, #228]
 1610 0016 02F00802 		and	r2, r2, #8
 1611 001a 0092     		str	r2, [sp]
 1612 001c 009A     		ldr	r2, [sp]
 1613              	.LBE31:
 1614              	.LBB32:
 251:User/lcd/bsp_lcd.c ****   /* 液晶屏时钟配置 */
 1615              		.loc 1 251 0
 1616 001e D3F8D420 		ldr	r2, [r3, #212]
 1617 0022 42F01002 		orr	r2, r2, #16
 1618 0026 C3F8D420 		str	r2, [r3, #212]
 1619 002a D3F8D430 		ldr	r3, [r3, #212]
 1620 002e 03F01003 		and	r3, r3, #16
 1621 0032 0193     		str	r3, [sp, #4]
 1622 0034 019B     		ldr	r3, [sp, #4]
 1623              	.LBE32:
 253:User/lcd/bsp_lcd.c ****   /* 初始化LCD引脚 */
 1624              		.loc 1 253 0
 1625 0036 FFF7FEFF 		bl	LCD_ClockConfig
 1626              	.LVL85:
 255:User/lcd/bsp_lcd.c ****   /* 初始化SDRAM 用作LCD 显存*/
 1627              		.loc 1 255 0
 1628 003a FFF7FEFF 		bl	LCD_GPIO_Config
 1629              	.LVL86:
 257:User/lcd/bsp_lcd.c ****   /* 配置LTDC参数 */
 1630              		.loc 1 257 0
 1631 003e FFF7FEFF 		bl	SDRAM_Init
 1632              	.LVL87:
 259:User/lcd/bsp_lcd.c ****   /* 配置行同步信号宽度(HSW-1) */
 1633              		.loc 1 259 0
 1634 0042 1848     		ldr	r0, .L88+4
 1635 0044 184B     		ldr	r3, .L88+8
 1636 0046 0360     		str	r3, [r0]
 261:User/lcd/bsp_lcd.c ****   /* 配置垂直同步信号宽度(VSW-1) */
 1637              		.loc 1 261 0
 1638 0048 0023     		movs	r3, #0
 1639 004a 4361     		str	r3, [r0, #20]
 263:User/lcd/bsp_lcd.c ****   /* 配置(HSW+HBP-1) */
 1640              		.loc 1 263 0
 1641 004c 8361     		str	r3, [r0, #24]
 265:User/lcd/bsp_lcd.c ****   /* 配置(VSW+VBP-1) */
 1642              		.loc 1 265 0
 1643 004e 2E22     		movs	r2, #46
 1644 0050 C261     		str	r2, [r0, #28]
 267:User/lcd/bsp_lcd.c ****   /* 配置(HSW+HBP+有效像素宽度-1) */
 1645              		.loc 1 267 0
ARM GAS  /tmp/ccYQ2vhW.s 			page 56


 1646 0052 1722     		movs	r2, #23
 1647 0054 0262     		str	r2, [r0, #32]
 269:User/lcd/bsp_lcd.c ****   /* 配置(VSW+VBP+有效像素高度-1) */
 1648              		.loc 1 269 0
 1649 0056 40F24E32 		movw	r2, #846
 1650 005a 4262     		str	r2, [r0, #36]
 271:User/lcd/bsp_lcd.c ****   /* 配置总宽度(HSW+HBP+有效像素宽度+HFP-1) */
 1651              		.loc 1 271 0
 1652 005c 40F2F712 		movw	r2, #503
 1653 0060 8262     		str	r2, [r0, #40]
 273:User/lcd/bsp_lcd.c ****   /* 配置总高度(VSW+VBP+有效像素高度+VFP-1) */
 1654              		.loc 1 273 0
 1655 0062 4FF45672 		mov	r2, #856
 1656 0066 C262     		str	r2, [r0, #44]
 275:User/lcd/bsp_lcd.c **** 
 1657              		.loc 1 275 0
 1658 0068 40F20D22 		movw	r2, #525
 1659 006c 0263     		str	r2, [r0, #48]
 278:User/lcd/bsp_lcd.c ****   Ltdc_Handler.LayerCfg->ImageHeight = LCD_PIXEL_HEIGHT;
 1660              		.loc 1 278 0
 1661 006e 4FF44872 		mov	r2, #800
 1662 0072 0266     		str	r2, [r0, #96]
 279:User/lcd/bsp_lcd.c ****   /* 设置LCD背景层的颜色，默认黑色 */
 1663              		.loc 1 279 0
 1664 0074 4FF4F072 		mov	r2, #480
 1665 0078 4266     		str	r2, [r0, #100]
 281:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.Backcolor.Green = 0;
 1666              		.loc 1 281 0
 1667 007a 80F83630 		strb	r3, [r0, #54]
 282:User/lcd/bsp_lcd.c ****   Ltdc_Handler.Init.Backcolor.Blue = 0;
 1668              		.loc 1 282 0
 1669 007e 80F83530 		strb	r3, [r0, #53]
 283:User/lcd/bsp_lcd.c ****   /* 极性配置 */
 1670              		.loc 1 283 0
 1671 0082 80F83430 		strb	r3, [r0, #52]
 286:User/lcd/bsp_lcd.c ****   /* 初始化场同步极性，低电平有效 */
 1672              		.loc 1 286 0
 1673 0086 4360     		str	r3, [r0, #4]
 288:User/lcd/bsp_lcd.c ****   /* 初始化数据有效极性，低电平有效 */
 1674              		.loc 1 288 0
 1675 0088 8360     		str	r3, [r0, #8]
 290:User/lcd/bsp_lcd.c ****   /* 初始化行像素时钟极性，同输入时钟 */
 1676              		.loc 1 290 0
 1677 008a C360     		str	r3, [r0, #12]
 292:User/lcd/bsp_lcd.c ****   HAL_LTDC_Init(&Ltdc_Handler);
 1678              		.loc 1 292 0
 1679 008c 0361     		str	r3, [r0, #16]
 293:User/lcd/bsp_lcd.c ****   /* 初始化字体 */
 1680              		.loc 1 293 0
 1681 008e FFF7FEFF 		bl	HAL_LTDC_Init
 1682              	.LVL88:
 295:User/lcd/bsp_lcd.c **** }
 1683              		.loc 1 295 0
 1684 0092 0648     		ldr	r0, .L88+12
 1685 0094 FFF7FEFF 		bl	LCD_SetFont
 1686              	.LVL89:
 296:User/lcd/bsp_lcd.c **** 
ARM GAS  /tmp/ccYQ2vhW.s 			page 57


 1687              		.loc 1 296 0
 1688 0098 03B0     		add	sp, sp, #12
 1689              	.LCFI21:
 1690              		.cfi_def_cfa_offset 4
 1691              		@ sp needed
 1692 009a 5DF804FB 		ldr	pc, [sp], #4
 1693              	.L89:
 1694 009e 00BF     		.align	2
 1695              	.L88:
 1696 00a0 00440258 		.word	1476543488
 1697 00a4 00000000 		.word	.LANCHOR1
 1698 00a8 00100050 		.word	1342181376
 1699 00ac 00000000 		.word	Font24
 1700              		.cfi_endproc
 1701              	.LFE144:
 1703              		.section	.text.LCD_GetFont,"ax",%progbits
 1704              		.align	1
 1705              		.global	LCD_GetFont
 1706              		.syntax unified
 1707              		.thumb
 1708              		.thumb_func
 1709              		.fpu fpv5-d16
 1711              	LCD_GetFont:
 1712              	.LFB161:
 474:User/lcd/bsp_lcd.c **** 
 1713              		.loc 1 474 0
 1714              		.cfi_startproc
 1715              		@ args = 0, pretend = 0, frame = 0
 1716              		@ frame_needed = 0, uses_anonymous_args = 0
 1717              		@ link register save eliminated.
 474:User/lcd/bsp_lcd.c **** 
 1718              		.loc 1 474 0
 1719 0000 044B     		ldr	r3, .L91
 1720 0002 1B68     		ldr	r3, [r3]
 1721 0004 03EB4303 		add	r3, r3, r3, lsl #1
 1722 0008 9A00     		lsls	r2, r3, #2
 1723 000a 034B     		ldr	r3, .L91+4
 1724 000c 1344     		add	r3, r3, r2
 1725 000e 9868     		ldr	r0, [r3, #8]
 1726 0010 7047     		bx	lr
 1727              	.L92:
 1728 0012 00BF     		.align	2
 1729              	.L91:
 1730 0014 00000000 		.word	.LANCHOR2
 1731 0018 00000000 		.word	.LANCHOR4
 1732              		.cfi_endproc
 1733              	.LFE161:
 1735              		.section	.text.LCD_ReadPixel,"ax",%progbits
 1736              		.align	1
 1737              		.global	LCD_ReadPixel
 1738              		.syntax unified
 1739              		.thumb
 1740              		.thumb_func
 1741              		.fpu fpv5-d16
 1743              	LCD_ReadPixel:
 1744              	.LFB162:
 483:User/lcd/bsp_lcd.c ****   uint32_t ret = 0;
ARM GAS  /tmp/ccYQ2vhW.s 			page 58


 1745              		.loc 1 483 0
 1746              		.cfi_startproc
 1747              		@ args = 0, pretend = 0, frame = 0
 1748              		@ frame_needed = 0, uses_anonymous_args = 0
 1749              	.LVL90:
 1750 0000 70B5     		push	{r4, r5, r6, lr}
 1751              	.LCFI22:
 1752              		.cfi_def_cfa_offset 16
 1753              		.cfi_offset 4, -16
 1754              		.cfi_offset 5, -12
 1755              		.cfi_offset 6, -8
 1756              		.cfi_offset 14, -4
 1757 0002 0446     		mov	r4, r0
 1758 0004 0D46     		mov	r5, r1
 1759              	.LVL91:
 486:User/lcd/bsp_lcd.c ****   {
 1760              		.loc 1 486 0
 1761 0006 234B     		ldr	r3, .L102
 1762 0008 1A68     		ldr	r2, [r3]
 1763 000a 3423     		movs	r3, #52
 1764 000c 2249     		ldr	r1, .L102+4
 1765              	.LVL92:
 1766 000e 03FB0213 		mla	r3, r3, r2, r1
 1767 0012 9B6C     		ldr	r3, [r3, #72]
 1768 0014 A3B1     		cbz	r3, .L100
 491:User/lcd/bsp_lcd.c ****   {
 1769              		.loc 1 491 0
 1770 0016 012B     		cmp	r3, #1
 1771 0018 1DD0     		beq	.L101
 503:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444) ||
 1772              		.loc 1 503 0
 1773 001a 042B     		cmp	r3, #4
 1774 001c 18BF     		it	ne
 1775 001e 022B     		cmpne	r3, #2
 1776 0020 2BD0     		beq	.L97
 504:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_AL88))
 1777              		.loc 1 504 0
 1778 0022 072B     		cmp	r3, #7
 1779 0024 29D0     		beq	.L97
 513:User/lcd/bsp_lcd.c ****   }
 1780              		.loc 1 513 0
 1781 0026 3421     		movs	r1, #52
 1782 0028 1B4B     		ldr	r3, .L102+4
 1783 002a 01FB0232 		mla	r2, r1, r2, r3
 1784 002e D66D     		ldr	r6, [r2, #92]
 1785 0030 FFF7FEFF 		bl	LCD_GetXSize
 1786              	.LVL93:
 1787 0034 00FB0540 		mla	r0, r0, r5, r4
 1788 0038 16F81000 		ldrb	r0, [r6, r0, lsl #1]	@ zero_extendqisi2
 1789 003c C0B2     		uxtb	r0, r0
 1790              	.LVL94:
 517:User/lcd/bsp_lcd.c **** 
 1791              		.loc 1 517 0
 1792 003e 70BD     		pop	{r4, r5, r6, pc}
 1793              	.LVL95:
 1794              	.L100:
 489:User/lcd/bsp_lcd.c ****   }
ARM GAS  /tmp/ccYQ2vhW.s 			page 59


 1795              		.loc 1 489 0
 1796 0040 3423     		movs	r3, #52
 1797 0042 03FB0212 		mla	r2, r3, r2, r1
 1798 0046 D66D     		ldr	r6, [r2, #92]
 1799 0048 FFF7FEFF 		bl	LCD_GetXSize
 1800              	.LVL96:
 1801 004c 00FB0540 		mla	r0, r0, r5, r4
 1802 0050 56F81000 		ldr	r0, [r6, r0, lsl #1]
 1803              	.LVL97:
 1804 0054 70BD     		pop	{r4, r5, r6, pc}
 1805              	.LVL98:
 1806              	.L101:
 494:User/lcd/bsp_lcd.c ****                              2) &
 1807              		.loc 1 494 0
 1808 0056 3423     		movs	r3, #52
 1809 0058 0F49     		ldr	r1, .L102+4
 1810 005a 03FB0212 		mla	r2, r3, r2, r1
 1811 005e D66D     		ldr	r6, [r2, #92]
 1812 0060 FFF7FEFF 		bl	LCD_GetXSize
 1813              	.LVL99:
 1814 0064 00FB0544 		mla	r4, r0, r5, r4
 1815 0068 04EB4404 		add	r4, r4, r4, lsl #1
 1816 006c 3219     		adds	r2, r6, r4
 1817 006e 9178     		ldrb	r1, [r2, #2]	@ zero_extendqisi2
 1818              	.LVL100:
 497:User/lcd/bsp_lcd.c ****                               1) &
 1819              		.loc 1 497 0
 1820 0070 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 1821              	.LVL101:
 500:User/lcd/bsp_lcd.c ****             0x00FFFFFF);
 1822              		.loc 1 500 0
 1823 0072 305D     		ldrb	r0, [r6, r4]	@ zero_extendqisi2
 1824 0074 0B43     		orrs	r3, r3, r1
 1825              	.LVL102:
 1826 0076 1843     		orrs	r0, r0, r3
 1827              	.LVL103:
 1828 0078 70BD     		pop	{r4, r5, r6, pc}
 1829              	.LVL104:
 1830              	.L97:
 508:User/lcd/bsp_lcd.c ****   }
 1831              		.loc 1 508 0
 1832 007a 3423     		movs	r3, #52
 1833 007c 0649     		ldr	r1, .L102+4
 1834 007e 03FB0212 		mla	r2, r3, r2, r1
 1835 0082 D66D     		ldr	r6, [r2, #92]
 1836 0084 FFF7FEFF 		bl	LCD_GetXSize
 1837              	.LVL105:
 1838 0088 00FB0540 		mla	r0, r0, r5, r4
 1839 008c 36F81000 		ldrh	r0, [r6, r0, lsl #1]
 1840 0090 80B2     		uxth	r0, r0
 1841              	.LVL106:
 1842 0092 70BD     		pop	{r4, r5, r6, pc}
 1843              	.L103:
 1844              		.align	2
 1845              	.L102:
 1846 0094 00000000 		.word	.LANCHOR2
 1847 0098 00000000 		.word	.LANCHOR1
ARM GAS  /tmp/ccYQ2vhW.s 			page 60


 1848              		.cfi_endproc
 1849              	.LFE162:
 1851              		.section	.text.LCD_Clear,"ax",%progbits
 1852              		.align	1
 1853              		.global	LCD_Clear
 1854              		.syntax unified
 1855              		.thumb
 1856              		.thumb_func
 1857              		.fpu fpv5-d16
 1859              	LCD_Clear:
 1860              	.LFB163:
 525:User/lcd/bsp_lcd.c ****   /* 清屏 */
 1861              		.loc 1 525 0
 1862              		.cfi_startproc
 1863              		@ args = 0, pretend = 0, frame = 0
 1864              		@ frame_needed = 0, uses_anonymous_args = 0
 1865              	.LVL107:
 1866 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1867              	.LCFI23:
 1868              		.cfi_def_cfa_offset 20
 1869              		.cfi_offset 4, -20
 1870              		.cfi_offset 5, -16
 1871              		.cfi_offset 6, -12
 1872              		.cfi_offset 7, -8
 1873              		.cfi_offset 14, -4
 1874 0002 83B0     		sub	sp, sp, #12
 1875              	.LCFI24:
 1876              		.cfi_def_cfa_offset 32
 1877 0004 0746     		mov	r7, r0
 527:User/lcd/bsp_lcd.c ****                 LCD_GetYSize(), 0, Color);
 1878              		.loc 1 527 0
 1879 0006 0B4B     		ldr	r3, .L106
 1880 0008 1C68     		ldr	r4, [r3]
 1881 000a 3423     		movs	r3, #52
 1882 000c 0A4A     		ldr	r2, .L106+4
 1883 000e 03FB0423 		mla	r3, r3, r4, r2
 1884 0012 DD6D     		ldr	r5, [r3, #92]
 1885 0014 FFF7FEFF 		bl	LCD_GetXSize
 1886              	.LVL108:
 1887 0018 0646     		mov	r6, r0
 1888 001a FFF7FEFF 		bl	LCD_GetYSize
 1889              	.LVL109:
 1890 001e 0197     		str	r7, [sp, #4]
 1891 0020 0023     		movs	r3, #0
 1892 0022 0093     		str	r3, [sp]
 1893 0024 0346     		mov	r3, r0
 1894 0026 3246     		mov	r2, r6
 1895 0028 2946     		mov	r1, r5
 1896 002a 2046     		mov	r0, r4
 1897 002c FFF7FEFF 		bl	LL_FillBuffer
 1898              	.LVL110:
 529:User/lcd/bsp_lcd.c **** 
 1899              		.loc 1 529 0
 1900 0030 03B0     		add	sp, sp, #12
 1901              	.LCFI25:
 1902              		.cfi_def_cfa_offset 20
 1903              		@ sp needed
ARM GAS  /tmp/ccYQ2vhW.s 			page 61


 1904 0032 F0BD     		pop	{r4, r5, r6, r7, pc}
 1905              	.LVL111:
 1906              	.L107:
 1907              		.align	2
 1908              	.L106:
 1909 0034 00000000 		.word	.LANCHOR2
 1910 0038 00000000 		.word	.LANCHOR1
 1911              		.cfi_endproc
 1912              	.LFE163:
 1914              		.section	.text.LCD_DrawHLine,"ax",%progbits
 1915              		.align	1
 1916              		.global	LCD_DrawHLine
 1917              		.syntax unified
 1918              		.thumb
 1919              		.thumb_func
 1920              		.fpu fpv5-d16
 1922              	LCD_DrawHLine:
 1923              	.LFB168:
 644:User/lcd/bsp_lcd.c ****   uint32_t Xaddress = 0;
 1924              		.loc 1 644 0
 1925              		.cfi_startproc
 1926              		@ args = 0, pretend = 0, frame = 0
 1927              		@ frame_needed = 0, uses_anonymous_args = 0
 1928              	.LVL112:
 1929 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1930              	.LCFI26:
 1931              		.cfi_def_cfa_offset 24
 1932              		.cfi_offset 4, -24
 1933              		.cfi_offset 5, -20
 1934              		.cfi_offset 6, -16
 1935              		.cfi_offset 7, -12
 1936              		.cfi_offset 8, -8
 1937              		.cfi_offset 14, -4
 1938 0004 82B0     		sub	sp, sp, #8
 1939              	.LCFI27:
 1940              		.cfi_def_cfa_offset 32
 1941 0006 0646     		mov	r6, r0
 1942 0008 8846     		mov	r8, r1
 1943 000a 1746     		mov	r7, r2
 1944              	.LVL113:
 647:User/lcd/bsp_lcd.c ****   {
 1945              		.loc 1 647 0
 1946 000c 274B     		ldr	r3, .L117
 1947 000e 1C68     		ldr	r4, [r3]
 1948 0010 3423     		movs	r3, #52
 1949 0012 274A     		ldr	r2, .L117+4
 1950              	.LVL114:
 1951 0014 03FB0423 		mla	r3, r3, r4, r2
 1952 0018 9B6C     		ldr	r3, [r3, #72]
 1953 001a 9BB1     		cbz	r3, .L115
 651:User/lcd/bsp_lcd.c ****   {
 1954              		.loc 1 651 0
 1955 001c 012B     		cmp	r3, #1
 1956 001e 2BD0     		beq	.L116
 655:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444) ||
 1957              		.loc 1 655 0
 1958 0020 042B     		cmp	r3, #4
ARM GAS  /tmp/ccYQ2vhW.s 			page 62


 1959 0022 18BF     		it	ne
 1960 0024 022B     		cmpne	r3, #2
 1961 0026 34D0     		beq	.L112
 656:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_AL88))
 1962              		.loc 1 656 0
 1963 0028 072B     		cmp	r3, #7
 1964 002a 32D0     		beq	.L112
 663:User/lcd/bsp_lcd.c ****   }
 1965              		.loc 1 663 0
 1966 002c 3423     		movs	r3, #52
 1967 002e 204A     		ldr	r2, .L117+4
 1968 0030 03FB0423 		mla	r3, r3, r4, r2
 1969 0034 DD6D     		ldr	r5, [r3, #92]
 1970 0036 FFF7FEFF 		bl	LCD_GetXSize
 1971              	.LVL115:
 1972 003a 00FB0860 		mla	r0, r0, r8, r6
 1973 003e 05EB4001 		add	r1, r5, r0, lsl #1
 1974              	.LVL116:
 1975 0042 09E0     		b	.L110
 1976              	.LVL117:
 1977              	.L115:
 649:User/lcd/bsp_lcd.c ****   }
 1978              		.loc 1 649 0
 1979 0044 3423     		movs	r3, #52
 1980 0046 03FB0423 		mla	r3, r3, r4, r2
 1981 004a DD6D     		ldr	r5, [r3, #92]
 1982 004c FFF7FEFF 		bl	LCD_GetXSize
 1983              	.LVL118:
 1984 0050 00FB0860 		mla	r0, r0, r8, r6
 1985 0054 05EB8001 		add	r1, r5, r0, lsl #2
 1986              	.LVL119:
 1987              	.L110:
 666:User/lcd/bsp_lcd.c **** }
 1988              		.loc 1 666 0
 1989 0058 04EB4402 		add	r2, r4, r4, lsl #1
 1990 005c 9300     		lsls	r3, r2, #2
 1991 005e 154A     		ldr	r2, .L117+8
 1992 0060 D358     		ldr	r3, [r2, r3]
 1993 0062 0193     		str	r3, [sp, #4]
 1994 0064 0023     		movs	r3, #0
 1995 0066 0093     		str	r3, [sp]
 1996 0068 0123     		movs	r3, #1
 1997 006a 3A46     		mov	r2, r7
 1998 006c 2046     		mov	r0, r4
 1999 006e FFF7FEFF 		bl	LL_FillBuffer
 2000              	.LVL120:
 667:User/lcd/bsp_lcd.c **** 
 2001              		.loc 1 667 0
 2002 0072 02B0     		add	sp, sp, #8
 2003              	.LCFI28:
 2004              		.cfi_remember_state
 2005              		.cfi_def_cfa_offset 24
 2006              		@ sp needed
 2007 0074 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2008              	.LVL121:
 2009              	.L116:
 2010              	.LCFI29:
ARM GAS  /tmp/ccYQ2vhW.s 			page 63


 2011              		.cfi_restore_state
 653:User/lcd/bsp_lcd.c ****   }
 2012              		.loc 1 653 0
 2013 0078 3423     		movs	r3, #52
 2014 007a 0D4A     		ldr	r2, .L117+4
 2015 007c 03FB0423 		mla	r3, r3, r4, r2
 2016 0080 DD6D     		ldr	r5, [r3, #92]
 2017 0082 FFF7FEFF 		bl	LCD_GetXSize
 2018              	.LVL122:
 2019 0086 00FB0860 		mla	r0, r0, r8, r6
 2020 008a 00EB4000 		add	r0, r0, r0, lsl #1
 2021 008e 2918     		adds	r1, r5, r0
 2022              	.LVL123:
 2023 0090 E2E7     		b	.L110
 2024              	.LVL124:
 2025              	.L112:
 659:User/lcd/bsp_lcd.c ****   }
 2026              		.loc 1 659 0
 2027 0092 3423     		movs	r3, #52
 2028 0094 064A     		ldr	r2, .L117+4
 2029 0096 03FB0423 		mla	r3, r3, r4, r2
 2030 009a DD6D     		ldr	r5, [r3, #92]
 2031 009c FFF7FEFF 		bl	LCD_GetXSize
 2032              	.LVL125:
 2033 00a0 00FB0860 		mla	r0, r0, r8, r6
 2034 00a4 05EB4001 		add	r1, r5, r0, lsl #1
 2035              	.LVL126:
 2036 00a8 D6E7     		b	.L110
 2037              	.L118:
 2038 00aa 00BF     		.align	2
 2039              	.L117:
 2040 00ac 00000000 		.word	.LANCHOR2
 2041 00b0 00000000 		.word	.LANCHOR1
 2042 00b4 00000000 		.word	.LANCHOR4
 2043              		.cfi_endproc
 2044              	.LFE168:
 2046              		.section	.text.LCD_DrawVLine,"ax",%progbits
 2047              		.align	1
 2048              		.global	LCD_DrawVLine
 2049              		.syntax unified
 2050              		.thumb
 2051              		.thumb_func
 2052              		.fpu fpv5-d16
 2054              	LCD_DrawVLine:
 2055              	.LFB169:
 677:User/lcd/bsp_lcd.c ****   uint32_t Xaddress = 0;
 2056              		.loc 1 677 0
 2057              		.cfi_startproc
 2058              		@ args = 0, pretend = 0, frame = 0
 2059              		@ frame_needed = 0, uses_anonymous_args = 0
 2060              	.LVL127:
 2061 0000 2DE9D043 		push	{r4, r6, r7, r8, r9, lr}
 2062              	.LCFI30:
 2063              		.cfi_def_cfa_offset 24
 2064              		.cfi_offset 4, -24
 2065              		.cfi_offset 6, -20
 2066              		.cfi_offset 7, -16
ARM GAS  /tmp/ccYQ2vhW.s 			page 64


 2067              		.cfi_offset 8, -12
 2068              		.cfi_offset 9, -8
 2069              		.cfi_offset 14, -4
 2070 0004 82B0     		sub	sp, sp, #8
 2071              	.LCFI31:
 2072              		.cfi_def_cfa_offset 32
 2073 0006 0746     		mov	r7, r0
 2074 0008 8946     		mov	r9, r1
 2075 000a 9046     		mov	r8, r2
 2076              	.LVL128:
 680:User/lcd/bsp_lcd.c ****   {
 2077              		.loc 1 680 0
 2078 000c 284B     		ldr	r3, .L128
 2079 000e 1C68     		ldr	r4, [r3]
 2080 0010 3423     		movs	r3, #52
 2081 0012 284A     		ldr	r2, .L128+4
 2082              	.LVL129:
 2083 0014 03FB0423 		mla	r3, r3, r4, r2
 2084 0018 9B6C     		ldr	r3, [r3, #72]
 2085 001a 9BB1     		cbz	r3, .L126
 684:User/lcd/bsp_lcd.c ****   {
 2086              		.loc 1 684 0
 2087 001c 012B     		cmp	r3, #1
 2088 001e 2ED0     		beq	.L127
 688:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444) ||
 2089              		.loc 1 688 0
 2090 0020 042B     		cmp	r3, #4
 2091 0022 18BF     		it	ne
 2092 0024 022B     		cmpne	r3, #2
 2093 0026 37D0     		beq	.L123
 689:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_AL88))
 2094              		.loc 1 689 0
 2095 0028 072B     		cmp	r3, #7
 2096 002a 35D0     		beq	.L123
 696:User/lcd/bsp_lcd.c ****   }
 2097              		.loc 1 696 0
 2098 002c 3423     		movs	r3, #52
 2099 002e 214A     		ldr	r2, .L128+4
 2100 0030 03FB0423 		mla	r3, r3, r4, r2
 2101 0034 DE6D     		ldr	r6, [r3, #92]
 2102 0036 FFF7FEFF 		bl	LCD_GetXSize
 2103              	.LVL130:
 2104 003a 00FB0970 		mla	r0, r0, r9, r7
 2105 003e 06EB4006 		add	r6, r6, r0, lsl #1
 2106              	.LVL131:
 2107 0042 09E0     		b	.L121
 2108              	.LVL132:
 2109              	.L126:
 682:User/lcd/bsp_lcd.c ****   }
 2110              		.loc 1 682 0
 2111 0044 3423     		movs	r3, #52
 2112 0046 03FB0423 		mla	r3, r3, r4, r2
 2113 004a DE6D     		ldr	r6, [r3, #92]
 2114 004c FFF7FEFF 		bl	LCD_GetXSize
 2115              	.LVL133:
 2116 0050 00FB0970 		mla	r0, r0, r9, r7
 2117 0054 06EB8006 		add	r6, r6, r0, lsl #2
ARM GAS  /tmp/ccYQ2vhW.s 			page 65


 2118              	.LVL134:
 2119              	.L121:
 700:User/lcd/bsp_lcd.c **** }
 2120              		.loc 1 700 0
 2121 0058 FFF7FEFF 		bl	LCD_GetXSize
 2122              	.LVL135:
 2123 005c 04EB4402 		add	r2, r4, r4, lsl #1
 2124 0060 9300     		lsls	r3, r2, #2
 2125 0062 154A     		ldr	r2, .L128+8
 2126 0064 D358     		ldr	r3, [r2, r3]
 2127 0066 0193     		str	r3, [sp, #4]
 2128 0068 0138     		subs	r0, r0, #1
 2129 006a 0090     		str	r0, [sp]
 2130 006c 4346     		mov	r3, r8
 2131 006e 0122     		movs	r2, #1
 2132 0070 3146     		mov	r1, r6
 2133 0072 2046     		mov	r0, r4
 2134 0074 FFF7FEFF 		bl	LL_FillBuffer
 2135              	.LVL136:
 701:User/lcd/bsp_lcd.c **** 
 2136              		.loc 1 701 0
 2137 0078 02B0     		add	sp, sp, #8
 2138              	.LCFI32:
 2139              		.cfi_remember_state
 2140              		.cfi_def_cfa_offset 24
 2141              		@ sp needed
 2142 007a BDE8D083 		pop	{r4, r6, r7, r8, r9, pc}
 2143              	.LVL137:
 2144              	.L127:
 2145              	.LCFI33:
 2146              		.cfi_restore_state
 686:User/lcd/bsp_lcd.c ****   }
 2147              		.loc 1 686 0
 2148 007e 3423     		movs	r3, #52
 2149 0080 0C4A     		ldr	r2, .L128+4
 2150 0082 03FB0423 		mla	r3, r3, r4, r2
 2151 0086 DE6D     		ldr	r6, [r3, #92]
 2152 0088 FFF7FEFF 		bl	LCD_GetXSize
 2153              	.LVL138:
 2154 008c 00FB0970 		mla	r0, r0, r9, r7
 2155 0090 00EB4000 		add	r0, r0, r0, lsl #1
 2156 0094 0644     		add	r6, r6, r0
 2157              	.LVL139:
 2158 0096 DFE7     		b	.L121
 2159              	.LVL140:
 2160              	.L123:
 692:User/lcd/bsp_lcd.c ****   }
 2161              		.loc 1 692 0
 2162 0098 3423     		movs	r3, #52
 2163 009a 064A     		ldr	r2, .L128+4
 2164 009c 03FB0423 		mla	r3, r3, r4, r2
 2165 00a0 DE6D     		ldr	r6, [r3, #92]
 2166 00a2 FFF7FEFF 		bl	LCD_GetXSize
 2167              	.LVL141:
 2168 00a6 00FB0970 		mla	r0, r0, r9, r7
 2169 00aa 06EB4006 		add	r6, r6, r0, lsl #1
 2170              	.LVL142:
ARM GAS  /tmp/ccYQ2vhW.s 			page 66


 2171 00ae D3E7     		b	.L121
 2172              	.L129:
 2173              		.align	2
 2174              	.L128:
 2175 00b0 00000000 		.word	.LANCHOR2
 2176 00b4 00000000 		.word	.LANCHOR1
 2177 00b8 00000000 		.word	.LANCHOR4
 2178              		.cfi_endproc
 2179              	.LFE169:
 2181              		.section	.text.LCD_DrawRect,"ax",%progbits
 2182              		.align	1
 2183              		.global	LCD_DrawRect
 2184              		.syntax unified
 2185              		.thumb
 2186              		.thumb_func
 2187              		.fpu fpv5-d16
 2189              	LCD_DrawRect:
 2190              	.LFB171:
 786:User/lcd/bsp_lcd.c ****   /* 绘制水平线 */
 2191              		.loc 1 786 0
 2192              		.cfi_startproc
 2193              		@ args = 0, pretend = 0, frame = 0
 2194              		@ frame_needed = 0, uses_anonymous_args = 0
 2195              	.LVL143:
 2196 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2197              	.LCFI34:
 2198              		.cfi_def_cfa_offset 24
 2199              		.cfi_offset 3, -24
 2200              		.cfi_offset 4, -20
 2201              		.cfi_offset 5, -16
 2202              		.cfi_offset 6, -12
 2203              		.cfi_offset 7, -8
 2204              		.cfi_offset 14, -4
 2205 0002 0446     		mov	r4, r0
 2206 0004 0D46     		mov	r5, r1
 2207 0006 1746     		mov	r7, r2
 2208 0008 1E46     		mov	r6, r3
 788:User/lcd/bsp_lcd.c ****   LCD_DrawHLine(Xpos, (Ypos + Height), Width);
 2209              		.loc 1 788 0
 2210 000a FFF7FEFF 		bl	LCD_DrawHLine
 2211              	.LVL144:
 789:User/lcd/bsp_lcd.c **** 
 2212              		.loc 1 789 0
 2213 000e A919     		adds	r1, r5, r6
 2214 0010 3A46     		mov	r2, r7
 2215 0012 89B2     		uxth	r1, r1
 2216 0014 2046     		mov	r0, r4
 2217 0016 FFF7FEFF 		bl	LCD_DrawHLine
 2218              	.LVL145:
 792:User/lcd/bsp_lcd.c ****   LCD_DrawVLine((Xpos + Width), Ypos, Height);
 2219              		.loc 1 792 0
 2220 001a 3246     		mov	r2, r6
 2221 001c 2946     		mov	r1, r5
 2222 001e 2046     		mov	r0, r4
 2223 0020 FFF7FEFF 		bl	LCD_DrawVLine
 2224              	.LVL146:
 793:User/lcd/bsp_lcd.c **** }
ARM GAS  /tmp/ccYQ2vhW.s 			page 67


 2225              		.loc 1 793 0
 2226 0024 E019     		adds	r0, r4, r7
 2227 0026 3246     		mov	r2, r6
 2228 0028 2946     		mov	r1, r5
 2229 002a 80B2     		uxth	r0, r0
 2230 002c FFF7FEFF 		bl	LCD_DrawVLine
 2231              	.LVL147:
 2232 0030 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2233              		.cfi_endproc
 2234              	.LFE171:
 2236              		.section	.text.LCD_DrawPixel,"ax",%progbits
 2237              		.align	1
 2238              		.global	LCD_DrawPixel
 2239              		.syntax unified
 2240              		.thumb
 2241              		.thumb_func
 2242              		.fpu fpv5-d16
 2244              	LCD_DrawPixel:
 2245              	.LFB175:
 915:User/lcd/bsp_lcd.c **** 
 2246              		.loc 1 915 0
 2247              		.cfi_startproc
 2248              		@ args = 0, pretend = 0, frame = 0
 2249              		@ frame_needed = 0, uses_anonymous_args = 0
 2250              	.LVL148:
 2251 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2252              	.LCFI35:
 2253              		.cfi_def_cfa_offset 24
 2254              		.cfi_offset 4, -24
 2255              		.cfi_offset 5, -20
 2256              		.cfi_offset 6, -16
 2257              		.cfi_offset 7, -12
 2258              		.cfi_offset 8, -8
 2259              		.cfi_offset 14, -4
 2260 0004 0446     		mov	r4, r0
 2261 0006 0F46     		mov	r7, r1
 2262 0008 1646     		mov	r6, r2
 917:User/lcd/bsp_lcd.c ****   {
 2263              		.loc 1 917 0
 2264 000a 2F4B     		ldr	r3, .L141
 2265 000c 1A68     		ldr	r2, [r3]
 2266              	.LVL149:
 2267 000e 3423     		movs	r3, #52
 2268 0010 2E49     		ldr	r1, .L141+4
 2269              	.LVL150:
 2270 0012 03FB0213 		mla	r3, r3, r2, r1
 2271 0016 9B6C     		ldr	r3, [r3, #72]
 2272 0018 ABB1     		cbz	r3, .L139
 922:User/lcd/bsp_lcd.c ****   {
 2273              		.loc 1 922 0
 2274 001a 012B     		cmp	r3, #1
 2275 001c 1FD0     		beq	.L140
 931:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444) ||
 2276              		.loc 1 931 0
 2277 001e 042B     		cmp	r3, #4
 2278 0020 18BF     		it	ne
 2279 0022 022B     		cmpne	r3, #2
ARM GAS  /tmp/ccYQ2vhW.s 			page 68


 2280 0024 42D0     		beq	.L136
 932:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_AL88))
 2281              		.loc 1 932 0
 2282 0026 072B     		cmp	r3, #7
 2283 0028 40D0     		beq	.L136
 940:User/lcd/bsp_lcd.c ****         (uint16_t)RGB_Code;
 2284              		.loc 1 940 0
 2285 002a 3421     		movs	r1, #52
 2286 002c 274B     		ldr	r3, .L141+4
 2287 002e 01FB0232 		mla	r2, r1, r2, r3
 2288 0032 D56D     		ldr	r5, [r2, #92]
 2289 0034 FFF7FEFF 		bl	LCD_GetXSize
 2290              	.LVL151:
 2291 0038 00FB0740 		mla	r0, r0, r7, r4
 941:User/lcd/bsp_lcd.c ****   }
 2292              		.loc 1 941 0
 2293 003c B6B2     		uxth	r6, r6
 2294              	.LVL152:
 940:User/lcd/bsp_lcd.c ****         (uint16_t)RGB_Code;
 2295              		.loc 1 940 0
 2296 003e 25F81060 		strh	r6, [r5, r0, lsl #1]	@ movhi
 2297 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2298              	.LVL153:
 2299              	.L139:
 919:User/lcd/bsp_lcd.c ****         RGB_Code;
 2300              		.loc 1 919 0
 2301 0046 3423     		movs	r3, #52
 2302 0048 03FB0212 		mla	r2, r3, r2, r1
 2303 004c D56D     		ldr	r5, [r2, #92]
 2304 004e FFF7FEFF 		bl	LCD_GetXSize
 2305              	.LVL154:
 2306 0052 00FB0740 		mla	r0, r0, r7, r4
 2307 0056 45F82060 		str	r6, [r5, r0, lsl #2]
 2308 005a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2309              	.LVL155:
 2310              	.L140:
 924:User/lcd/bsp_lcd.c ****         0xFF & (RGB_Code >> 16);
 2311              		.loc 1 924 0
 2312 005e 3423     		movs	r3, #52
 2313 0060 1A4D     		ldr	r5, .L141+4
 2314 0062 03FB0255 		mla	r5, r3, r2, r5
 2315 0066 D5F85C80 		ldr	r8, [r5, #92]
 2316 006a FFF7FEFF 		bl	LCD_GetXSize
 2317              	.LVL156:
 2318 006e 00FB0740 		mla	r0, r0, r7, r4
 2319 0072 00EB4000 		add	r0, r0, r0, lsl #1
 2320 0076 4044     		add	r0, r0, r8
 2321 0078 C6F30743 		ubfx	r3, r6, #16, #8
 2322 007c 8370     		strb	r3, [r0, #2]
 926:User/lcd/bsp_lcd.c ****         0xFF & (RGB_Code >> 8);
 2323              		.loc 1 926 0
 2324 007e D5F85C80 		ldr	r8, [r5, #92]
 2325 0082 FFF7FEFF 		bl	LCD_GetXSize
 2326              	.LVL157:
 2327 0086 00FB0740 		mla	r0, r0, r7, r4
 2328 008a 00EB4000 		add	r0, r0, r0, lsl #1
 2329 008e 4044     		add	r0, r0, r8
ARM GAS  /tmp/ccYQ2vhW.s 			page 69


 2330 0090 C6F30723 		ubfx	r3, r6, #8, #8
 2331 0094 4370     		strb	r3, [r0, #1]
 928:User/lcd/bsp_lcd.c ****         0xFF & RGB_Code;
 2332              		.loc 1 928 0
 2333 0096 ED6D     		ldr	r5, [r5, #92]
 2334 0098 FFF7FEFF 		bl	LCD_GetXSize
 2335              	.LVL158:
 2336 009c 00FB0740 		mla	r0, r0, r7, r4
 2337 00a0 00EB4000 		add	r0, r0, r0, lsl #1
 2338 00a4 F6B2     		uxtb	r6, r6
 2339              	.LVL159:
 2340 00a6 2E54     		strb	r6, [r5, r0]
 2341 00a8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2342              	.LVL160:
 2343              	.L136:
 935:User/lcd/bsp_lcd.c ****         (uint16_t)RGB_Code;
 2344              		.loc 1 935 0
 2345 00ac 3423     		movs	r3, #52
 2346 00ae 0749     		ldr	r1, .L141+4
 2347 00b0 03FB0212 		mla	r2, r3, r2, r1
 2348 00b4 D56D     		ldr	r5, [r2, #92]
 2349 00b6 FFF7FEFF 		bl	LCD_GetXSize
 2350              	.LVL161:
 2351 00ba 00FB0740 		mla	r0, r0, r7, r4
 936:User/lcd/bsp_lcd.c ****   }
 2352              		.loc 1 936 0
 2353 00be B6B2     		uxth	r6, r6
 2354              	.LVL162:
 935:User/lcd/bsp_lcd.c ****         (uint16_t)RGB_Code;
 2355              		.loc 1 935 0
 2356 00c0 25F81060 		strh	r6, [r5, r0, lsl #1]	@ movhi
 2357 00c4 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2358              	.L142:
 2359              		.align	2
 2360              	.L141:
 2361 00c8 00000000 		.word	.LANCHOR2
 2362 00cc 00000000 		.word	.LANCHOR1
 2363              		.cfi_endproc
 2364              	.LFE175:
 2366              		.section	.text.DrawChar,"ax",%progbits
 2367              		.align	1
 2368              		.syntax unified
 2369              		.thumb
 2370              		.thumb_func
 2371              		.fpu fpv5-d16
 2373              	DrawChar:
 2374              	.LFB183:
1229:User/lcd/bsp_lcd.c ****   uint32_t i = 0, j = 0;
 2375              		.loc 1 1229 0
 2376              		.cfi_startproc
 2377              		@ args = 0, pretend = 0, frame = 8
 2378              		@ frame_needed = 0, uses_anonymous_args = 0
 2379              	.LVL163:
 2380 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2381              	.LCFI36:
 2382              		.cfi_def_cfa_offset 36
 2383              		.cfi_offset 4, -36
ARM GAS  /tmp/ccYQ2vhW.s 			page 70


 2384              		.cfi_offset 5, -32
 2385              		.cfi_offset 6, -28
 2386              		.cfi_offset 7, -24
 2387              		.cfi_offset 8, -20
 2388              		.cfi_offset 9, -16
 2389              		.cfi_offset 10, -12
 2390              		.cfi_offset 11, -8
 2391              		.cfi_offset 14, -4
 2392 0004 83B0     		sub	sp, sp, #12
 2393              	.LCFI37:
 2394              		.cfi_def_cfa_offset 48
 2395 0006 8146     		mov	r9, r0
 2396 0008 0F46     		mov	r7, r1
 2397 000a 0092     		str	r2, [sp]
 2398              	.LVL164:
1236:User/lcd/bsp_lcd.c ****   width = DrawProp[ActiveLayer].pFont->Width;   //获取正在使用字体宽度
 2399              		.loc 1 1236 0
 2400 000c 344B     		ldr	r3, .L159
 2401 000e 1B68     		ldr	r3, [r3]
 2402 0010 03EB4303 		add	r3, r3, r3, lsl #1
 2403 0014 9A00     		lsls	r2, r3, #2
 2404              	.LVL165:
 2405 0016 334B     		ldr	r3, .L159+4
 2406 0018 1344     		add	r3, r3, r2
 2407 001a 9B68     		ldr	r3, [r3, #8]
 2408 001c DA88     		ldrh	r2, [r3, #6]
 2409 001e 0192     		str	r2, [sp, #4]
 2410              	.LVL166:
1237:User/lcd/bsp_lcd.c **** 
 2411              		.loc 1 1237 0
 2412 0020 9D88     		ldrh	r5, [r3, #4]
 2413              	.LVL167:
1239:User/lcd/bsp_lcd.c **** 
 2414              		.loc 1 1239 0
 2415 0022 05F1070B 		add	fp, r5, #7
 2416 0026 4FEAEB0B 		asr	fp, fp, #3
 2417 002a 4FEACB08 		lsl	r8, fp, #3
 2418 002e 5FFA88F8 		uxtb	r8, r8
 2419 0032 EBB2     		uxtb	r3, r5
 2420 0034 A8EB0308 		sub	r8, r8, r3
 2421 0038 5FFA88F8 		uxtb	r8, r8
 2422              	.LVL168:
1241:User/lcd/bsp_lcd.c ****   {
 2423              		.loc 1 1241 0
 2424 003c 4FF0000A 		mov	r10, #0
 2425 0040 34E0     		b	.L145
 2426              	.LVL169:
 2427              	.L147:
1249:User/lcd/bsp_lcd.c ****       break;
 2428              		.loc 1 1249 0
 2429 0042 009A     		ldr	r2, [sp]
 2430              	.LVL170:
 2431 0044 D65C     		ldrb	r6, [r2, r3]	@ zero_extendqisi2
 2432              	.LVL171:
 2433              	.L149:
1262:User/lcd/bsp_lcd.c ****     {
 2434              		.loc 1 1262 0
ARM GAS  /tmp/ccYQ2vhW.s 			page 71


 2435 0046 0024     		movs	r4, #0
 2436 0048 14E0     		b	.L150
 2437              	.LVL172:
 2438              	.L148:
1253:User/lcd/bsp_lcd.c ****       break;
 2439              		.loc 1 1253 0
 2440 004a 0099     		ldr	r1, [sp]
 2441 004c CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
 2442 004e 5678     		ldrb	r6, [r2, #1]	@ zero_extendqisi2
 2443 0050 46EA0326 		orr	r6, r6, r3, lsl #8
 2444              	.LVL173:
1254:User/lcd/bsp_lcd.c **** 
 2445              		.loc 1 1254 0
 2446 0054 F7E7     		b	.L149
 2447              	.LVL174:
 2448              	.L151:
1270:User/lcd/bsp_lcd.c ****       }
 2449              		.loc 1 1270 0
 2450 0056 224B     		ldr	r3, .L159
 2451 0058 1B68     		ldr	r3, [r3]
 2452 005a 03EB4303 		add	r3, r3, r3, lsl #1
 2453 005e 9A00     		lsls	r2, r3, #2
 2454 0060 204B     		ldr	r3, .L159+4
 2455 0062 1344     		add	r3, r3, r2
 2456 0064 09EB0400 		add	r0, r9, r4
 2457 0068 5A68     		ldr	r2, [r3, #4]
 2458 006a 3946     		mov	r1, r7
 2459 006c 80B2     		uxth	r0, r0
 2460 006e FFF7FEFF 		bl	LCD_DrawPixel
 2461              	.LVL175:
 2462              	.L152:
1262:User/lcd/bsp_lcd.c ****     {
 2463              		.loc 1 1262 0 discriminator 2
 2464 0072 0134     		adds	r4, r4, #1
 2465              	.LVL176:
 2466              	.L150:
1262:User/lcd/bsp_lcd.c ****     {
 2467              		.loc 1 1262 0 is_stmt 0 discriminator 1
 2468 0074 AC42     		cmp	r4, r5
 2469 0076 15D2     		bcs	.L157
1264:User/lcd/bsp_lcd.c ****       {
 2470              		.loc 1 1264 0 is_stmt 1
 2471 0078 2B1B     		subs	r3, r5, r4
 2472 007a 4344     		add	r3, r3, r8
 2473 007c 013B     		subs	r3, r3, #1
 2474 007e 0122     		movs	r2, #1
 2475 0080 02FA03F3 		lsl	r3, r2, r3
 2476 0084 1E42     		tst	r6, r3
 2477 0086 E6D0     		beq	.L151
1266:User/lcd/bsp_lcd.c ****       }
 2478              		.loc 1 1266 0
 2479 0088 154B     		ldr	r3, .L159
 2480 008a 1B68     		ldr	r3, [r3]
 2481 008c 03EB4303 		add	r3, r3, r3, lsl #1
 2482 0090 9A00     		lsls	r2, r3, #2
 2483 0092 09EB0400 		add	r0, r9, r4
 2484 0096 134B     		ldr	r3, .L159+4
ARM GAS  /tmp/ccYQ2vhW.s 			page 72


 2485 0098 9A58     		ldr	r2, [r3, r2]
 2486 009a 3946     		mov	r1, r7
 2487 009c 80B2     		uxth	r0, r0
 2488 009e FFF7FEFF 		bl	LCD_DrawPixel
 2489              	.LVL177:
 2490 00a2 E6E7     		b	.L152
 2491              	.L157:
1273:User/lcd/bsp_lcd.c ****   }
 2492              		.loc 1 1273 0 discriminator 2
 2493 00a4 0137     		adds	r7, r7, #1
 2494              	.LVL178:
 2495 00a6 BFB2     		uxth	r7, r7
 2496              	.LVL179:
1241:User/lcd/bsp_lcd.c ****   {
 2497              		.loc 1 1241 0 discriminator 2
 2498 00a8 0AF1010A 		add	r10, r10, #1
 2499              	.LVL180:
 2500              	.L145:
1241:User/lcd/bsp_lcd.c ****   {
 2501              		.loc 1 1241 0 is_stmt 0 discriminator 1
 2502 00ac 019B     		ldr	r3, [sp, #4]
 2503 00ae 9A45     		cmp	r10, r3
 2504 00b0 12D2     		bcs	.L158
1243:User/lcd/bsp_lcd.c **** 
 2505              		.loc 1 1243 0 is_stmt 1
 2506 00b2 0BFB0AF3 		mul	r3, fp, r10
 2507 00b6 009A     		ldr	r2, [sp]
 2508 00b8 1A44     		add	r2, r2, r3
 2509              	.LVL181:
1245:User/lcd/bsp_lcd.c ****     {
 2510              		.loc 1 1245 0
 2511 00ba BBF1010F 		cmp	fp, #1
 2512 00be C0D0     		beq	.L147
 2513 00c0 BBF1020F 		cmp	fp, #2
 2514 00c4 C1D0     		beq	.L148
1258:User/lcd/bsp_lcd.c ****       break;
 2515              		.loc 1 1258 0
 2516 00c6 0099     		ldr	r1, [sp]
 2517 00c8 CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
 2518 00ca 5678     		ldrb	r6, [r2, #1]	@ zero_extendqisi2
 2519 00cc 3602     		lsls	r6, r6, #8
 2520 00ce 46EA0346 		orr	r6, r6, r3, lsl #16
 2521 00d2 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 2522 00d4 1E43     		orrs	r6, r6, r3
 2523              	.LVL182:
1259:User/lcd/bsp_lcd.c ****     }
 2524              		.loc 1 1259 0
 2525 00d6 B6E7     		b	.L149
 2526              	.LVL183:
 2527              	.L158:
1275:User/lcd/bsp_lcd.c **** 
 2528              		.loc 1 1275 0
 2529 00d8 03B0     		add	sp, sp, #12
 2530              	.LCFI38:
 2531              		.cfi_def_cfa_offset 36
 2532              	.LVL184:
 2533              		@ sp needed
ARM GAS  /tmp/ccYQ2vhW.s 			page 73


 2534 00da BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2535              	.LVL185:
 2536              	.L160:
 2537 00de 00BF     		.align	2
 2538              	.L159:
 2539 00e0 00000000 		.word	.LANCHOR2
 2540 00e4 00000000 		.word	.LANCHOR4
 2541              		.cfi_endproc
 2542              	.LFE183:
 2544              		.section	.text.LCD_DisplayChar,"ax",%progbits
 2545              		.align	1
 2546              		.global	LCD_DisplayChar
 2547              		.syntax unified
 2548              		.thumb
 2549              		.thumb_func
 2550              		.fpu fpv5-d16
 2552              	LCD_DisplayChar:
 2553              	.LFB165:
 557:User/lcd/bsp_lcd.c ****   DrawChar(Xpos, Ypos,
 2554              		.loc 1 557 0
 2555              		.cfi_startproc
 2556              		@ args = 0, pretend = 0, frame = 0
 2557              		@ frame_needed = 0, uses_anonymous_args = 0
 2558              	.LVL186:
 2559 0000 38B5     		push	{r3, r4, r5, lr}
 2560              	.LCFI39:
 2561              		.cfi_def_cfa_offset 16
 2562              		.cfi_offset 3, -16
 2563              		.cfi_offset 4, -12
 2564              		.cfi_offset 5, -8
 2565              		.cfi_offset 14, -4
 559:User/lcd/bsp_lcd.c ****                                                ((DrawProp[ActiveLayer].pFont->Width + 7) / 8)]);
 2566              		.loc 1 559 0
 2567 0002 0B4B     		ldr	r3, .L164
 2568 0004 1B68     		ldr	r3, [r3]
 2569 0006 03EB4303 		add	r3, r3, r3, lsl #1
 2570 000a 9C00     		lsls	r4, r3, #2
 2571 000c 094B     		ldr	r3, .L164+4
 2572 000e 2344     		add	r3, r3, r4
 2573 0010 9B68     		ldr	r3, [r3, #8]
 2574 0012 1C68     		ldr	r4, [r3]
 2575 0014 A2F12005 		sub	r5, r2, #32
 2576 0018 DA88     		ldrh	r2, [r3, #6]
 2577              	.LVL187:
 2578 001a 02FB05F2 		mul	r2, r2, r5
 560:User/lcd/bsp_lcd.c **** }
 2579              		.loc 1 560 0
 2580 001e 9B88     		ldrh	r3, [r3, #4]
 2581 0020 0733     		adds	r3, r3, #7
 2582 0022 DB10     		asrs	r3, r3, #3
 558:User/lcd/bsp_lcd.c ****            &DrawProp[ActiveLayer].pFont->table[(Ascii - ' ') * DrawProp[ActiveLayer].pFont->Height 
 2583              		.loc 1 558 0
 2584 0024 03FB0242 		mla	r2, r3, r2, r4
 2585 0028 FFF7FEFF 		bl	DrawChar
 2586              	.LVL188:
 2587 002c 38BD     		pop	{r3, r4, r5, pc}
 2588              	.L165:
ARM GAS  /tmp/ccYQ2vhW.s 			page 74


 2589 002e 00BF     		.align	2
 2590              	.L164:
 2591 0030 00000000 		.word	.LANCHOR2
 2592 0034 00000000 		.word	.LANCHOR4
 2593              		.cfi_endproc
 2594              	.LFE165:
 2596              		.section	.text.LCD_DisplayStringAt,"ax",%progbits
 2597              		.align	1
 2598              		.global	LCD_DisplayStringAt
 2599              		.syntax unified
 2600              		.thumb
 2601              		.thumb_func
 2602              		.fpu fpv5-d16
 2604              	LCD_DisplayStringAt:
 2605              	.LFB166:
 572:User/lcd/bsp_lcd.c ****   uint16_t ref_column = 1, i = 0;
 2606              		.loc 1 572 0
 2607              		.cfi_startproc
 2608              		@ args = 0, pretend = 0, frame = 0
 2609              		@ frame_needed = 0, uses_anonymous_args = 0
 2610              	.LVL189:
 2611 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2612              	.LCFI40:
 2613              		.cfi_def_cfa_offset 24
 2614              		.cfi_offset 4, -24
 2615              		.cfi_offset 5, -20
 2616              		.cfi_offset 6, -16
 2617              		.cfi_offset 7, -12
 2618              		.cfi_offset 8, -8
 2619              		.cfi_offset 14, -4
 2620 0004 0546     		mov	r5, r0
 2621 0006 0F46     		mov	r7, r1
 2622 0008 1646     		mov	r6, r2
 2623 000a 9846     		mov	r8, r3
 2624              	.LVL190:
 575:User/lcd/bsp_lcd.c **** 
 2625              		.loc 1 575 0
 2626 000c 1346     		mov	r3, r2
 2627              	.LVL191:
 574:User/lcd/bsp_lcd.c ****   uint8_t *ptr = Text;
 2628              		.loc 1 574 0
 2629 000e 0024     		movs	r4, #0
 578:User/lcd/bsp_lcd.c ****     size++;
 2630              		.loc 1 578 0
 2631 0010 01E0     		b	.L167
 2632              	.LVL192:
 2633              	.L168:
 579:User/lcd/bsp_lcd.c **** 
 2634              		.loc 1 579 0
 2635 0012 0134     		adds	r4, r4, #1
 2636              	.LVL193:
 578:User/lcd/bsp_lcd.c ****     size++;
 2637              		.loc 1 578 0
 2638 0014 1346     		mov	r3, r2
 2639              	.LVL194:
 2640              	.L167:
 2641 0016 5A1C     		adds	r2, r3, #1
ARM GAS  /tmp/ccYQ2vhW.s 			page 75


 2642              	.LVL195:
 2643 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2644 001a 002B     		cmp	r3, #0
 2645 001c F9D1     		bne	.L168
 582:User/lcd/bsp_lcd.c **** 
 2646              		.loc 1 582 0
 2647 001e FFF7FEFF 		bl	LCD_GetXSize
 2648              	.LVL196:
 2649 0022 2A4B     		ldr	r3, .L178
 2650 0024 1B68     		ldr	r3, [r3]
 2651 0026 03EB4303 		add	r3, r3, r3, lsl #1
 2652 002a 9A00     		lsls	r2, r3, #2
 2653 002c 284B     		ldr	r3, .L178+4
 2654 002e 1344     		add	r3, r3, r2
 2655 0030 9B68     		ldr	r3, [r3, #8]
 2656 0032 9A88     		ldrh	r2, [r3, #4]
 2657 0034 B0FBF2F0 		udiv	r0, r0, r2
 2658              	.LVL197:
 584:User/lcd/bsp_lcd.c ****   {
 2659              		.loc 1 584 0
 2660 0038 B8F1010F 		cmp	r8, #1
 2661 003c 07D0     		beq	.L170
 2662 003e B8F1020F 		cmp	r8, #2
 2663 0042 0CD0     		beq	.L171
 2664              	.LVL198:
 2665              	.L169:
 609:User/lcd/bsp_lcd.c ****   {
 2666              		.loc 1 609 0
 2667 0044 2BB2     		sxth	r3, r5
 2668 0046 002B     		cmp	r3, #0
 2669 0048 10DD     		ble	.L177
 2670              	.LVL199:
 2671              	.L172:
 611:User/lcd/bsp_lcd.c ****   }
 2672              		.loc 1 611 0
 2673 004a 0024     		movs	r4, #0
 2674              	.LVL200:
 2675 004c 23E0     		b	.L173
 2676              	.LVL201:
 2677              	.L170:
 588:User/lcd/bsp_lcd.c ****     break;
 2678              		.loc 1 588 0
 2679 004e 031B     		subs	r3, r0, r4
 2680 0050 03FB02F3 		mul	r3, r3, r2
 2681 0054 C3F34F03 		ubfx	r3, r3, #1, #16
 2682 0058 1D44     		add	r5, r5, r3
 2683 005a ADB2     		uxth	r5, r5
 2684              	.LVL202:
 589:User/lcd/bsp_lcd.c ****   }
 2685              		.loc 1 589 0
 2686 005c F2E7     		b	.L169
 2687              	.LVL203:
 2688              	.L171:
 598:User/lcd/bsp_lcd.c ****     break;
 2689              		.loc 1 598 0
 2690 005e 031B     		subs	r3, r0, r4
 2691 0060 13FB02F3 		smulbb	r3, r3, r2
ARM GAS  /tmp/ccYQ2vhW.s 			page 76


 2692 0064 9BB2     		uxth	r3, r3
 2693 0066 5D1B     		subs	r5, r3, r5
 2694 0068 ADB2     		uxth	r5, r5
 2695              	.LVL204:
 599:User/lcd/bsp_lcd.c ****   }
 2696              		.loc 1 599 0
 2697 006a EBE7     		b	.L169
 2698              	.L177:
 611:User/lcd/bsp_lcd.c ****   }
 2699              		.loc 1 611 0
 2700 006c 0125     		movs	r5, #1
 2701              	.LVL205:
 2702 006e ECE7     		b	.L172
 2703              	.LVL206:
 2704              	.L174:
 619:User/lcd/bsp_lcd.c ****     /* 根据字体大小计算下一个偏移位置 */
 2705              		.loc 1 619 0
 2706 0070 4246     		mov	r2, r8
 2707 0072 3946     		mov	r1, r7
 2708 0074 2846     		mov	r0, r5
 2709 0076 FFF7FEFF 		bl	LCD_DisplayChar
 2710              	.LVL207:
 621:User/lcd/bsp_lcd.c ****     /* 指针指向下一个字符 */
 2711              		.loc 1 621 0
 2712 007a 144B     		ldr	r3, .L178
 2713 007c 1B68     		ldr	r3, [r3]
 2714 007e 03EB4303 		add	r3, r3, r3, lsl #1
 2715 0082 9A00     		lsls	r2, r3, #2
 2716 0084 124B     		ldr	r3, .L178+4
 2717 0086 1344     		add	r3, r3, r2
 2718 0088 9B68     		ldr	r3, [r3, #8]
 2719 008a 9B88     		ldrh	r3, [r3, #4]
 2720 008c 1D44     		add	r5, r5, r3
 2721              	.LVL208:
 2722 008e ADB2     		uxth	r5, r5
 2723              	.LVL209:
 623:User/lcd/bsp_lcd.c ****     i++;
 2724              		.loc 1 623 0
 2725 0090 0136     		adds	r6, r6, #1
 2726              	.LVL210:
 624:User/lcd/bsp_lcd.c ****   }
 2727              		.loc 1 624 0
 2728 0092 0134     		adds	r4, r4, #1
 2729              	.LVL211:
 2730 0094 A4B2     		uxth	r4, r4
 2731              	.LVL212:
 2732              	.L173:
 615:User/lcd/bsp_lcd.c ****          (((LCD_GetXSize() - (i * DrawProp[ActiveLayer].pFont->Width)) & 0xFFFF) >= DrawProp[Active
 2733              		.loc 1 615 0
 2734 0096 96F80080 		ldrb	r8, [r6]	@ zero_extendqisi2
 616:User/lcd/bsp_lcd.c ****   {
 2735              		.loc 1 616 0
 2736 009a FFF7FEFF 		bl	LCD_GetXSize
 2737              	.LVL213:
 2738 009e 0B4B     		ldr	r3, .L178
 2739 00a0 1B68     		ldr	r3, [r3]
 2740 00a2 03EB4303 		add	r3, r3, r3, lsl #1
ARM GAS  /tmp/ccYQ2vhW.s 			page 77


 2741 00a6 9A00     		lsls	r2, r3, #2
 2742 00a8 094B     		ldr	r3, .L178+4
 2743 00aa 1344     		add	r3, r3, r2
 2744 00ac 9B68     		ldr	r3, [r3, #8]
 2745 00ae 9B88     		ldrh	r3, [r3, #4]
 2746 00b0 03FB1400 		mls	r0, r3, r4, r0
 2747 00b4 80B2     		uxth	r0, r0
 615:User/lcd/bsp_lcd.c ****          (((LCD_GetXSize() - (i * DrawProp[ActiveLayer].pFont->Width)) & 0xFFFF) >= DrawProp[Active
 2748              		.loc 1 615 0
 2749 00b6 18F10002 		adds	r2, r8, #0
 2750 00ba 18BF     		it	ne
 2751 00bc 0122     		movne	r2, #1
 2752 00be 9842     		cmp	r0, r3
 2753 00c0 38BF     		it	cc
 2754 00c2 0022     		movcc	r2, #0
 2755 00c4 002A     		cmp	r2, #0
 2756 00c6 D3D1     		bne	.L174
 626:User/lcd/bsp_lcd.c **** 
 2757              		.loc 1 626 0
 2758 00c8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2759              	.LVL214:
 2760              	.L179:
 2761              		.align	2
 2762              	.L178:
 2763 00cc 00000000 		.word	.LANCHOR2
 2764 00d0 00000000 		.word	.LANCHOR4
 2765              		.cfi_endproc
 2766              	.LFE166:
 2768              		.section	.text.LCD_DisplayStringLine,"ax",%progbits
 2769              		.align	1
 2770              		.global	LCD_DisplayStringLine
 2771              		.syntax unified
 2772              		.thumb
 2773              		.thumb_func
 2774              		.fpu fpv5-d16
 2776              	LCD_DisplayStringLine:
 2777              	.LFB167:
 634:User/lcd/bsp_lcd.c **** 
 2778              		.loc 1 634 0
 2779              		.cfi_startproc
 2780              		@ args = 0, pretend = 0, frame = 0
 2781              		@ frame_needed = 0, uses_anonymous_args = 0
 2782              	.LVL215:
 2783 0000 38B5     		push	{r3, r4, r5, lr}
 2784              	.LCFI41:
 2785              		.cfi_def_cfa_offset 16
 2786              		.cfi_offset 3, -16
 2787              		.cfi_offset 4, -12
 2788              		.cfi_offset 5, -8
 2789              		.cfi_offset 14, -4
 2790 0002 0546     		mov	r5, r0
 2791 0004 0C46     		mov	r4, r1
 634:User/lcd/bsp_lcd.c **** 
 2792              		.loc 1 634 0
 2793 0006 FFF7FEFF 		bl	LCD_GetFont
 2794              	.LVL216:
 2795 000a C188     		ldrh	r1, [r0, #6]
ARM GAS  /tmp/ccYQ2vhW.s 			page 78


 2796 000c 11FB05F1 		smulbb	r1, r1, r5
 2797 0010 0323     		movs	r3, #3
 2798 0012 2246     		mov	r2, r4
 2799 0014 89B2     		uxth	r1, r1
 2800 0016 0020     		movs	r0, #0
 2801 0018 FFF7FEFF 		bl	LCD_DisplayStringAt
 2802              	.LVL217:
 2803 001c 38BD     		pop	{r3, r4, r5, pc}
 2804              		.cfi_endproc
 2805              	.LFE167:
 2807              		.section	.text.LCD_DrawLine,"ax",%progbits
 2808              		.align	1
 2809              		.global	LCD_DrawLine
 2810              		.syntax unified
 2811              		.thumb
 2812              		.thumb_func
 2813              		.fpu fpv5-d16
 2815              	LCD_DrawLine:
 2816              	.LFB170:
 712:User/lcd/bsp_lcd.c ****   int16_t deltax = 0, deltay = 0, x = 0, y = 0, xinc1 = 0, xinc2 = 0, yinc1 = 0, yinc2 = 0, den = 0
 2817              		.loc 1 712 0
 2818              		.cfi_startproc
 2819              		@ args = 0, pretend = 0, frame = 16
 2820              		@ frame_needed = 0, uses_anonymous_args = 0
 2821              	.LVL218:
 2822 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2823              	.LCFI42:
 2824              		.cfi_def_cfa_offset 36
 2825              		.cfi_offset 4, -36
 2826              		.cfi_offset 5, -32
 2827              		.cfi_offset 6, -28
 2828              		.cfi_offset 7, -24
 2829              		.cfi_offset 8, -20
 2830              		.cfi_offset 9, -16
 2831              		.cfi_offset 10, -12
 2832              		.cfi_offset 11, -8
 2833              		.cfi_offset 14, -4
 2834 0004 85B0     		sub	sp, sp, #20
 2835              	.LCFI43:
 2836              		.cfi_def_cfa_offset 56
 2837              	.LVL219:
 716:User/lcd/bsp_lcd.c ****   deltay = ABS(y2 - y1); /* 求y轴的绝对值 */
 2838              		.loc 1 716 0
 2839 0006 A2EB000A 		sub	r10, r2, r0
 2840 000a BAF1000F 		cmp	r10, #0
 2841 000e B8BF     		it	lt
 2842 0010 CAF1000A 		rsblt	r10, r10, #0
 2843 0014 0FFA8AFA 		sxth	r10, r10
 2844              	.LVL220:
 717:User/lcd/bsp_lcd.c ****   x = x1;                /* 第一个像素的x坐标起始值 */
 2845              		.loc 1 717 0
 2846 0018 A3EB010B 		sub	fp, r3, r1
 2847 001c BBF1000F 		cmp	fp, #0
 2848 0020 B8BF     		it	lt
 2849 0022 CBF1000B 		rsblt	fp, fp, #0
 2850 0026 0FFA8BFB 		sxth	fp, fp
 2851              	.LVL221:
ARM GAS  /tmp/ccYQ2vhW.s 			page 79


 718:User/lcd/bsp_lcd.c ****   y = y1;                /* 第一个像素的y坐标起始值 */
 2852              		.loc 1 718 0
 2853 002a 05B2     		sxth	r5, r0
 2854              	.LVL222:
 719:User/lcd/bsp_lcd.c **** 
 2855              		.loc 1 719 0
 2856 002c 0FB2     		sxth	r7, r1
 2857              	.LVL223:
 721:User/lcd/bsp_lcd.c ****   {
 2858              		.loc 1 721 0
 2859 002e 8242     		cmp	r2, r0
 2860 0030 15D3     		bcc	.L192
 723:User/lcd/bsp_lcd.c ****     xinc2 = 1;
 2861              		.loc 1 723 0
 2862 0032 0122     		movs	r2, #1
 2863              	.LVL224:
 2864 0034 0292     		str	r2, [sp, #8]
 2865              	.L183:
 2866              	.LVL225:
 732:User/lcd/bsp_lcd.c ****   {
 2867              		.loc 1 732 0
 2868 0036 8B42     		cmp	r3, r1
 2869 0038 15D3     		bcc	.L193
 734:User/lcd/bsp_lcd.c ****     yinc2 = 1;
 2870              		.loc 1 734 0
 2871 003a 0123     		movs	r3, #1
 2872              	.LVL226:
 2873 003c 0393     		str	r3, [sp, #12]
 2874              	.L184:
 2875              	.LVL227:
 743:User/lcd/bsp_lcd.c ****   {
 2876              		.loc 1 743 0
 2877 003e DA45     		cmp	r10, fp
 2878 0040 18DB     		blt	.L185
 2879              	.LVL228:
 748:User/lcd/bsp_lcd.c ****     num_add = deltay;
 2880              		.loc 1 748 0
 2881 0042 5446     		mov	r4, r10
 2882 0044 BAF1000F 		cmp	r10, #0
 2883 0048 11DB     		blt	.L195
 2884              	.L186:
 2885 004a 44F34F04 		sbfx	r4, r4, #1, #16
 2886              	.LVL229:
 2887 004e 029B     		ldr	r3, [sp, #8]
 2888 0050 0093     		str	r3, [sp]
 746:User/lcd/bsp_lcd.c ****     den = deltax;
 2889              		.loc 1 746 0
 2890 0052 0023     		movs	r3, #0
 2891 0054 0293     		str	r3, [sp, #8]
 2892              	.LVL230:
 745:User/lcd/bsp_lcd.c ****     yinc2 = 0; /* 不要为每次迭代更改 y */
 2893              		.loc 1 745 0
 2894 0056 0193     		str	r3, [sp, #4]
 2895              	.LVL231:
 2896              	.L187:
 762:User/lcd/bsp_lcd.c ****   {
 2897              		.loc 1 762 0
ARM GAS  /tmp/ccYQ2vhW.s 			page 80


 2898 0058 4FF00009 		mov	r9, #0
 2899 005c 26E0     		b	.L189
 2900              	.LVL232:
 2901              	.L192:
 728:User/lcd/bsp_lcd.c ****     xinc2 = -1;
 2902              		.loc 1 728 0
 2903 005e 4FF0FF32 		mov	r2, #-1
 2904              	.LVL233:
 2905 0062 0292     		str	r2, [sp, #8]
 2906 0064 E7E7     		b	.L183
 2907              	.LVL234:
 2908              	.L193:
 739:User/lcd/bsp_lcd.c ****     yinc2 = -1;
 2909              		.loc 1 739 0
 2910 0066 4FF0FF33 		mov	r3, #-1
 2911              	.LVL235:
 2912 006a 0393     		str	r3, [sp, #12]
 2913 006c E7E7     		b	.L184
 2914              	.LVL236:
 2915              	.L195:
 748:User/lcd/bsp_lcd.c ****     num_add = deltay;
 2916              		.loc 1 748 0
 2917 006e 0AF10104 		add	r4, r10, #1
 2918 0072 EAE7     		b	.L186
 2919              	.LVL237:
 2920              	.L185:
 757:User/lcd/bsp_lcd.c ****     num_add = deltax;
 2921              		.loc 1 757 0
 2922 0074 5C46     		mov	r4, fp
 2923 0076 BBF1000F 		cmp	fp, #0
 2924 007a 0ADB     		blt	.L196
 2925              	.L188:
 2926 007c 44F34F04 		sbfx	r4, r4, #1, #16
 2927              	.LVL238:
 2928 0080 5346     		mov	r3, r10
 756:User/lcd/bsp_lcd.c ****     num = deltay / 2;
 2929              		.loc 1 756 0
 2930 0082 DA46     		mov	r10, fp
 2931              	.LVL239:
 758:User/lcd/bsp_lcd.c ****     num_pixels = deltay; /* y比x多的值 */
 2932              		.loc 1 758 0
 2933 0084 9B46     		mov	fp, r3
 2934              	.LVL240:
 757:User/lcd/bsp_lcd.c ****     num_add = deltax;
 2935              		.loc 1 757 0
 2936 0086 039B     		ldr	r3, [sp, #12]
 2937              	.LVL241:
 2938 0088 0193     		str	r3, [sp, #4]
 755:User/lcd/bsp_lcd.c ****     den = deltay;
 2939              		.loc 1 755 0
 2940 008a 0023     		movs	r3, #0
 2941 008c 0393     		str	r3, [sp, #12]
 2942              	.LVL242:
 754:User/lcd/bsp_lcd.c ****     yinc1 = 0; /* 当分子大于或等于分母时不要改变 y */
 2943              		.loc 1 754 0
 2944 008e 0093     		str	r3, [sp]
 2945 0090 E2E7     		b	.L187
ARM GAS  /tmp/ccYQ2vhW.s 			page 81


 2946              	.LVL243:
 2947              	.L196:
 757:User/lcd/bsp_lcd.c ****     num_add = deltax;
 2948              		.loc 1 757 0
 2949 0092 0BF10104 		add	r4, fp, #1
 2950 0096 F1E7     		b	.L188
 2951              	.LVL244:
 2952              	.L190:
 772:User/lcd/bsp_lcd.c ****     y += yinc2; /* y值递增 */
 2953              		.loc 1 772 0 discriminator 2
 2954 0098 009B     		ldr	r3, [sp]
 2955 009a 1D44     		add	r5, r5, r3
 2956              	.LVL245:
 2957 009c 2DB2     		sxth	r5, r5
 2958              	.LVL246:
 773:User/lcd/bsp_lcd.c ****   }
 2959              		.loc 1 773 0 discriminator 2
 2960 009e 019B     		ldr	r3, [sp, #4]
 2961 00a0 1F44     		add	r7, r7, r3
 2962              	.LVL247:
 2963 00a2 3FB2     		sxth	r7, r7
 2964              	.LVL248:
 762:User/lcd/bsp_lcd.c ****   {
 2965              		.loc 1 762 0 discriminator 2
 2966 00a4 09F10109 		add	r9, r9, #1
 2967              	.LVL249:
 2968 00a8 0FFA89F9 		sxth	r9, r9
 2969              	.LVL250:
 2970              	.L189:
 762:User/lcd/bsp_lcd.c ****   {
 2971              		.loc 1 762 0 is_stmt 0 discriminator 1
 2972 00ac CA45     		cmp	r10, r9
 2973 00ae 1DDB     		blt	.L197
 764:User/lcd/bsp_lcd.c ****     num += num_add;                                       /* 在分数的基础上增加分子 */
 2974              		.loc 1 764 0 is_stmt 1
 2975 00b0 1FFA85F8 		uxth	r8, r5
 2976 00b4 BEB2     		uxth	r6, r7
 2977 00b6 0F4B     		ldr	r3, .L198
 2978 00b8 1B68     		ldr	r3, [r3]
 2979 00ba 03EB4303 		add	r3, r3, r3, lsl #1
 2980 00be 9A00     		lsls	r2, r3, #2
 2981 00c0 0D4B     		ldr	r3, .L198+4
 2982 00c2 9A58     		ldr	r2, [r3, r2]
 2983 00c4 3146     		mov	r1, r6
 2984 00c6 4046     		mov	r0, r8
 2985 00c8 FFF7FEFF 		bl	LCD_DrawPixel
 2986              	.LVL251:
 765:User/lcd/bsp_lcd.c ****     if (num >= den)                                       /* 检查分子大于或等于分母 */
 2987              		.loc 1 765 0
 2988 00cc 5C44     		add	r4, r4, fp
 2989              	.LVL252:
 2990 00ce A3B2     		uxth	r3, r4
 2991 00d0 1CB2     		sxth	r4, r3
 2992              	.LVL253:
 766:User/lcd/bsp_lcd.c ****     {
 2993              		.loc 1 766 0
 2994 00d2 A245     		cmp	r10, r4
ARM GAS  /tmp/ccYQ2vhW.s 			page 82


 2995 00d4 E0DC     		bgt	.L190
 768:User/lcd/bsp_lcd.c ****       x += xinc1; /* x值递增 */
 2996              		.loc 1 768 0
 2997 00d6 A3EB0A04 		sub	r4, r3, r10
 2998              	.LVL254:
 2999 00da 24B2     		sxth	r4, r4
 3000              	.LVL255:
 769:User/lcd/bsp_lcd.c ****       y += yinc1; /* y值递增 */
 3001              		.loc 1 769 0
 3002 00dc 029B     		ldr	r3, [sp, #8]
 3003 00de 08EB0305 		add	r5, r8, r3
 3004              	.LVL256:
 3005 00e2 2DB2     		sxth	r5, r5
 3006              	.LVL257:
 770:User/lcd/bsp_lcd.c ****     }
 3007              		.loc 1 770 0
 3008 00e4 039B     		ldr	r3, [sp, #12]
 3009 00e6 F718     		adds	r7, r6, r3
 3010              	.LVL258:
 3011 00e8 3FB2     		sxth	r7, r7
 3012              	.LVL259:
 3013 00ea D5E7     		b	.L190
 3014              	.L197:
 775:User/lcd/bsp_lcd.c **** 
 3015              		.loc 1 775 0
 3016 00ec 05B0     		add	sp, sp, #20
 3017              	.LCFI44:
 3018              		.cfi_def_cfa_offset 36
 3019              	.LVL260:
 3020              		@ sp needed
 3021 00ee BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3022              	.LVL261:
 3023              	.L199:
 3024 00f2 00BF     		.align	2
 3025              	.L198:
 3026 00f4 00000000 		.word	.LANCHOR2
 3027 00f8 00000000 		.word	.LANCHOR4
 3028              		.cfi_endproc
 3029              	.LFE170:
 3031              		.section	.text.LCD_DrawPolygon,"ax",%progbits
 3032              		.align	1
 3033              		.global	LCD_DrawPolygon
 3034              		.syntax unified
 3035              		.thumb
 3036              		.thumb_func
 3037              		.fpu fpv5-d16
 3039              	LCD_DrawPolygon:
 3040              	.LFB173:
 851:User/lcd/bsp_lcd.c ****   int16_t x = 0, y = 0;
 3041              		.loc 1 851 0
 3042              		.cfi_startproc
 3043              		@ args = 0, pretend = 0, frame = 0
 3044              		@ frame_needed = 0, uses_anonymous_args = 0
 3045              	.LVL262:
 854:User/lcd/bsp_lcd.c ****   {
 3046              		.loc 1 854 0
 3047 0000 0129     		cmp	r1, #1
ARM GAS  /tmp/ccYQ2vhW.s 			page 83


 3048 0002 20D9     		bls	.L205
 851:User/lcd/bsp_lcd.c ****   int16_t x = 0, y = 0;
 3049              		.loc 1 851 0
 3050 0004 38B5     		push	{r3, r4, r5, lr}
 3051              	.LCFI45:
 3052              		.cfi_def_cfa_offset 16
 3053              		.cfi_offset 3, -16
 3054              		.cfi_offset 4, -12
 3055              		.cfi_offset 5, -8
 3056              		.cfi_offset 14, -4
 3057 0006 0546     		mov	r5, r0
 3058 0008 0C46     		mov	r4, r1
 859:User/lcd/bsp_lcd.c **** 
 3059              		.loc 1 859 0
 3060 000a 6FF04042 		mvn	r2, #-1073741824
 3061 000e 0A44     		add	r2, r2, r1
 3062 0010 00EB8203 		add	r3, r0, r2, lsl #2
 3063 0014 5B88     		ldrh	r3, [r3, #2]
 3064 0016 30F82220 		ldrh	r2, [r0, r2, lsl #2]
 3065 001a 4188     		ldrh	r1, [r0, #2]
 3066              	.LVL263:
 3067 001c 0088     		ldrh	r0, [r0]
 3068              	.LVL264:
 3069 001e FFF7FEFF 		bl	LCD_DrawLine
 3070              	.LVL265:
 861:User/lcd/bsp_lcd.c ****   {
 3071              		.loc 1 861 0
 3072 0022 0BE0     		b	.L202
 3073              	.LVL266:
 3074              	.L203:
 863:User/lcd/bsp_lcd.c ****     y = Points->Y;
 3075              		.loc 1 863 0
 3076 0024 B5F90000 		ldrsh	r0, [r5]
 3077              	.LVL267:
 864:User/lcd/bsp_lcd.c ****     Points++;
 3078              		.loc 1 864 0
 3079 0028 B5F90210 		ldrsh	r1, [r5, #2]
 3080              	.LVL268:
 866:User/lcd/bsp_lcd.c ****   }
 3081              		.loc 1 866 0
 3082 002c 35F9042F 		ldrsh	r2, [r5, #4]!
 3083              	.LVL269:
 3084 0030 6B88     		ldrh	r3, [r5, #2]
 3085 0032 92B2     		uxth	r2, r2
 3086 0034 89B2     		uxth	r1, r1
 3087 0036 80B2     		uxth	r0, r0
 3088 0038 FFF7FEFF 		bl	LCD_DrawLine
 3089              	.LVL270:
 3090              	.L202:
 861:User/lcd/bsp_lcd.c ****   {
 3091              		.loc 1 861 0
 3092 003c 013C     		subs	r4, r4, #1
 3093              	.LVL271:
 3094 003e A4B2     		uxth	r4, r4
 3095              	.LVL272:
 3096 0040 002C     		cmp	r4, #0
 3097 0042 EFD1     		bne	.L203
ARM GAS  /tmp/ccYQ2vhW.s 			page 84


 3098 0044 38BD     		pop	{r3, r4, r5, pc}
 3099              	.LVL273:
 3100              	.L205:
 3101              	.LCFI46:
 3102              		.cfi_def_cfa_offset 0
 3103              		.cfi_restore 3
 3104              		.cfi_restore 4
 3105              		.cfi_restore 5
 3106              		.cfi_restore 14
 3107 0046 7047     		bx	lr
 3108              		.cfi_endproc
 3109              	.LFE173:
 3111              		.section	.text.FillTriangle,"ax",%progbits
 3112              		.align	1
 3113              		.syntax unified
 3114              		.thumb
 3115              		.thumb_func
 3116              		.fpu fpv5-d16
 3118              	FillTriangle:
 3119              	.LFB184:
1288:User/lcd/bsp_lcd.c ****   int16_t deltax = 0, deltay = 0, x = 0, y = 0, xinc1 = 0, xinc2 = 0, yinc1 = 0, yinc2 = 0, den = 0
 3120              		.loc 1 1288 0
 3121              		.cfi_startproc
 3122              		@ args = 8, pretend = 0, frame = 24
 3123              		@ frame_needed = 0, uses_anonymous_args = 0
 3124              	.LVL274:
 3125 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3126              	.LCFI47:
 3127              		.cfi_def_cfa_offset 36
 3128              		.cfi_offset 4, -36
 3129              		.cfi_offset 5, -32
 3130              		.cfi_offset 6, -28
 3131              		.cfi_offset 7, -24
 3132              		.cfi_offset 8, -20
 3133              		.cfi_offset 9, -16
 3134              		.cfi_offset 10, -12
 3135              		.cfi_offset 11, -8
 3136              		.cfi_offset 14, -4
 3137 0004 87B0     		sub	sp, sp, #28
 3138              	.LCFI48:
 3139              		.cfi_def_cfa_offset 64
 3140 0006 0292     		str	r2, [sp, #8]
 3141 0008 BDF84020 		ldrh	r2, [sp, #64]
 3142              	.LVL275:
 3143 000c BDF84440 		ldrh	r4, [sp, #68]
 3144 0010 0394     		str	r4, [sp, #12]
 3145              	.LVL276:
1292:User/lcd/bsp_lcd.c ****   deltay = ABS(y2 - y1); /* 求y轴的绝对值 */
 3146              		.loc 1 1292 0
 3147 0012 A1EB000A 		sub	r10, r1, r0
 3148 0016 BAF1000F 		cmp	r10, #0
 3149 001a B8BF     		it	lt
 3150 001c CAF1000A 		rsblt	r10, r10, #0
 3151 0020 0FFA8AFA 		sxth	r10, r10
 3152              	.LVL277:
1293:User/lcd/bsp_lcd.c ****   x = x1;                /* 第一个像素的x坐标起始值 */
 3153              		.loc 1 1293 0
ARM GAS  /tmp/ccYQ2vhW.s 			page 85


 3154 0024 A2EB030B 		sub	fp, r2, r3
 3155 0028 BBF1000F 		cmp	fp, #0
 3156 002c B8BF     		it	lt
 3157 002e CBF1000B 		rsblt	fp, fp, #0
 3158 0032 0FFA8BFB 		sxth	fp, fp
 3159              	.LVL278:
1294:User/lcd/bsp_lcd.c ****   y = y1;                /* 第一个像素的y坐标起始值 */
 3160              		.loc 1 1294 0
 3161 0036 05B2     		sxth	r5, r0
 3162              	.LVL279:
1295:User/lcd/bsp_lcd.c **** 
 3163              		.loc 1 1295 0
 3164 0038 1FB2     		sxth	r7, r3
 3165              	.LVL280:
1297:User/lcd/bsp_lcd.c ****   {
 3166              		.loc 1 1297 0
 3167 003a 8142     		cmp	r1, r0
 3168 003c 15D3     		bcc	.L218
1299:User/lcd/bsp_lcd.c ****     xinc2 = 1;
 3169              		.loc 1 1299 0
 3170 003e 0121     		movs	r1, #1
 3171              	.LVL281:
 3172 0040 0491     		str	r1, [sp, #16]
 3173              	.L209:
 3174              	.LVL282:
1308:User/lcd/bsp_lcd.c ****   {
 3175              		.loc 1 1308 0
 3176 0042 9A42     		cmp	r2, r3
 3177 0044 15D3     		bcc	.L219
1310:User/lcd/bsp_lcd.c ****     yinc2 = 1;
 3178              		.loc 1 1310 0
 3179 0046 0123     		movs	r3, #1
 3180              	.LVL283:
 3181 0048 0593     		str	r3, [sp, #20]
 3182              	.L210:
 3183              	.LVL284:
1319:User/lcd/bsp_lcd.c ****   {
 3184              		.loc 1 1319 0
 3185 004a DA45     		cmp	r10, fp
 3186 004c 18DB     		blt	.L211
 3187              	.LVL285:
1324:User/lcd/bsp_lcd.c ****     num_add = deltay;
 3188              		.loc 1 1324 0
 3189 004e 5446     		mov	r4, r10
 3190 0050 BAF1000F 		cmp	r10, #0
 3191 0054 11DB     		blt	.L221
 3192              	.L212:
 3193 0056 44F34F04 		sbfx	r4, r4, #1, #16
 3194              	.LVL286:
 3195 005a 049B     		ldr	r3, [sp, #16]
 3196 005c 0093     		str	r3, [sp]
1322:User/lcd/bsp_lcd.c ****     den = deltax;
 3197              		.loc 1 1322 0
 3198 005e 0023     		movs	r3, #0
 3199 0060 0493     		str	r3, [sp, #16]
 3200              	.LVL287:
1321:User/lcd/bsp_lcd.c ****     yinc2 = 0; /* 不要为每次迭代更改 y */
ARM GAS  /tmp/ccYQ2vhW.s 			page 86


 3201              		.loc 1 1321 0
 3202 0062 0193     		str	r3, [sp, #4]
 3203              	.LVL288:
 3204              	.L213:
1338:User/lcd/bsp_lcd.c ****   {
 3205              		.loc 1 1338 0
 3206 0064 4FF00009 		mov	r9, #0
 3207 0068 26E0     		b	.L215
 3208              	.LVL289:
 3209              	.L218:
1304:User/lcd/bsp_lcd.c ****     xinc2 = -1;
 3210              		.loc 1 1304 0
 3211 006a 4FF0FF31 		mov	r1, #-1
 3212              	.LVL290:
 3213 006e 0491     		str	r1, [sp, #16]
 3214 0070 E7E7     		b	.L209
 3215              	.LVL291:
 3216              	.L219:
1315:User/lcd/bsp_lcd.c ****     yinc2 = -1;
 3217              		.loc 1 1315 0
 3218 0072 4FF0FF33 		mov	r3, #-1
 3219              	.LVL292:
 3220 0076 0593     		str	r3, [sp, #20]
 3221 0078 E7E7     		b	.L210
 3222              	.LVL293:
 3223              	.L221:
1324:User/lcd/bsp_lcd.c ****     num_add = deltay;
 3224              		.loc 1 1324 0
 3225 007a 0AF10104 		add	r4, r10, #1
 3226 007e EAE7     		b	.L212
 3227              	.LVL294:
 3228              	.L211:
1333:User/lcd/bsp_lcd.c ****     num_add = deltax;
 3229              		.loc 1 1333 0
 3230 0080 5C46     		mov	r4, fp
 3231 0082 BBF1000F 		cmp	fp, #0
 3232 0086 0ADB     		blt	.L222
 3233              	.L214:
 3234 0088 44F34F04 		sbfx	r4, r4, #1, #16
 3235              	.LVL295:
 3236 008c 5346     		mov	r3, r10
1332:User/lcd/bsp_lcd.c ****     num = deltay / 2;
 3237              		.loc 1 1332 0
 3238 008e DA46     		mov	r10, fp
 3239              	.LVL296:
1334:User/lcd/bsp_lcd.c ****     num_pixels = deltay; /* y比x多的值 */
 3240              		.loc 1 1334 0
 3241 0090 9B46     		mov	fp, r3
 3242              	.LVL297:
1333:User/lcd/bsp_lcd.c ****     num_add = deltax;
 3243              		.loc 1 1333 0
 3244 0092 059B     		ldr	r3, [sp, #20]
 3245              	.LVL298:
 3246 0094 0193     		str	r3, [sp, #4]
1331:User/lcd/bsp_lcd.c ****     den = deltay;
 3247              		.loc 1 1331 0
 3248 0096 0023     		movs	r3, #0
ARM GAS  /tmp/ccYQ2vhW.s 			page 87


 3249 0098 0593     		str	r3, [sp, #20]
 3250              	.LVL299:
1330:User/lcd/bsp_lcd.c ****     yinc1 = 0; /* 当分子大于或等于分母时不要改变 y */
 3251              		.loc 1 1330 0
 3252 009a 0093     		str	r3, [sp]
 3253 009c E2E7     		b	.L213
 3254              	.LVL300:
 3255              	.L222:
1333:User/lcd/bsp_lcd.c ****     num_add = deltax;
 3256              		.loc 1 1333 0
 3257 009e 0BF10104 		add	r4, fp, #1
 3258 00a2 F1E7     		b	.L214
 3259              	.LVL301:
 3260              	.L216:
1349:User/lcd/bsp_lcd.c ****     y += yinc2; /* y值递增 */
 3261              		.loc 1 1349 0 discriminator 2
 3262 00a4 009B     		ldr	r3, [sp]
 3263 00a6 1D44     		add	r5, r5, r3
 3264              	.LVL302:
 3265 00a8 2DB2     		sxth	r5, r5
 3266              	.LVL303:
1350:User/lcd/bsp_lcd.c ****   }
 3267              		.loc 1 1350 0 discriminator 2
 3268 00aa 019B     		ldr	r3, [sp, #4]
 3269 00ac 1F44     		add	r7, r7, r3
 3270              	.LVL304:
 3271 00ae 3FB2     		sxth	r7, r7
 3272              	.LVL305:
1338:User/lcd/bsp_lcd.c ****   {
 3273              		.loc 1 1338 0 discriminator 2
 3274 00b0 09F10109 		add	r9, r9, #1
 3275              	.LVL306:
 3276 00b4 0FFA89F9 		sxth	r9, r9
 3277              	.LVL307:
 3278              	.L215:
1338:User/lcd/bsp_lcd.c ****   {
 3279              		.loc 1 1338 0 is_stmt 0 discriminator 1
 3280 00b8 CA45     		cmp	r10, r9
 3281 00ba 18DB     		blt	.L223
1340:User/lcd/bsp_lcd.c **** 
 3282              		.loc 1 1340 0 is_stmt 1
 3283 00bc 1FFA85F8 		uxth	r8, r5
 3284 00c0 BEB2     		uxth	r6, r7
 3285 00c2 039B     		ldr	r3, [sp, #12]
 3286 00c4 029A     		ldr	r2, [sp, #8]
 3287 00c6 3146     		mov	r1, r6
 3288 00c8 4046     		mov	r0, r8
 3289 00ca FFF7FEFF 		bl	LCD_DrawLine
 3290              	.LVL308:
1342:User/lcd/bsp_lcd.c ****     if (num >= den) /* 判断分子是否大于或等于分母 */
 3291              		.loc 1 1342 0
 3292 00ce 5C44     		add	r4, r4, fp
 3293              	.LVL309:
 3294 00d0 A3B2     		uxth	r3, r4
 3295 00d2 1CB2     		sxth	r4, r3
 3296              	.LVL310:
1343:User/lcd/bsp_lcd.c ****     {
ARM GAS  /tmp/ccYQ2vhW.s 			page 88


 3297              		.loc 1 1343 0
 3298 00d4 A245     		cmp	r10, r4
 3299 00d6 E5DC     		bgt	.L216
1345:User/lcd/bsp_lcd.c ****       x += xinc1; /* x值递增 */
 3300              		.loc 1 1345 0
 3301 00d8 A3EB0A04 		sub	r4, r3, r10
 3302              	.LVL311:
 3303 00dc 24B2     		sxth	r4, r4
 3304              	.LVL312:
1346:User/lcd/bsp_lcd.c ****       y += yinc1; /* y值递增 */
 3305              		.loc 1 1346 0
 3306 00de 049B     		ldr	r3, [sp, #16]
 3307 00e0 08EB0305 		add	r5, r8, r3
 3308              	.LVL313:
 3309 00e4 2DB2     		sxth	r5, r5
 3310              	.LVL314:
1347:User/lcd/bsp_lcd.c ****     }
 3311              		.loc 1 1347 0
 3312 00e6 059B     		ldr	r3, [sp, #20]
 3313 00e8 F718     		adds	r7, r6, r3
 3314              	.LVL315:
 3315 00ea 3FB2     		sxth	r7, r7
 3316              	.LVL316:
 3317 00ec DAE7     		b	.L216
 3318              	.L223:
1352:User/lcd/bsp_lcd.c **** 
 3319              		.loc 1 1352 0
 3320 00ee 07B0     		add	sp, sp, #28
 3321              	.LCFI49:
 3322              		.cfi_def_cfa_offset 36
 3323              	.LVL317:
 3324              		@ sp needed
 3325 00f0 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3326              		.cfi_endproc
 3327              	.LFE184:
 3329              		.section	.text.LCD_DrawCircle,"ax",%progbits
 3330              		.align	1
 3331              		.global	LCD_DrawCircle
 3332              		.syntax unified
 3333              		.thumb
 3334              		.thumb_func
 3335              		.fpu fpv5-d16
 3337              	LCD_DrawCircle:
 3338              	.LFB172:
 804:User/lcd/bsp_lcd.c ****   int32_t decision;   /* 决策变量 */
 3339              		.loc 1 804 0
 3340              		.cfi_startproc
 3341              		@ args = 0, pretend = 0, frame = 24
 3342              		@ frame_needed = 0, uses_anonymous_args = 0
 3343              	.LVL318:
 3344 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3345              	.LCFI50:
 3346              		.cfi_def_cfa_offset 36
 3347              		.cfi_offset 4, -36
 3348              		.cfi_offset 5, -32
 3349              		.cfi_offset 6, -28
 3350              		.cfi_offset 7, -24
ARM GAS  /tmp/ccYQ2vhW.s 			page 89


 3351              		.cfi_offset 8, -20
 3352              		.cfi_offset 9, -16
 3353              		.cfi_offset 10, -12
 3354              		.cfi_offset 11, -8
 3355              		.cfi_offset 14, -4
 3356 0004 87B0     		sub	sp, sp, #28
 3357              	.LCFI51:
 3358              		.cfi_def_cfa_offset 64
 3359 0006 8246     		mov	r10, r0
 3360 0008 8B46     		mov	fp, r1
 809:User/lcd/bsp_lcd.c ****   current_x = 0;
 3361              		.loc 1 809 0
 3362 000a 5300     		lsls	r3, r2, #1
 3363 000c C3F10303 		rsb	r3, r3, #3
 3364 0010 0293     		str	r3, [sp, #8]
 3365              	.LVL319:
 811:User/lcd/bsp_lcd.c **** 
 3366              		.loc 1 811 0
 3367 0012 0192     		str	r2, [sp, #4]
 3368              	.LVL320:
 810:User/lcd/bsp_lcd.c ****   current_y = Radius;
 3369              		.loc 1 810 0
 3370 0014 4FF00009 		mov	r9, #0
 813:User/lcd/bsp_lcd.c ****   {
 3371              		.loc 1 813 0
 3372 0018 05E0     		b	.L225
 3373              	.LVL321:
 3374              	.L231:
 833:User/lcd/bsp_lcd.c ****     }
 3375              		.loc 1 833 0
 3376 001a 03EB8903 		add	r3, r3, r9, lsl #2
 3377 001e 0633     		adds	r3, r3, #6
 3378 0020 0293     		str	r3, [sp, #8]
 3379              	.LVL322:
 3380              	.L227:
 840:User/lcd/bsp_lcd.c ****   }
 3381              		.loc 1 840 0
 3382 0022 09F10109 		add	r9, r9, #1
 3383              	.LVL323:
 3384              	.L225:
 813:User/lcd/bsp_lcd.c ****   {
 3385              		.loc 1 813 0
 3386 0026 019B     		ldr	r3, [sp, #4]
 3387 0028 9945     		cmp	r9, r3
 3388 002a 77D8     		bhi	.L230
 815:User/lcd/bsp_lcd.c **** 
 3389              		.loc 1 815 0
 3390 002c 1FFA89F4 		uxth	r4, r9
 3391 0030 04EB0A03 		add	r3, r4, r10
 3392 0034 9BB2     		uxth	r3, r3
 3393 0036 1846     		mov	r0, r3
 3394 0038 BDF80450 		ldrh	r5, [sp, #4]
 3395 003c ABEB0508 		sub	r8, fp, r5
 3396 0040 1FFA88F8 		uxth	r8, r8
 3397 0044 374E     		ldr	r6, .L232
 3398 0046 384F     		ldr	r7, .L232+4
 3399 0048 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccYQ2vhW.s 			page 90


 3400 004a 03EB4303 		add	r3, r3, r3, lsl #1
 3401 004e 9A00     		lsls	r2, r3, #2
 3402 0050 B258     		ldr	r2, [r6, r2]
 3403 0052 4146     		mov	r1, r8
 3404 0054 0390     		str	r0, [sp, #12]
 3405 0056 FFF7FEFF 		bl	LCD_DrawPixel
 3406              	.LVL324:
 817:User/lcd/bsp_lcd.c **** 
 3407              		.loc 1 817 0
 3408 005a AAEB0403 		sub	r3, r10, r4
 3409 005e 9AB2     		uxth	r2, r3
 3410 0060 1046     		mov	r0, r2
 3411 0062 3B68     		ldr	r3, [r7]
 3412 0064 03EB4303 		add	r3, r3, r3, lsl #1
 3413 0068 9A00     		lsls	r2, r3, #2
 3414 006a B258     		ldr	r2, [r6, r2]
 3415 006c 4146     		mov	r1, r8
 3416 006e 0490     		str	r0, [sp, #16]
 3417 0070 FFF7FEFF 		bl	LCD_DrawPixel
 3418              	.LVL325:
 819:User/lcd/bsp_lcd.c **** 
 3419              		.loc 1 819 0
 3420 0074 0AEB0503 		add	r3, r10, r5
 3421 0078 99B2     		uxth	r1, r3
 3422 007a 0846     		mov	r0, r1
 3423 007c ABEB0408 		sub	r8, fp, r4
 3424 0080 1FFA88F8 		uxth	r8, r8
 3425 0084 3B68     		ldr	r3, [r7]
 3426 0086 03EB4303 		add	r3, r3, r3, lsl #1
 3427 008a 9A00     		lsls	r2, r3, #2
 3428 008c B258     		ldr	r2, [r6, r2]
 3429 008e 4146     		mov	r1, r8
 3430 0090 0590     		str	r0, [sp, #20]
 3431 0092 FFF7FEFF 		bl	LCD_DrawPixel
 3432              	.LVL326:
 821:User/lcd/bsp_lcd.c **** 
 3433              		.loc 1 821 0
 3434 0096 AAEB0503 		sub	r3, r10, r5
 3435 009a 9BB2     		uxth	r3, r3
 3436 009c 1846     		mov	r0, r3
 3437 009e 3B68     		ldr	r3, [r7]
 3438 00a0 03EB4303 		add	r3, r3, r3, lsl #1
 3439 00a4 9A00     		lsls	r2, r3, #2
 3440 00a6 B258     		ldr	r2, [r6, r2]
 3441 00a8 4146     		mov	r1, r8
 3442 00aa 8046     		mov	r8, r0
 3443 00ac FFF7FEFF 		bl	LCD_DrawPixel
 3444              	.LVL327:
 823:User/lcd/bsp_lcd.c **** 
 3445              		.loc 1 823 0
 3446 00b0 5D44     		add	r5, r5, fp
 3447 00b2 ADB2     		uxth	r5, r5
 3448 00b4 3B68     		ldr	r3, [r7]
 3449 00b6 03EB4303 		add	r3, r3, r3, lsl #1
 3450 00ba 9A00     		lsls	r2, r3, #2
 3451 00bc B258     		ldr	r2, [r6, r2]
 3452 00be 2946     		mov	r1, r5
ARM GAS  /tmp/ccYQ2vhW.s 			page 91


 3453 00c0 0398     		ldr	r0, [sp, #12]
 3454 00c2 FFF7FEFF 		bl	LCD_DrawPixel
 3455              	.LVL328:
 825:User/lcd/bsp_lcd.c **** 
 3456              		.loc 1 825 0
 3457 00c6 3B68     		ldr	r3, [r7]
 3458 00c8 03EB4303 		add	r3, r3, r3, lsl #1
 3459 00cc 9A00     		lsls	r2, r3, #2
 3460 00ce B258     		ldr	r2, [r6, r2]
 3461 00d0 2946     		mov	r1, r5
 3462 00d2 0498     		ldr	r0, [sp, #16]
 3463 00d4 FFF7FEFF 		bl	LCD_DrawPixel
 3464              	.LVL329:
 827:User/lcd/bsp_lcd.c **** 
 3465              		.loc 1 827 0
 3466 00d8 5C44     		add	r4, r4, fp
 3467 00da A4B2     		uxth	r4, r4
 3468 00dc 3B68     		ldr	r3, [r7]
 3469 00de 03EB4303 		add	r3, r3, r3, lsl #1
 3470 00e2 9A00     		lsls	r2, r3, #2
 3471 00e4 B258     		ldr	r2, [r6, r2]
 3472 00e6 2146     		mov	r1, r4
 3473 00e8 0598     		ldr	r0, [sp, #20]
 3474 00ea FFF7FEFF 		bl	LCD_DrawPixel
 3475              	.LVL330:
 829:User/lcd/bsp_lcd.c **** 
 3476              		.loc 1 829 0
 3477 00ee 3B68     		ldr	r3, [r7]
 3478 00f0 03EB4303 		add	r3, r3, r3, lsl #1
 3479 00f4 9A00     		lsls	r2, r3, #2
 3480 00f6 B258     		ldr	r2, [r6, r2]
 3481 00f8 2146     		mov	r1, r4
 3482 00fa 4046     		mov	r0, r8
 3483 00fc FFF7FEFF 		bl	LCD_DrawPixel
 3484              	.LVL331:
 831:User/lcd/bsp_lcd.c ****     {
 3485              		.loc 1 831 0
 3486 0100 029B     		ldr	r3, [sp, #8]
 3487 0102 002B     		cmp	r3, #0
 3488 0104 89DB     		blt	.L231
 837:User/lcd/bsp_lcd.c ****       current_y--;
 3489              		.loc 1 837 0
 3490 0106 019A     		ldr	r2, [sp, #4]
 3491 0108 A9EB0203 		sub	r3, r9, r2
 3492 010c 0299     		ldr	r1, [sp, #8]
 3493 010e 01EB8303 		add	r3, r1, r3, lsl #2
 3494 0112 0A33     		adds	r3, r3, #10
 3495 0114 0293     		str	r3, [sp, #8]
 3496              	.LVL332:
 838:User/lcd/bsp_lcd.c ****     }
 3497              		.loc 1 838 0
 3498 0116 531E     		subs	r3, r2, #1
 3499              	.LVL333:
 3500 0118 0193     		str	r3, [sp, #4]
 3501              	.LVL334:
 3502 011a 82E7     		b	.L227
 3503              	.L230:
ARM GAS  /tmp/ccYQ2vhW.s 			page 92


 842:User/lcd/bsp_lcd.c **** 
 3504              		.loc 1 842 0
 3505 011c 07B0     		add	sp, sp, #28
 3506              	.LCFI52:
 3507              		.cfi_def_cfa_offset 36
 3508              		@ sp needed
 3509 011e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3510              	.LVL335:
 3511              	.L233:
 3512 0122 00BF     		.align	2
 3513              	.L232:
 3514 0124 00000000 		.word	.LANCHOR4
 3515 0128 00000000 		.word	.LANCHOR2
 3516              		.cfi_endproc
 3517              	.LFE172:
 3519              		.section	.text.LCD_DrawEllipse,"ax",%progbits
 3520              		.align	1
 3521              		.global	LCD_DrawEllipse
 3522              		.syntax unified
 3523              		.thumb
 3524              		.thumb_func
 3525              		.fpu fpv5-d16
 3527              	LCD_DrawEllipse:
 3528              	.LFB174:
 879:User/lcd/bsp_lcd.c ****   int x = 0, y = -YRadius, err = 2 - 2 * XRadius, e2;
 3529              		.loc 1 879 0
 3530              		.cfi_startproc
 3531              		@ args = 0, pretend = 0, frame = 24
 3532              		@ frame_needed = 0, uses_anonymous_args = 0
 3533              	.LVL336:
 3534 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3535              	.LCFI53:
 3536              		.cfi_def_cfa_offset 36
 3537              		.cfi_offset 4, -36
 3538              		.cfi_offset 5, -32
 3539              		.cfi_offset 6, -28
 3540              		.cfi_offset 7, -24
 3541              		.cfi_offset 8, -20
 3542              		.cfi_offset 9, -16
 3543              		.cfi_offset 10, -12
 3544              		.cfi_offset 11, -8
 3545              		.cfi_offset 14, -4
 3546 0004 2DED028B 		vpush.64	{d8}
 3547              	.LCFI54:
 3548              		.cfi_def_cfa_offset 44
 3549              		.cfi_offset 80, -44
 3550              		.cfi_offset 81, -40
 3551 0008 87B0     		sub	sp, sp, #28
 3552              	.LCFI55:
 3553              		.cfi_def_cfa_offset 72
 3554 000a 0490     		str	r0, [sp, #16]
 3555 000c 0591     		str	r1, [sp, #20]
 3556              	.LVL337:
 880:User/lcd/bsp_lcd.c ****   float k = 0, rad1 = 0, rad2 = 0;
 3557              		.loc 1 880 0
 3558 000e C3F10008 		rsb	r8, r3, #0
 3559              	.LVL338:
ARM GAS  /tmp/ccYQ2vhW.s 			page 93


 3560 0012 C2F10101 		rsb	r1, r2, #1
 3561              	.LVL339:
 3562 0016 4FEA410B 		lsl	fp, r1, #1
 3563              	.LVL340:
 883:User/lcd/bsp_lcd.c ****   rad2 = YRadius;
 3564              		.loc 1 883 0
 3565 001a 07EE902A 		vmov	s15, r2	@ int
 3566 001e F8EEE77A 		vcvt.f32.s32	s15, s15
 3567              	.LVL341:
 884:User/lcd/bsp_lcd.c **** 
 3568              		.loc 1 884 0
 3569 0022 07EE103A 		vmov	s14, r3	@ int
 3570 0026 B8EEC77A 		vcvt.f32.s32	s14, s14
 3571              	.LVL342:
 886:User/lcd/bsp_lcd.c **** 
 3572              		.loc 1 886 0
 3573 002a 87EE278A 		vdiv.f32	s16, s14, s15
 3574              	.LVL343:
 880:User/lcd/bsp_lcd.c ****   float k = 0, rad1 = 0, rad2 = 0;
 3575              		.loc 1 880 0
 3576 002e 0023     		movs	r3, #0
 3577              	.LVL344:
 3578 0030 9946     		mov	r9, r3
 3579 0032 0CE0     		b	.L237
 3580              	.LVL345:
 3581              	.L238:
 3582 0034 5B46     		mov	r3, fp
 3583              	.LVL346:
 3584              	.L235:
 902:User/lcd/bsp_lcd.c ****       err += ++y * 2 + 1;
 3585              		.loc 1 902 0
 3586 0036 D845     		cmp	r8, fp
 3587 0038 5FDA     		bge	.L240
 903:User/lcd/bsp_lcd.c ****   } while (y <= 0);
 3588              		.loc 1 903 0
 3589 003a 08F10108 		add	r8, r8, #1
 3590              	.LVL347:
 3591 003e 4FEA480B 		lsl	fp, r8, #1
 3592              	.LVL348:
 3593 0042 0BF1010B 		add	fp, fp, #1
 3594 0046 9B44     		add	fp, fp, r3
 3595              	.LVL349:
 3596              	.L236:
 904:User/lcd/bsp_lcd.c **** }
 3597              		.loc 1 904 0
 3598 0048 B8F1000F 		cmp	r8, #0
 3599 004c 57DC     		bgt	.L242
 3600              	.LVL350:
 3601              	.L237:
 890:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos + (uint16_t)(x / k)), (Ypos + y), DrawProp[ActiveLayer].TextColor);
 3602              		.loc 1 890 0
 3603 004e BDF81040 		ldrh	r4, [sp, #16]
 3604 0052 07EE909A 		vmov	s15, r9	@ int
 3605 0056 B8EEE77A 		vcvt.f32.s32	s14, s15
 3606 005a C7EE087A 		vdiv.f32	s15, s14, s16
 3607 005e FCEEE77A 		vcvt.u32.f32	s15, s15
 3608 0062 CDED017A 		vstr.32	s15, [sp, #4]	@ int
ARM GAS  /tmp/ccYQ2vhW.s 			page 94


 3609 0066 BDF80470 		ldrh	r7, [sp, #4]
 3610 006a E31B     		subs	r3, r4, r7
 3611 006c 9BB2     		uxth	r3, r3
 3612 006e 1846     		mov	r0, r3
 3613 0070 BDF81430 		ldrh	r3, [sp, #20]
 3614 0074 1FFA88FA 		uxth	r10, r8
 3615 0078 0293     		str	r3, [sp, #8]
 3616 007a 5344     		add	r3, r3, r10
 3617 007c 9AB2     		uxth	r2, r3
 3618 007e 1146     		mov	r1, r2
 3619 0080 214D     		ldr	r5, .L243
 3620 0082 224E     		ldr	r6, .L243+4
 3621 0084 3368     		ldr	r3, [r6]
 3622 0086 03EB4303 		add	r3, r3, r3, lsl #1
 3623 008a 9A00     		lsls	r2, r3, #2
 3624 008c AA58     		ldr	r2, [r5, r2]
 3625 008e 0391     		str	r1, [sp, #12]
 3626 0090 0190     		str	r0, [sp, #4]
 3627 0092 FFF7FEFF 		bl	LCD_DrawPixel
 3628              	.LVL351:
 891:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos + (uint16_t)(x / k)), (Ypos - y), DrawProp[ActiveLayer].TextColor);
 3629              		.loc 1 891 0
 3630 0096 3C44     		add	r4, r4, r7
 3631 0098 A4B2     		uxth	r4, r4
 3632 009a 3368     		ldr	r3, [r6]
 3633 009c 03EB4303 		add	r3, r3, r3, lsl #1
 3634 00a0 9A00     		lsls	r2, r3, #2
 3635 00a2 AA58     		ldr	r2, [r5, r2]
 3636 00a4 0399     		ldr	r1, [sp, #12]
 3637 00a6 2046     		mov	r0, r4
 3638 00a8 FFF7FEFF 		bl	LCD_DrawPixel
 3639              	.LVL352:
 892:User/lcd/bsp_lcd.c ****     LCD_DrawPixel((Xpos - (uint16_t)(x / k)), (Ypos - y), DrawProp[ActiveLayer].TextColor);
 3640              		.loc 1 892 0
 3641 00ac 029B     		ldr	r3, [sp, #8]
 3642 00ae A3EB0A0A 		sub	r10, r3, r10
 3643 00b2 1FFA8AFA 		uxth	r10, r10
 3644 00b6 3368     		ldr	r3, [r6]
 3645 00b8 03EB4303 		add	r3, r3, r3, lsl #1
 3646 00bc 9A00     		lsls	r2, r3, #2
 3647 00be AA58     		ldr	r2, [r5, r2]
 3648 00c0 5146     		mov	r1, r10
 3649 00c2 2046     		mov	r0, r4
 3650 00c4 FFF7FEFF 		bl	LCD_DrawPixel
 3651              	.LVL353:
 893:User/lcd/bsp_lcd.c **** 
 3652              		.loc 1 893 0
 3653 00c8 3368     		ldr	r3, [r6]
 3654 00ca 03EB4303 		add	r3, r3, r3, lsl #1
 3655 00ce 9A00     		lsls	r2, r3, #2
 3656 00d0 AA58     		ldr	r2, [r5, r2]
 3657 00d2 5146     		mov	r1, r10
 3658 00d4 0198     		ldr	r0, [sp, #4]
 3659 00d6 FFF7FEFF 		bl	LCD_DrawPixel
 3660              	.LVL354:
 896:User/lcd/bsp_lcd.c ****     {
 3661              		.loc 1 896 0
ARM GAS  /tmp/ccYQ2vhW.s 			page 95


 3662 00da D945     		cmp	r9, fp
 3663 00dc AADB     		blt	.L238
 898:User/lcd/bsp_lcd.c ****       if (-y == x && e2 <= y)
 3664              		.loc 1 898 0
 3665 00de 09F10109 		add	r9, r9, #1
 3666              	.LVL355:
 3667 00e2 4FEA4903 		lsl	r3, r9, #1
 3668 00e6 0133     		adds	r3, r3, #1
 3669 00e8 5B44     		add	r3, r3, fp
 3670              	.LVL356:
 899:User/lcd/bsp_lcd.c ****         e2 = 0;
 3671              		.loc 1 899 0
 3672 00ea 19EB080F 		cmn	r9, r8
 3673 00ee A2D1     		bne	.L235
 899:User/lcd/bsp_lcd.c ****         e2 = 0;
 3674              		.loc 1 899 0 is_stmt 0 discriminator 1
 3675 00f0 D845     		cmp	r8, fp
 3676 00f2 A0DB     		blt	.L235
 900:User/lcd/bsp_lcd.c ****     }
 3677              		.loc 1 900 0 is_stmt 1
 3678 00f4 4FF0000B 		mov	fp, #0
 3679              	.LVL357:
 3680 00f8 9DE7     		b	.L235
 3681              	.LVL358:
 3682              	.L240:
 3683 00fa 9B46     		mov	fp, r3
 3684              	.LVL359:
 3685 00fc A4E7     		b	.L236
 3686              	.LVL360:
 3687              	.L242:
 905:User/lcd/bsp_lcd.c **** 
 3688              		.loc 1 905 0
 3689 00fe 07B0     		add	sp, sp, #28
 3690              	.LCFI56:
 3691              		.cfi_def_cfa_offset 44
 3692              		@ sp needed
 3693 0100 BDEC028B 		vldm	sp!, {d8}
 3694              	.LCFI57:
 3695              		.cfi_restore 80
 3696              		.cfi_restore 81
 3697              		.cfi_def_cfa_offset 36
 3698              	.LVL361:
 3699 0104 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3700              	.LVL362:
 3701              	.L244:
 3702              		.align	2
 3703              	.L243:
 3704 0108 00000000 		.word	.LANCHOR4
 3705 010c 00000000 		.word	.LANCHOR2
 3706              		.cfi_endproc
 3707              	.LFE174:
 3709              		.section	.text.LCD_DrawBitmap,"ax",%progbits
 3710              		.align	1
 3711              		.global	LCD_DrawBitmap
 3712              		.syntax unified
 3713              		.thumb
 3714              		.thumb_func
ARM GAS  /tmp/ccYQ2vhW.s 			page 96


 3715              		.fpu fpv5-d16
 3717              	LCD_DrawBitmap:
 3718              	.LFB176:
 953:User/lcd/bsp_lcd.c ****   uint32_t index = 0, width = 0, height = 0, bit_pixel = 0;
 3719              		.loc 1 953 0
 3720              		.cfi_startproc
 3721              		@ args = 0, pretend = 0, frame = 0
 3722              		@ frame_needed = 0, uses_anonymous_args = 0
 3723              	.LVL363:
 3724 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3725              	.LCFI58:
 3726              		.cfi_def_cfa_offset 40
 3727              		.cfi_offset 3, -40
 3728              		.cfi_offset 4, -36
 3729              		.cfi_offset 5, -32
 3730              		.cfi_offset 6, -28
 3731              		.cfi_offset 7, -24
 3732              		.cfi_offset 8, -20
 3733              		.cfi_offset 9, -16
 3734              		.cfi_offset 10, -12
 3735              		.cfi_offset 11, -8
 3736              		.cfi_offset 14, -4
 3737 0004 8346     		mov	fp, r0
 3738 0006 8A46     		mov	r10, r1
 3739 0008 1446     		mov	r4, r2
 3740              	.LVL364:
 959:User/lcd/bsp_lcd.c ****   index |= (*(__IO uint16_t *)(pbmp + 12)) << 16;
 3741              		.loc 1 959 0
 3742 000a 5389     		ldrh	r3, [r2, #10]
 3743 000c 9BB2     		uxth	r3, r3
 3744              	.LVL365:
 960:User/lcd/bsp_lcd.c **** 
 3745              		.loc 1 960 0
 3746 000e 9689     		ldrh	r6, [r2, #12]
 3747 0010 43EA0646 		orr	r6, r3, r6, lsl #16
 3748              	.LVL366:
 963:User/lcd/bsp_lcd.c ****   width |= (*(uint16_t *)(pbmp + 20)) << 16;
 3749              		.loc 1 963 0
 3750 0014 578A     		ldrh	r7, [r2, #18]
 3751              	.LVL367:
 964:User/lcd/bsp_lcd.c **** 
 3752              		.loc 1 964 0
 3753 0016 938A     		ldrh	r3, [r2, #20]
 3754 0018 47EA0347 		orr	r7, r7, r3, lsl #16
 3755              	.LVL368:
 967:User/lcd/bsp_lcd.c ****   height |= (*(uint16_t *)(pbmp + 24)) << 16;
 3756              		.loc 1 967 0
 3757 001c B2F81690 		ldrh	r9, [r2, #22]
 3758              	.LVL369:
 968:User/lcd/bsp_lcd.c **** 
 3759              		.loc 1 968 0
 3760 0020 138B     		ldrh	r3, [r2, #24]
 3761 0022 49EA0349 		orr	r9, r9, r3, lsl #16
 3762              	.LVL370:
 971:User/lcd/bsp_lcd.c **** 
 3763              		.loc 1 971 0
 3764 0026 B2F81C80 		ldrh	r8, [r2, #28]
ARM GAS  /tmp/ccYQ2vhW.s 			page 97


 3765              	.LVL371:
 974:User/lcd/bsp_lcd.c **** 
 3766              		.loc 1 974 0
 3767 002a 1C4B     		ldr	r3, .L252
 3768 002c 1B68     		ldr	r3, [r3]
 3769 002e 3421     		movs	r1, #52
 3770              	.LVL372:
 3771 0030 1B4A     		ldr	r2, .L252+4
 3772              	.LVL373:
 3773 0032 01FB0323 		mla	r3, r1, r3, r2
 3774 0036 DD6D     		ldr	r5, [r3, #92]
 3775 0038 FFF7FEFF 		bl	LCD_GetXSize
 3776              	.LVL374:
 3777 003c 0AFB00B0 		mla	r0, r10, r0, fp
 3778 0040 05EB8005 		add	r5, r5, r0, lsl #2
 3779              	.LVL375:
 977:User/lcd/bsp_lcd.c ****   {
 3780              		.loc 1 977 0
 3781 0044 A8F12003 		sub	r3, r8, #32
 3782 0048 072B     		cmp	r3, #7
 3783 004a 06D9     		bls	.L249
 981:User/lcd/bsp_lcd.c ****   {
 3784              		.loc 1 981 0
 3785 004c A8F11003 		sub	r3, r8, #16
 3786 0050 072B     		cmp	r3, #7
 3787 0052 0FD8     		bhi	.L250
 983:User/lcd/bsp_lcd.c ****   }
 3788              		.loc 1 983 0
 3789 0054 4FF0020A 		mov	r10, #2
 3790              	.LVL376:
 3791 0058 01E0     		b	.L246
 3792              	.LVL377:
 3793              	.L249:
 979:User/lcd/bsp_lcd.c ****   }
 3794              		.loc 1 979 0
 3795 005a 4FF0000A 		mov	r10, #0
 3796              	.LVL378:
 3797              	.L246:
 991:User/lcd/bsp_lcd.c **** 
 3798              		.loc 1 991 0
 3799 005e 09F1FF33 		add	r3, r9, #-1
 3800 0062 03FB07F3 		mul	r3, r3, r7
 3801 0066 4FEAD808 		lsr	r8, r8, #3
 3802              	.LVL379:
 3803 006a 08FB0363 		mla	r3, r8, r3, r6
 3804 006e 1C44     		add	r4, r4, r3
 3805              	.LVL380:
 994:User/lcd/bsp_lcd.c ****   {
 3806              		.loc 1 994 0
 3807 0070 0026     		movs	r6, #0
 3808 0072 0FE0     		b	.L247
 3809              	.LVL381:
 3810              	.L250:
 987:User/lcd/bsp_lcd.c ****   }
 3811              		.loc 1 987 0
 3812 0074 4FF0010A 		mov	r10, #1
 3813              	.LVL382:
ARM GAS  /tmp/ccYQ2vhW.s 			page 98


 3814 0078 F1E7     		b	.L246
 3815              	.LVL383:
 3816              	.L248:
 997:User/lcd/bsp_lcd.c **** 
 3817              		.loc 1 997 0 discriminator 3
 3818 007a 5346     		mov	r3, r10
 3819 007c 3A46     		mov	r2, r7
 3820 007e 2946     		mov	r1, r5
 3821 0080 2046     		mov	r0, r4
 3822 0082 FFF7FEFF 		bl	LL_ConvertLineToARGB8888
 3823              	.LVL384:
1000:User/lcd/bsp_lcd.c ****     pbmp -= width * (bit_pixel / 8);
 3824              		.loc 1 1000 0 discriminator 3
 3825 0086 FFF7FEFF 		bl	LCD_GetXSize
 3826              	.LVL385:
 3827 008a 05EB8005 		add	r5, r5, r0, lsl #2
 3828              	.LVL386:
1001:User/lcd/bsp_lcd.c ****   }
 3829              		.loc 1 1001 0 discriminator 3
 3830 008e 08FB1744 		mls	r4, r8, r7, r4
 3831              	.LVL387:
 994:User/lcd/bsp_lcd.c ****   {
 3832              		.loc 1 994 0 discriminator 3
 3833 0092 0136     		adds	r6, r6, #1
 3834              	.LVL388:
 3835              	.L247:
 994:User/lcd/bsp_lcd.c ****   {
 3836              		.loc 1 994 0 is_stmt 0 discriminator 1
 3837 0094 4E45     		cmp	r6, r9
 3838 0096 F0D3     		bcc	.L248
1003:User/lcd/bsp_lcd.c **** 
 3839              		.loc 1 1003 0 is_stmt 1
 3840 0098 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3841              	.LVL389:
 3842              	.L253:
 3843              		.align	2
 3844              	.L252:
 3845 009c 00000000 		.word	.LANCHOR2
 3846 00a0 00000000 		.word	.LANCHOR1
 3847              		.cfi_endproc
 3848              	.LFE176:
 3850              		.section	.text.LCD_FillRect,"ax",%progbits
 3851              		.align	1
 3852              		.global	LCD_FillRect
 3853              		.syntax unified
 3854              		.thumb
 3855              		.thumb_func
 3856              		.fpu fpv5-d16
 3858              	LCD_FillRect:
 3859              	.LFB177:
1014:User/lcd/bsp_lcd.c ****   uint32_t x_address = 0;
 3860              		.loc 1 1014 0
 3861              		.cfi_startproc
 3862              		@ args = 0, pretend = 0, frame = 0
 3863              		@ frame_needed = 0, uses_anonymous_args = 0
 3864              	.LVL390:
 3865 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
ARM GAS  /tmp/ccYQ2vhW.s 			page 99


 3866              	.LCFI59:
 3867              		.cfi_def_cfa_offset 28
 3868              		.cfi_offset 4, -28
 3869              		.cfi_offset 5, -24
 3870              		.cfi_offset 6, -20
 3871              		.cfi_offset 7, -16
 3872              		.cfi_offset 8, -12
 3873              		.cfi_offset 9, -8
 3874              		.cfi_offset 14, -4
 3875 0004 83B0     		sub	sp, sp, #12
 3876              	.LCFI60:
 3877              		.cfi_def_cfa_offset 40
 3878 0006 0546     		mov	r5, r0
 3879 0008 0F46     		mov	r7, r1
 3880 000a 1646     		mov	r6, r2
 3881 000c 9846     		mov	r8, r3
 3882              	.LVL391:
1018:User/lcd/bsp_lcd.c **** 
 3883              		.loc 1 1018 0
 3884 000e 2F4C     		ldr	r4, .L263
 3885 0010 2368     		ldr	r3, [r4]
 3886              	.LVL392:
 3887 0012 03EB4303 		add	r3, r3, r3, lsl #1
 3888 0016 9A00     		lsls	r2, r3, #2
 3889              	.LVL393:
 3890 0018 2D4B     		ldr	r3, .L263+4
 3891 001a 9858     		ldr	r0, [r3, r2]
 3892              	.LVL394:
 3893 001c FFF7FEFF 		bl	LCD_SetTextColor
 3894              	.LVL395:
1021:User/lcd/bsp_lcd.c ****   {
 3895              		.loc 1 1021 0
 3896 0020 2468     		ldr	r4, [r4]
 3897 0022 3423     		movs	r3, #52
 3898 0024 2B4A     		ldr	r2, .L263+8
 3899 0026 03FB0423 		mla	r3, r3, r4, r2
 3900 002a 9B6C     		ldr	r3, [r3, #72]
 3901 002c A3B1     		cbz	r3, .L261
1025:User/lcd/bsp_lcd.c ****   {
 3902              		.loc 1 1025 0
 3903 002e 012B     		cmp	r3, #1
 3904 0030 30D0     		beq	.L262
1029:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_ARGB4444) ||
 3905              		.loc 1 1029 0
 3906 0032 042B     		cmp	r3, #4
 3907 0034 18BF     		it	ne
 3908 0036 022B     		cmpne	r3, #2
 3909 0038 3AD0     		beq	.L258
1030:User/lcd/bsp_lcd.c ****            (Ltdc_Handler.LayerCfg[ActiveLayer].PixelFormat == LTDC_PIXEL_FORMAT_AL88))
 3910              		.loc 1 1030 0
 3911 003a 072B     		cmp	r3, #7
 3912 003c 38D0     		beq	.L258
1037:User/lcd/bsp_lcd.c ****   }
 3913              		.loc 1 1037 0
 3914 003e 3423     		movs	r3, #52
 3915 0040 244A     		ldr	r2, .L263+8
 3916 0042 03FB0423 		mla	r3, r3, r4, r2
ARM GAS  /tmp/ccYQ2vhW.s 			page 100


 3917 0046 D3F85C90 		ldr	r9, [r3, #92]
 3918 004a FFF7FEFF 		bl	LCD_GetXSize
 3919              	.LVL396:
 3920 004e 00FB0750 		mla	r0, r0, r7, r5
 3921 0052 09EB4009 		add	r9, r9, r0, lsl #1
 3922              	.LVL397:
 3923 0056 0AE0     		b	.L256
 3924              	.LVL398:
 3925              	.L261:
1023:User/lcd/bsp_lcd.c ****   }
 3926              		.loc 1 1023 0
 3927 0058 3423     		movs	r3, #52
 3928 005a 03FB0423 		mla	r3, r3, r4, r2
 3929 005e D3F85C90 		ldr	r9, [r3, #92]
 3930 0062 FFF7FEFF 		bl	LCD_GetXSize
 3931              	.LVL399:
 3932 0066 00FB0750 		mla	r0, r0, r7, r5
 3933 006a 09EB8009 		add	r9, r9, r0, lsl #2
 3934              	.LVL400:
 3935              	.L256:
1040:User/lcd/bsp_lcd.c ****                 DrawProp[ActiveLayer].TextColor);
 3936              		.loc 1 1040 0
 3937 006e FFF7FEFF 		bl	LCD_GetXSize
 3938              	.LVL401:
 3939 0072 04EB4402 		add	r2, r4, r4, lsl #1
 3940 0076 9300     		lsls	r3, r2, #2
 3941 0078 154A     		ldr	r2, .L263+4
 3942 007a D358     		ldr	r3, [r2, r3]
 3943 007c 0193     		str	r3, [sp, #4]
 3944 007e 801B     		subs	r0, r0, r6
 3945 0080 0090     		str	r0, [sp]
 3946 0082 4346     		mov	r3, r8
 3947 0084 3246     		mov	r2, r6
 3948 0086 4946     		mov	r1, r9
 3949 0088 2046     		mov	r0, r4
 3950 008a FFF7FEFF 		bl	LL_FillBuffer
 3951              	.LVL402:
1042:User/lcd/bsp_lcd.c **** 
 3952              		.loc 1 1042 0
 3953 008e 03B0     		add	sp, sp, #12
 3954              	.LCFI61:
 3955              		.cfi_remember_state
 3956              		.cfi_def_cfa_offset 28
 3957              		@ sp needed
 3958 0090 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3959              	.LVL403:
 3960              	.L262:
 3961              	.LCFI62:
 3962              		.cfi_restore_state
1027:User/lcd/bsp_lcd.c ****   }
 3963              		.loc 1 1027 0
 3964 0094 3423     		movs	r3, #52
 3965 0096 0F4A     		ldr	r2, .L263+8
 3966 0098 03FB0423 		mla	r3, r3, r4, r2
 3967 009c D3F85C90 		ldr	r9, [r3, #92]
 3968 00a0 FFF7FEFF 		bl	LCD_GetXSize
 3969              	.LVL404:
ARM GAS  /tmp/ccYQ2vhW.s 			page 101


 3970 00a4 00FB0750 		mla	r0, r0, r7, r5
 3971 00a8 00EB4000 		add	r0, r0, r0, lsl #1
 3972 00ac 8144     		add	r9, r9, r0
 3973              	.LVL405:
 3974 00ae DEE7     		b	.L256
 3975              	.LVL406:
 3976              	.L258:
1033:User/lcd/bsp_lcd.c ****   }
 3977              		.loc 1 1033 0
 3978 00b0 3423     		movs	r3, #52
 3979 00b2 084A     		ldr	r2, .L263+8
 3980 00b4 03FB0423 		mla	r3, r3, r4, r2
 3981 00b8 D3F85C90 		ldr	r9, [r3, #92]
 3982 00bc FFF7FEFF 		bl	LCD_GetXSize
 3983              	.LVL407:
 3984 00c0 00FB0750 		mla	r0, r0, r7, r5
 3985 00c4 09EB4009 		add	r9, r9, r0, lsl #1
 3986              	.LVL408:
 3987 00c8 D1E7     		b	.L256
 3988              	.L264:
 3989 00ca 00BF     		.align	2
 3990              	.L263:
 3991 00cc 00000000 		.word	.LANCHOR2
 3992 00d0 00000000 		.word	.LANCHOR4
 3993 00d4 00000000 		.word	.LANCHOR1
 3994              		.cfi_endproc
 3995              	.LFE177:
 3997              		.section	.text.LCD_ClearLine,"ax",%progbits
 3998              		.align	1
 3999              		.global	LCD_ClearLine
 4000              		.syntax unified
 4001              		.thumb
 4002              		.thumb_func
 4003              		.fpu fpv5-d16
 4005              	LCD_ClearLine:
 4006              	.LFB164:
 537:User/lcd/bsp_lcd.c ****   uint32_t color_backup = DrawProp[ActiveLayer].TextColor;
 4007              		.loc 1 537 0
 4008              		.cfi_startproc
 4009              		@ args = 0, pretend = 0, frame = 0
 4010              		@ frame_needed = 0, uses_anonymous_args = 0
 4011              	.LVL409:
 4012 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4013              	.LCFI63:
 4014              		.cfi_def_cfa_offset 24
 4015              		.cfi_offset 4, -24
 4016              		.cfi_offset 5, -20
 4017              		.cfi_offset 6, -16
 4018              		.cfi_offset 7, -12
 4019              		.cfi_offset 8, -8
 4020              		.cfi_offset 14, -4
 538:User/lcd/bsp_lcd.c ****   DrawProp[ActiveLayer].TextColor = DrawProp[ActiveLayer].BackColor;
 4021              		.loc 1 538 0
 4022 0004 124E     		ldr	r6, .L267
 4023 0006 3168     		ldr	r1, [r6]
 4024 0008 124C     		ldr	r4, .L267+4
 4025 000a 4B00     		lsls	r3, r1, #1
ARM GAS  /tmp/ccYQ2vhW.s 			page 102


 4026 000c 5D18     		adds	r5, r3, r1
 4027 000e AA00     		lsls	r2, r5, #2
 4028 0010 A718     		adds	r7, r4, r2
 4029 0012 A558     		ldr	r5, [r4, r2]
 4030              	.LVL410:
 539:User/lcd/bsp_lcd.c **** 
 4031              		.loc 1 539 0
 4032 0014 7F68     		ldr	r7, [r7, #4]
 4033 0016 A750     		str	r7, [r4, r2]
 542:User/lcd/bsp_lcd.c **** 
 4034              		.loc 1 542 0
 4035 0018 2244     		add	r2, r2, r4
 4036 001a 9368     		ldr	r3, [r2, #8]
 4037 001c B3F80680 		ldrh	r8, [r3, #6]
 4038 0020 10FB08F0 		smulbb	r0, r0, r8
 4039              	.LVL411:
 4040 0024 87B2     		uxth	r7, r0
 4041 0026 FFF7FEFF 		bl	LCD_GetXSize
 4042              	.LVL412:
 4043 002a 4346     		mov	r3, r8
 4044 002c 82B2     		uxth	r2, r0
 4045 002e 3946     		mov	r1, r7
 4046 0030 0020     		movs	r0, #0
 4047 0032 FFF7FEFF 		bl	LCD_FillRect
 4048              	.LVL413:
 544:User/lcd/bsp_lcd.c ****   LCD_SetTextColor(DrawProp[ActiveLayer].TextColor);
 4049              		.loc 1 544 0
 4050 0036 3368     		ldr	r3, [r6]
 4051 0038 03EB4303 		add	r3, r3, r3, lsl #1
 4052 003c 9A00     		lsls	r2, r3, #2
 4053 003e A550     		str	r5, [r4, r2]
 545:User/lcd/bsp_lcd.c ****   HAL_Delay(1);
 4054              		.loc 1 545 0
 4055 0040 2846     		mov	r0, r5
 4056 0042 FFF7FEFF 		bl	LCD_SetTextColor
 4057              	.LVL414:
 546:User/lcd/bsp_lcd.c **** }
 4058              		.loc 1 546 0
 4059 0046 0120     		movs	r0, #1
 4060 0048 FFF7FEFF 		bl	HAL_Delay
 4061              	.LVL415:
 4062 004c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4063              	.LVL416:
 4064              	.L268:
 4065              		.align	2
 4066              	.L267:
 4067 0050 00000000 		.word	.LANCHOR2
 4068 0054 00000000 		.word	.LANCHOR4
 4069              		.cfi_endproc
 4070              	.LFE164:
 4072              		.section	.text.LCD_FillCircle,"ax",%progbits
 4073              		.align	1
 4074              		.global	LCD_FillCircle
 4075              		.syntax unified
 4076              		.thumb
 4077              		.thumb_func
 4078              		.fpu fpv5-d16
ARM GAS  /tmp/ccYQ2vhW.s 			page 103


 4080              	LCD_FillCircle:
 4081              	.LFB178:
1052:User/lcd/bsp_lcd.c ****   int32_t decision;   /* 决策变量 */
 4082              		.loc 1 1052 0
 4083              		.cfi_startproc
 4084              		@ args = 0, pretend = 0, frame = 8
 4085              		@ frame_needed = 0, uses_anonymous_args = 0
 4086              	.LVL417:
 4087 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4088              	.LCFI64:
 4089              		.cfi_def_cfa_offset 36
 4090              		.cfi_offset 4, -36
 4091              		.cfi_offset 5, -32
 4092              		.cfi_offset 6, -28
 4093              		.cfi_offset 7, -24
 4094              		.cfi_offset 8, -20
 4095              		.cfi_offset 9, -16
 4096              		.cfi_offset 10, -12
 4097              		.cfi_offset 11, -8
 4098              		.cfi_offset 14, -4
 4099 0004 83B0     		sub	sp, sp, #12
 4100              	.LCFI65:
 4101              		.cfi_def_cfa_offset 48
 4102 0006 8246     		mov	r10, r0
 4103 0008 8946     		mov	r9, r1
 4104 000a 0192     		str	r2, [sp, #4]
1057:User/lcd/bsp_lcd.c **** 
 4105              		.loc 1 1057 0
 4106 000c 5600     		lsls	r6, r2, #1
 4107 000e C6F10306 		rsb	r6, r6, #3
 4108              	.LVL418:
1060:User/lcd/bsp_lcd.c **** 
 4109              		.loc 1 1060 0
 4110 0012 1546     		mov	r5, r2
 4111              	.LVL419:
1062:User/lcd/bsp_lcd.c **** 
 4112              		.loc 1 1062 0
 4113 0014 2E4B     		ldr	r3, .L280
 4114 0016 1B68     		ldr	r3, [r3]
 4115 0018 03EB4303 		add	r3, r3, r3, lsl #1
 4116 001c 9A00     		lsls	r2, r3, #2
 4117              	.LVL420:
 4118 001e 2D4B     		ldr	r3, .L280+4
 4119 0020 9858     		ldr	r0, [r3, r2]
 4120              	.LVL421:
 4121 0022 FFF7FEFF 		bl	LCD_SetTextColor
 4122              	.LVL422:
1059:User/lcd/bsp_lcd.c ****   current_y = Radius;
 4123              		.loc 1 1059 0
 4124 0026 0024     		movs	r4, #0
1064:User/lcd/bsp_lcd.c ****   {
 4125              		.loc 1 1064 0
 4126 0028 1FE0     		b	.L270
 4127              	.LVL423:
 4128              	.L279:
1068:User/lcd/bsp_lcd.c ****       LCD_DrawHLine(Xpos - current_y, Ypos - current_x, 2 * current_y);
 4129              		.loc 1 1068 0
ARM GAS  /tmp/ccYQ2vhW.s 			page 104


 4130 002a AFB2     		uxth	r7, r5
 4131 002c AAEB070B 		sub	fp, r10, r7
 4132 0030 1FFA8BFB 		uxth	fp, fp
 4133 0034 1FFA84F8 		uxth	r8, r4
 4134 0038 7F00     		lsls	r7, r7, #1
 4135 003a BFB2     		uxth	r7, r7
 4136 003c 08EB0901 		add	r1, r8, r9
 4137 0040 3A46     		mov	r2, r7
 4138 0042 89B2     		uxth	r1, r1
 4139 0044 5846     		mov	r0, fp
 4140 0046 FFF7FEFF 		bl	LCD_DrawHLine
 4141              	.LVL424:
1069:User/lcd/bsp_lcd.c ****     }
 4142              		.loc 1 1069 0
 4143 004a A9EB0801 		sub	r1, r9, r8
 4144 004e 3A46     		mov	r2, r7
 4145 0050 89B2     		uxth	r1, r1
 4146 0052 5846     		mov	r0, fp
 4147 0054 FFF7FEFF 		bl	LCD_DrawHLine
 4148              	.LVL425:
 4149 0058 0BE0     		b	.L271
 4150              	.L272:
1077:User/lcd/bsp_lcd.c ****     {
 4151              		.loc 1 1077 0
 4152 005a 002E     		cmp	r6, #0
 4153 005c 23DB     		blt	.L277
1083:User/lcd/bsp_lcd.c ****       current_y--;
 4154              		.loc 1 1083 0
 4155 005e 631B     		subs	r3, r4, r5
 4156 0060 06EB8306 		add	r6, r6, r3, lsl #2
 4157              	.LVL426:
 4158 0064 0A36     		adds	r6, r6, #10
 4159              	.LVL427:
1084:User/lcd/bsp_lcd.c ****     }
 4160              		.loc 1 1084 0
 4161 0066 013D     		subs	r5, r5, #1
 4162              	.LVL428:
 4163              	.L274:
1086:User/lcd/bsp_lcd.c ****   }
 4164              		.loc 1 1086 0
 4165 0068 0134     		adds	r4, r4, #1
 4166              	.LVL429:
 4167              	.L270:
1064:User/lcd/bsp_lcd.c ****   {
 4168              		.loc 1 1064 0
 4169 006a AC42     		cmp	r4, r5
 4170 006c 1FD8     		bhi	.L278
1066:User/lcd/bsp_lcd.c ****     {
 4171              		.loc 1 1066 0
 4172 006e 002D     		cmp	r5, #0
 4173 0070 DBD1     		bne	.L279
 4174              	.L271:
1072:User/lcd/bsp_lcd.c ****     {
 4175              		.loc 1 1072 0
 4176 0072 002C     		cmp	r4, #0
 4177 0074 F1D0     		beq	.L272
1074:User/lcd/bsp_lcd.c ****       LCD_DrawHLine(Xpos - current_x, Ypos + current_y, 2 * current_x);
ARM GAS  /tmp/ccYQ2vhW.s 			page 105


 4178              		.loc 1 1074 0
 4179 0076 A7B2     		uxth	r7, r4
 4180 0078 AAEB070B 		sub	fp, r10, r7
 4181 007c 1FFA8BFB 		uxth	fp, fp
 4182 0080 1FFA85F8 		uxth	r8, r5
 4183 0084 7F00     		lsls	r7, r7, #1
 4184 0086 BFB2     		uxth	r7, r7
 4185 0088 A9EB0801 		sub	r1, r9, r8
 4186 008c 3A46     		mov	r2, r7
 4187 008e 89B2     		uxth	r1, r1
 4188 0090 5846     		mov	r0, fp
 4189 0092 FFF7FEFF 		bl	LCD_DrawHLine
 4190              	.LVL430:
1075:User/lcd/bsp_lcd.c ****     }
 4191              		.loc 1 1075 0
 4192 0096 09EB0801 		add	r1, r9, r8
 4193 009a 3A46     		mov	r2, r7
 4194 009c 89B2     		uxth	r1, r1
 4195 009e 5846     		mov	r0, fp
 4196 00a0 FFF7FEFF 		bl	LCD_DrawHLine
 4197              	.LVL431:
 4198 00a4 D9E7     		b	.L272
 4199              	.L277:
1079:User/lcd/bsp_lcd.c ****     }
 4200              		.loc 1 1079 0
 4201 00a6 06EB8406 		add	r6, r6, r4, lsl #2
 4202              	.LVL432:
 4203 00aa 0636     		adds	r6, r6, #6
 4204              	.LVL433:
 4205 00ac DCE7     		b	.L274
 4206              	.L278:
1089:User/lcd/bsp_lcd.c ****   LCD_DrawCircle(Xpos, Ypos, Radius);
 4207              		.loc 1 1089 0
 4208 00ae 084B     		ldr	r3, .L280
 4209 00b0 1B68     		ldr	r3, [r3]
 4210 00b2 03EB4303 		add	r3, r3, r3, lsl #1
 4211 00b6 9A00     		lsls	r2, r3, #2
 4212 00b8 064B     		ldr	r3, .L280+4
 4213 00ba 9858     		ldr	r0, [r3, r2]
 4214 00bc FFF7FEFF 		bl	LCD_SetTextColor
 4215              	.LVL434:
1090:User/lcd/bsp_lcd.c **** }
 4216              		.loc 1 1090 0
 4217 00c0 019A     		ldr	r2, [sp, #4]
 4218 00c2 4946     		mov	r1, r9
 4219 00c4 5046     		mov	r0, r10
 4220 00c6 FFF7FEFF 		bl	LCD_DrawCircle
 4221              	.LVL435:
1091:User/lcd/bsp_lcd.c **** 
 4222              		.loc 1 1091 0
 4223 00ca 03B0     		add	sp, sp, #12
 4224              	.LCFI66:
 4225              		.cfi_def_cfa_offset 36
 4226              		@ sp needed
 4227 00cc BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4228              	.LVL436:
 4229              	.L281:
ARM GAS  /tmp/ccYQ2vhW.s 			page 106


 4230              		.align	2
 4231              	.L280:
 4232 00d0 00000000 		.word	.LANCHOR2
 4233 00d4 00000000 		.word	.LANCHOR4
 4234              		.cfi_endproc
 4235              	.LFE178:
 4237              		.section	.text.LCD_FillPolygon,"ax",%progbits
 4238              		.align	1
 4239              		.global	LCD_FillPolygon
 4240              		.syntax unified
 4241              		.thumb
 4242              		.thumb_func
 4243              		.fpu fpv5-d16
 4245              	LCD_FillPolygon:
 4246              	.LFB179:
1100:User/lcd/bsp_lcd.c ****   int16_t X = 0, Y = 0, X2 = 0, Y2 = 0, X_center = 0, Y_center = 0, X_first = 0, Y_first = 0, pixel
 4247              		.loc 1 1100 0
 4248              		.cfi_startproc
 4249              		@ args = 0, pretend = 0, frame = 24
 4250              		@ frame_needed = 0, uses_anonymous_args = 0
 4251              	.LVL437:
 4252 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4253              	.LCFI67:
 4254              		.cfi_def_cfa_offset 36
 4255              		.cfi_offset 4, -36
 4256              		.cfi_offset 5, -32
 4257              		.cfi_offset 6, -28
 4258              		.cfi_offset 7, -24
 4259              		.cfi_offset 8, -20
 4260              		.cfi_offset 9, -16
 4261              		.cfi_offset 10, -12
 4262              		.cfi_offset 11, -8
 4263              		.cfi_offset 14, -4
 4264 0004 89B0     		sub	sp, sp, #36
 4265              	.LCFI68:
 4266              		.cfi_def_cfa_offset 72
 4267 0006 0446     		mov	r4, r0
 4268 0008 0D46     		mov	r5, r1
 4269              	.LVL438:
1105:User/lcd/bsp_lcd.c ****   image_top = image_bottom = Points->Y;
 4270              		.loc 1 1105 0
 4271 000a 0388     		ldrh	r3, [r0]
 4272 000c 0693     		str	r3, [sp, #24]
 4273              	.LVL439:
1106:User/lcd/bsp_lcd.c **** 
 4274              		.loc 1 1106 0
 4275 000e 4288     		ldrh	r2, [r0, #2]
 4276 0010 0792     		str	r2, [sp, #28]
 4277              	.LVL440:
 4278 0012 1046     		mov	r0, r2
 4279              	.LVL441:
 4280 0014 1746     		mov	r7, r2
1105:User/lcd/bsp_lcd.c ****   image_top = image_bottom = Points->Y;
 4281              		.loc 1 1105 0
 4282 0016 9E46     		mov	lr, r3
 4283 0018 1E46     		mov	r6, r3
1108:User/lcd/bsp_lcd.c ****   {
ARM GAS  /tmp/ccYQ2vhW.s 			page 107


 4284              		.loc 1 1108 0
 4285 001a 0123     		movs	r3, #1
 4286              	.LVL442:
 4287 001c 01E0     		b	.L283
 4288              	.LVL443:
 4289              	.L287:
1108:User/lcd/bsp_lcd.c ****   {
 4290              		.loc 1 1108 0 is_stmt 0 discriminator 2
 4291 001e 0133     		adds	r3, r3, #1
 4292              	.LVL444:
 4293 0020 1BB2     		sxth	r3, r3
 4294              	.LVL445:
 4295              	.L283:
1108:User/lcd/bsp_lcd.c ****   {
 4296              		.loc 1 1108 0 discriminator 1
 4297 0022 AB42     		cmp	r3, r5
 4298 0024 13DA     		bge	.L295
1110:User/lcd/bsp_lcd.c ****     if (pixelX < image_left)
 4299              		.loc 1 1110 0 is_stmt 1
 4300 0026 04EB8301 		add	r1, r4, r3, lsl #2
 4301 002a 34F92320 		ldrsh	r2, [r4, r3, lsl #2]
 4302              	.LVL446:
1111:User/lcd/bsp_lcd.c ****     {
 4303              		.loc 1 1111 0
 4304 002e B242     		cmp	r2, r6
 4305 0030 00DA     		bge	.L284
1113:User/lcd/bsp_lcd.c ****     }
 4306              		.loc 1 1113 0
 4307 0032 96B2     		uxth	r6, r2
 4308              	.LVL447:
 4309              	.L284:
1115:User/lcd/bsp_lcd.c ****     {
 4310              		.loc 1 1115 0
 4311 0034 7245     		cmp	r2, lr
 4312 0036 01DD     		ble	.L285
1117:User/lcd/bsp_lcd.c ****     }
 4313              		.loc 1 1117 0
 4314 0038 1FFA82FE 		uxth	lr, r2
 4315              	.LVL448:
 4316              	.L285:
1120:User/lcd/bsp_lcd.c ****     if (pixelY < image_top)
 4317              		.loc 1 1120 0
 4318 003c B1F90220 		ldrsh	r2, [r1, #2]
 4319              	.LVL449:
1121:User/lcd/bsp_lcd.c ****     {
 4320              		.loc 1 1121 0
 4321 0040 BA42     		cmp	r2, r7
 4322 0042 00DA     		bge	.L286
1123:User/lcd/bsp_lcd.c ****     }
 4323              		.loc 1 1123 0
 4324 0044 97B2     		uxth	r7, r2
 4325              	.LVL450:
 4326              	.L286:
1125:User/lcd/bsp_lcd.c ****     {
 4327              		.loc 1 1125 0
 4328 0046 8242     		cmp	r2, r0
 4329 0048 E9DD     		ble	.L287
ARM GAS  /tmp/ccYQ2vhW.s 			page 108


1127:User/lcd/bsp_lcd.c ****     }
 4330              		.loc 1 1127 0
 4331 004a 90B2     		uxth	r0, r2
 4332              	.LVL451:
 4333 004c E7E7     		b	.L287
 4334              	.LVL452:
 4335              	.L295:
1131:User/lcd/bsp_lcd.c ****   {
 4336              		.loc 1 1131 0
 4337 004e 012D     		cmp	r5, #1
 4338 0050 64D9     		bls	.L282
1136:User/lcd/bsp_lcd.c ****   Y_center = (image_bottom + image_top) / 2;
 4339              		.loc 1 1136 0
 4340 0052 7644     		add	r6, r6, lr
 4341              	.LVL453:
 4342 0054 7310     		asrs	r3, r6, #1
 4343              	.LVL454:
 4344 0056 0493     		str	r3, [sp, #16]
 4345              	.LVL455:
1137:User/lcd/bsp_lcd.c **** 
 4346              		.loc 1 1137 0
 4347 0058 3844     		add	r0, r0, r7
 4348              	.LVL456:
 4349 005a 4310     		asrs	r3, r0, #1
 4350 005c 0593     		str	r3, [sp, #20]
 4351              	.LVL457:
1101:User/lcd/bsp_lcd.c ****           counter = 0;
 4352              		.loc 1 1101 0
 4353 005e 0023     		movs	r3, #0
 4354 0060 0393     		str	r3, [sp, #12]
 4355 0062 0293     		str	r3, [sp, #8]
 4356 0064 A046     		mov	r8, r4
1142:User/lcd/bsp_lcd.c ****   {
 4357              		.loc 1 1142 0
 4358 0066 30E0     		b	.L292
 4359              	.LVL458:
 4360              	.L293:
1144:User/lcd/bsp_lcd.c ****     Y = Points->Y;
 4361              		.loc 1 1144 0
 4362 0068 B8F90070 		ldrsh	r7, [r8]
 4363              	.LVL459:
1145:User/lcd/bsp_lcd.c ****     Points++;
 4364              		.loc 1 1145 0
 4365 006c B8F90240 		ldrsh	r4, [r8, #2]
 4366              	.LVL460:
1147:User/lcd/bsp_lcd.c ****     Y2 = Points->Y;
 4367              		.loc 1 1147 0
 4368 0070 38F9043F 		ldrsh	r3, [r8, #4]!
 4369              	.LVL461:
 4370 0074 0293     		str	r3, [sp, #8]
 4371              	.LVL462:
1148:User/lcd/bsp_lcd.c **** 
 4372              		.loc 1 1148 0
 4373 0076 B8F90220 		ldrsh	r2, [r8, #2]
 4374 007a 0392     		str	r2, [sp, #12]
 4375              	.LVL463:
1150:User/lcd/bsp_lcd.c ****     FillTriangle(X, X_center, X2, Y, Y_center, Y2);
ARM GAS  /tmp/ccYQ2vhW.s 			page 109


 4376              		.loc 1 1150 0
 4377 007c BFB2     		uxth	r7, r7
 4378 007e 1FFA83F9 		uxth	r9, r3
 4379 0082 BDF81060 		ldrh	r6, [sp, #16]
 4380 0086 A4B2     		uxth	r4, r4
 4381 0088 1FFA82FB 		uxth	fp, r2
 4382 008c BDF814A0 		ldrh	r10, [sp, #20]
 4383 0090 CDF804A0 		str	r10, [sp, #4]
 4384 0094 CDF800B0 		str	fp, [sp]
 4385 0098 2346     		mov	r3, r4
 4386              	.LVL464:
 4387 009a 3246     		mov	r2, r6
 4388              	.LVL465:
 4389 009c 4946     		mov	r1, r9
 4390 009e 3846     		mov	r0, r7
 4391 00a0 FFF7FEFF 		bl	FillTriangle
 4392              	.LVL466:
1151:User/lcd/bsp_lcd.c ****     FillTriangle(X_center, X2, X, Y_center, Y2, Y);
 4393              		.loc 1 1151 0
 4394 00a4 CDF804B0 		str	fp, [sp, #4]
 4395 00a8 CDF800A0 		str	r10, [sp]
 4396 00ac 2346     		mov	r3, r4
 4397 00ae 4A46     		mov	r2, r9
 4398 00b0 3146     		mov	r1, r6
 4399 00b2 3846     		mov	r0, r7
 4400 00b4 FFF7FEFF 		bl	FillTriangle
 4401              	.LVL467:
1152:User/lcd/bsp_lcd.c ****   }
 4402              		.loc 1 1152 0
 4403 00b8 0194     		str	r4, [sp, #4]
 4404 00ba CDF800B0 		str	fp, [sp]
 4405 00be 5346     		mov	r3, r10
 4406 00c0 3A46     		mov	r2, r7
 4407 00c2 4946     		mov	r1, r9
 4408 00c4 3046     		mov	r0, r6
 4409 00c6 FFF7FEFF 		bl	FillTriangle
 4410              	.LVL468:
 4411              	.L292:
1142:User/lcd/bsp_lcd.c ****   {
 4412              		.loc 1 1142 0
 4413 00ca 013D     		subs	r5, r5, #1
 4414              	.LVL469:
 4415 00cc ADB2     		uxth	r5, r5
 4416              	.LVL470:
 4417 00ce 002D     		cmp	r5, #0
 4418 00d0 CAD1     		bne	.L293
1155:User/lcd/bsp_lcd.c ****   FillTriangle(X_first, X_center, X2, Y_first, Y_center, Y2);
 4419              		.loc 1 1155 0
 4420 00d2 BDF80860 		ldrh	r6, [sp, #8]
 4421 00d6 BDF81050 		ldrh	r5, [sp, #16]
 4422              	.LVL471:
 4423 00da BDF80C40 		ldrh	r4, [sp, #12]
 4424 00de BDF81470 		ldrh	r7, [sp, #20]
 4425 00e2 0197     		str	r7, [sp, #4]
 4426 00e4 0094     		str	r4, [sp]
 4427 00e6 DDF81C90 		ldr	r9, [sp, #28]
 4428 00ea 4B46     		mov	r3, r9
ARM GAS  /tmp/ccYQ2vhW.s 			page 110


 4429 00ec 2A46     		mov	r2, r5
 4430 00ee 3146     		mov	r1, r6
 4431 00f0 DDF81880 		ldr	r8, [sp, #24]
 4432              	.LVL472:
 4433 00f4 4046     		mov	r0, r8
 4434 00f6 FFF7FEFF 		bl	FillTriangle
 4435              	.LVL473:
1156:User/lcd/bsp_lcd.c ****   FillTriangle(X_center, X2, X_first, Y_center, Y2, Y_first);
 4436              		.loc 1 1156 0
 4437 00fa 0194     		str	r4, [sp, #4]
 4438 00fc 0097     		str	r7, [sp]
 4439 00fe 4B46     		mov	r3, r9
 4440 0100 3246     		mov	r2, r6
 4441 0102 2946     		mov	r1, r5
 4442 0104 4046     		mov	r0, r8
 4443 0106 FFF7FEFF 		bl	FillTriangle
 4444              	.LVL474:
1157:User/lcd/bsp_lcd.c **** }
 4445              		.loc 1 1157 0
 4446 010a CDF80490 		str	r9, [sp, #4]
 4447 010e 0094     		str	r4, [sp]
 4448 0110 3B46     		mov	r3, r7
 4449 0112 4246     		mov	r2, r8
 4450 0114 3146     		mov	r1, r6
 4451 0116 2846     		mov	r0, r5
 4452 0118 FFF7FEFF 		bl	FillTriangle
 4453              	.LVL475:
 4454              	.L282:
1158:User/lcd/bsp_lcd.c **** 
 4455              		.loc 1 1158 0
 4456 011c 09B0     		add	sp, sp, #36
 4457              	.LCFI69:
 4458              		.cfi_def_cfa_offset 36
 4459              		@ sp needed
 4460 011e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4461              		.cfi_endproc
 4462              	.LFE179:
 4464              		.section	.text.LCD_FillEllipse,"ax",%progbits
 4465              		.align	1
 4466              		.global	LCD_FillEllipse
 4467              		.syntax unified
 4468              		.thumb
 4469              		.thumb_func
 4470              		.fpu fpv5-d16
 4472              	LCD_FillEllipse:
 4473              	.LFB180:
1169:User/lcd/bsp_lcd.c ****   int x = 0, y = -YRadius, err = 2 - 2 * XRadius, e2;
 4474              		.loc 1 1169 0
 4475              		.cfi_startproc
 4476              		@ args = 0, pretend = 0, frame = 8
 4477              		@ frame_needed = 0, uses_anonymous_args = 0
 4478              	.LVL476:
 4479 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4480              	.LCFI70:
 4481              		.cfi_def_cfa_offset 36
 4482              		.cfi_offset 4, -36
 4483              		.cfi_offset 5, -32
ARM GAS  /tmp/ccYQ2vhW.s 			page 111


 4484              		.cfi_offset 6, -28
 4485              		.cfi_offset 7, -24
 4486              		.cfi_offset 8, -20
 4487              		.cfi_offset 9, -16
 4488              		.cfi_offset 10, -12
 4489              		.cfi_offset 11, -8
 4490              		.cfi_offset 14, -4
 4491 0004 2DED028B 		vpush.64	{d8}
 4492              	.LCFI71:
 4493              		.cfi_def_cfa_offset 44
 4494              		.cfi_offset 80, -44
 4495              		.cfi_offset 81, -40
 4496 0008 83B0     		sub	sp, sp, #12
 4497              	.LCFI72:
 4498              		.cfi_def_cfa_offset 56
 4499 000a 8346     		mov	fp, r0
 4500 000c 0191     		str	r1, [sp, #4]
 4501              	.LVL477:
1170:User/lcd/bsp_lcd.c ****   float k = 0, rad1 = 0, rad2 = 0;
 4502              		.loc 1 1170 0
 4503 000e 5F42     		negs	r7, r3
 4504              	.LVL478:
 4505 0010 C2F10106 		rsb	r6, r2, #1
 4506 0014 7600     		lsls	r6, r6, #1
 4507              	.LVL479:
1173:User/lcd/bsp_lcd.c ****   rad2 = YRadius;
 4508              		.loc 1 1173 0
 4509 0016 07EE902A 		vmov	s15, r2	@ int
 4510 001a F8EEE77A 		vcvt.f32.s32	s15, s15
 4511              	.LVL480:
1174:User/lcd/bsp_lcd.c **** 
 4512              		.loc 1 1174 0
 4513 001e 07EE103A 		vmov	s14, r3	@ int
 4514 0022 B8EEC77A 		vcvt.f32.s32	s14, s14
 4515              	.LVL481:
1176:User/lcd/bsp_lcd.c **** 
 4516              		.loc 1 1176 0
 4517 0026 87EE278A 		vdiv.f32	s16, s14, s15
 4518              	.LVL482:
1170:User/lcd/bsp_lcd.c ****   float k = 0, rad1 = 0, rad2 = 0;
 4519              		.loc 1 1170 0
 4520 002a 4FF0000A 		mov	r10, #0
 4521 002e 08E0     		b	.L299
 4522              	.LVL483:
 4523              	.L300:
 4524 0030 3346     		mov	r3, r6
 4525              	.LVL484:
 4526              	.L297:
1190:User/lcd/bsp_lcd.c ****       err += ++y * 2 + 1;
 4527              		.loc 1 1190 0
 4528 0032 B742     		cmp	r7, r6
 4529 0034 3ADA     		bge	.L302
1191:User/lcd/bsp_lcd.c ****   } while (y <= 0);
 4530              		.loc 1 1191 0
 4531 0036 0137     		adds	r7, r7, #1
 4532              	.LVL485:
 4533 0038 7E00     		lsls	r6, r7, #1
ARM GAS  /tmp/ccYQ2vhW.s 			page 112


 4534              	.LVL486:
 4535 003a 0136     		adds	r6, r6, #1
 4536 003c 1E44     		add	r6, r6, r3
 4537              	.LVL487:
 4538              	.L298:
1192:User/lcd/bsp_lcd.c **** }
 4539              		.loc 1 1192 0
 4540 003e 002F     		cmp	r7, #0
 4541 0040 36DC     		bgt	.L304
 4542              	.LVL488:
 4543              	.L299:
1180:User/lcd/bsp_lcd.c ****     LCD_DrawHLine((Xpos - (uint16_t)(x / k)), (Ypos - y), (2 * (uint16_t)(x / k) + 1));
 4544              		.loc 1 1180 0
 4545 0042 07EE90AA 		vmov	s15, r10	@ int
 4546 0046 B8EEE77A 		vcvt.f32.s32	s14, s15
 4547 004a C7EE087A 		vdiv.f32	s15, s14, s16
 4548 004e FCEEE77A 		vcvt.u32.f32	s15, s15
 4549 0052 CDED007A 		vstr.32	s15, [sp]	@ int
 4550 0056 BDF80040 		ldrh	r4, [sp]
 4551 005a ABEB0408 		sub	r8, fp, r4
 4552 005e 1FFA88F8 		uxth	r8, r8
 4553 0062 BDF80450 		ldrh	r5, [sp, #4]
 4554 0066 1FFA87F9 		uxth	r9, r7
 4555 006a 6400     		lsls	r4, r4, #1
 4556 006c A4B2     		uxth	r4, r4
 4557 006e 0134     		adds	r4, r4, #1
 4558 0070 A4B2     		uxth	r4, r4
 4559 0072 05EB0901 		add	r1, r5, r9
 4560 0076 2246     		mov	r2, r4
 4561 0078 89B2     		uxth	r1, r1
 4562 007a 4046     		mov	r0, r8
 4563 007c FFF7FEFF 		bl	LCD_DrawHLine
 4564              	.LVL489:
1181:User/lcd/bsp_lcd.c **** 
 4565              		.loc 1 1181 0
 4566 0080 A5EB0901 		sub	r1, r5, r9
 4567 0084 2246     		mov	r2, r4
 4568 0086 89B2     		uxth	r1, r1
 4569 0088 4046     		mov	r0, r8
 4570 008a FFF7FEFF 		bl	LCD_DrawHLine
 4571              	.LVL490:
1184:User/lcd/bsp_lcd.c ****     {
 4572              		.loc 1 1184 0
 4573 008e B245     		cmp	r10, r6
 4574 0090 CEDB     		blt	.L300
1186:User/lcd/bsp_lcd.c ****       if (-y == x && e2 <= y)
 4575              		.loc 1 1186 0
 4576 0092 0AF1010A 		add	r10, r10, #1
 4577              	.LVL491:
 4578 0096 4FEA4A03 		lsl	r3, r10, #1
 4579 009a 0133     		adds	r3, r3, #1
 4580 009c 3344     		add	r3, r3, r6
 4581              	.LVL492:
1187:User/lcd/bsp_lcd.c ****         e2 = 0;
 4582              		.loc 1 1187 0
 4583 009e 1AEB070F 		cmn	r10, r7
 4584 00a2 C6D1     		bne	.L297
ARM GAS  /tmp/ccYQ2vhW.s 			page 113


1187:User/lcd/bsp_lcd.c ****         e2 = 0;
 4585              		.loc 1 1187 0 is_stmt 0 discriminator 1
 4586 00a4 B742     		cmp	r7, r6
 4587 00a6 C4DB     		blt	.L297
1188:User/lcd/bsp_lcd.c ****     }
 4588              		.loc 1 1188 0 is_stmt 1
 4589 00a8 0026     		movs	r6, #0
 4590              	.LVL493:
 4591 00aa C2E7     		b	.L297
 4592              	.LVL494:
 4593              	.L302:
 4594 00ac 1E46     		mov	r6, r3
 4595              	.LVL495:
 4596 00ae C6E7     		b	.L298
 4597              	.LVL496:
 4598              	.L304:
1193:User/lcd/bsp_lcd.c **** 
 4599              		.loc 1 1193 0
 4600 00b0 03B0     		add	sp, sp, #12
 4601              	.LCFI73:
 4602              		.cfi_def_cfa_offset 44
 4603              		@ sp needed
 4604 00b2 BDEC028B 		vldm	sp!, {d8}
 4605              	.LCFI74:
 4606              		.cfi_restore 80
 4607              		.cfi_restore 81
 4608              		.cfi_def_cfa_offset 36
 4609              	.LVL497:
 4610 00b6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4611              		.cfi_endproc
 4612              	.LFE180:
 4614              		.section	.text.LCD_DisplayOn,"ax",%progbits
 4615              		.align	1
 4616              		.global	LCD_DisplayOn
 4617              		.syntax unified
 4618              		.thumb
 4619              		.thumb_func
 4620              		.fpu fpv5-d16
 4622              	LCD_DisplayOn:
 4623              	.LFB181:
1200:User/lcd/bsp_lcd.c ****   /* 开显示 */
 4624              		.loc 1 1200 0
 4625              		.cfi_startproc
 4626              		@ args = 0, pretend = 0, frame = 0
 4627              		@ frame_needed = 0, uses_anonymous_args = 0
 4628 0000 08B5     		push	{r3, lr}
 4629              	.LCFI75:
 4630              		.cfi_def_cfa_offset 8
 4631              		.cfi_offset 3, -8
 4632              		.cfi_offset 14, -4
1202:User/lcd/bsp_lcd.c ****   HAL_GPIO_WritePin(LTDC_BL_GPIO_PORT, LTDC_BL_GPIO_PIN, GPIO_PIN_SET); /* 开背光*/
 4633              		.loc 1 1202 0
 4634 0002 064B     		ldr	r3, .L307
 4635 0004 1A68     		ldr	r2, [r3]
 4636 0006 9369     		ldr	r3, [r2, #24]
 4637 0008 43F00103 		orr	r3, r3, #1
 4638 000c 9361     		str	r3, [r2, #24]
ARM GAS  /tmp/ccYQ2vhW.s 			page 114


1203:User/lcd/bsp_lcd.c **** }
 4639              		.loc 1 1203 0
 4640 000e 0122     		movs	r2, #1
 4641 0010 4FF40051 		mov	r1, #8192
 4642 0014 0248     		ldr	r0, .L307+4
 4643 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
 4644              	.LVL498:
 4645 001a 08BD     		pop	{r3, pc}
 4646              	.L308:
 4647              		.align	2
 4648              	.L307:
 4649 001c 00000000 		.word	.LANCHOR1
 4650 0020 000C0258 		.word	1476529152
 4651              		.cfi_endproc
 4652              	.LFE181:
 4654              		.section	.text.LCD_DisplayOff,"ax",%progbits
 4655              		.align	1
 4656              		.global	LCD_DisplayOff
 4657              		.syntax unified
 4658              		.thumb
 4659              		.thumb_func
 4660              		.fpu fpv5-d16
 4662              	LCD_DisplayOff:
 4663              	.LFB182:
1211:User/lcd/bsp_lcd.c ****   /* 关显示 */
 4664              		.loc 1 1211 0
 4665              		.cfi_startproc
 4666              		@ args = 0, pretend = 0, frame = 0
 4667              		@ frame_needed = 0, uses_anonymous_args = 0
 4668 0000 08B5     		push	{r3, lr}
 4669              	.LCFI76:
 4670              		.cfi_def_cfa_offset 8
 4671              		.cfi_offset 3, -8
 4672              		.cfi_offset 14, -4
1213:User/lcd/bsp_lcd.c ****   HAL_GPIO_WritePin(LTDC_BL_GPIO_PORT, LTDC_BL_GPIO_PIN, GPIO_PIN_RESET); /*关背光*/
 4673              		.loc 1 1213 0
 4674 0002 064B     		ldr	r3, .L311
 4675 0004 1A68     		ldr	r2, [r3]
 4676 0006 9369     		ldr	r3, [r2, #24]
 4677 0008 23F00103 		bic	r3, r3, #1
 4678 000c 9361     		str	r3, [r2, #24]
1214:User/lcd/bsp_lcd.c **** }
 4679              		.loc 1 1214 0
 4680 000e 0022     		movs	r2, #0
 4681 0010 4FF40051 		mov	r1, #8192
 4682 0014 0248     		ldr	r0, .L311+4
 4683 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
 4684              	.LVL499:
 4685 001a 08BD     		pop	{r3, pc}
 4686              	.L312:
 4687              		.align	2
 4688              	.L311:
 4689 001c 00000000 		.word	.LANCHOR1
 4690 0020 000C0258 		.word	1476529152
 4691              		.cfi_endproc
 4692              	.LFE182:
 4694              		.section	.bss.ActiveLayer,"aw",%nobits
ARM GAS  /tmp/ccYQ2vhW.s 			page 115


 4695              		.align	2
 4696              		.set	.LANCHOR2,. + 0
 4699              	ActiveLayer:
 4700 0000 00000000 		.space	4
 4701              		.section	.bss.Dma2d_Handler,"aw",%nobits
 4702              		.align	2
 4703              		.set	.LANCHOR0,. + 0
 4706              	Dma2d_Handler:
 4707 0000 00000000 		.space	96
 4707      00000000 
 4707      00000000 
 4707      00000000 
 4707      00000000 
 4708              		.section	.bss.DrawProp,"aw",%nobits
 4709              		.align	2
 4710              		.set	.LANCHOR4,. + 0
 4713              	DrawProp:
 4714 0000 00000000 		.space	24
 4714      00000000 
 4714      00000000 
 4714      00000000 
 4714      00000000 
 4715              		.section	.bss.Ltdc_Handler,"aw",%nobits
 4716              		.align	2
 4717              		.set	.LANCHOR1,. + 0
 4720              	Ltdc_Handler:
 4721 0000 00000000 		.space	168
 4721      00000000 
 4721      00000000 
 4721      00000000 
 4721      00000000 
 4722              		.section	.bss.periph_clk_init_struct.12324,"aw",%nobits
 4723              		.align	2
 4724              		.set	.LANCHOR3,. + 0
 4727              	periph_clk_init_struct.12324:
 4728 0000 00000000 		.space	188
 4728      00000000 
 4728      00000000 
 4728      00000000 
 4728      00000000 
 4729              		.text
 4730              	.Letext0:
 4731              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 4732              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 4733              		.file 4 "Libraries/CMSIS/Include/core_cm7.h"
 4734              		.file 5 "Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 4735              		.file 6 "Libraries/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 4736              		.file 7 "Libraries/CMSIS/Device/ST/STM32H7xx/Include/stm32h7xx.h"
 4737              		.file 8 "/usr/include/newlib/sys/lock.h"
 4738              		.file 9 "/usr/include/newlib/sys/_types.h"
 4739              		.file 10 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 4740              		.file 11 "/usr/include/newlib/sys/reent.h"
 4741              		.file 12 "/usr/include/newlib/math.h"
 4742              		.file 13 "Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 4743              		.file 14 "Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_rcc_ex.h"
 4744              		.file 15 "Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 4745              		.file 16 "Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma2d.h"
ARM GAS  /tmp/ccYQ2vhW.s 			page 116


 4746              		.file 17 "Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 4747              		.file 18 "Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_ltdc.h"
 4748              		.file 19 "Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 4749              		.file 20 "User/./fonts/fonts.h"
 4750              		.file 21 "User/./lcd/bsp_lcd.h"
 4751              		.file 22 "User/./sdram/bsp_sdram.h"
ARM GAS  /tmp/ccYQ2vhW.s 			page 117


DEFINED SYMBOLS
                            *ABS*:0000000000000000 bsp_lcd.c
     /tmp/ccYQ2vhW.s:17     .text.LCD_GPIO_Config:0000000000000000 $t
     /tmp/ccYQ2vhW.s:23     .text.LCD_GPIO_Config:0000000000000000 LCD_GPIO_Config
     /tmp/ccYQ2vhW.s:429    .text.LCD_GPIO_Config:000000000000034c $d
     /tmp/ccYQ2vhW.s:433    .text.LCD_GPIO_Config:0000000000000358 $t
     /tmp/ccYQ2vhW.s:645    .text.LCD_GPIO_Config:0000000000000498 $d
     /tmp/ccYQ2vhW.s:653    .text.LL_FillBuffer:0000000000000000 $t
     /tmp/ccYQ2vhW.s:659    .text.LL_FillBuffer:0000000000000000 LL_FillBuffer
     /tmp/ccYQ2vhW.s:789    .text.LL_FillBuffer:0000000000000098 $d
     /tmp/ccYQ2vhW.s:797    .text.LL_ConvertLineToARGB8888:0000000000000000 $t
     /tmp/ccYQ2vhW.s:803    .text.LL_ConvertLineToARGB8888:0000000000000000 LL_ConvertLineToARGB8888
     /tmp/ccYQ2vhW.s:892    .text.LL_ConvertLineToARGB8888:000000000000005c $d
     /tmp/ccYQ2vhW.s:898    .text.LCD_ClockConfig:0000000000000000 $t
     /tmp/ccYQ2vhW.s:905    .text.LCD_ClockConfig:0000000000000000 LCD_ClockConfig
     /tmp/ccYQ2vhW.s:941    .text.LCD_ClockConfig:0000000000000024 $d
     /tmp/ccYQ2vhW.s:946    .text.LCD_GetXSize:0000000000000000 $t
     /tmp/ccYQ2vhW.s:953    .text.LCD_GetXSize:0000000000000000 LCD_GetXSize
     /tmp/ccYQ2vhW.s:971    .text.LCD_GetXSize:0000000000000010 $d
     /tmp/ccYQ2vhW.s:977    .text.LCD_GetYSize:0000000000000000 $t
     /tmp/ccYQ2vhW.s:984    .text.LCD_GetYSize:0000000000000000 LCD_GetYSize
     /tmp/ccYQ2vhW.s:1002   .text.LCD_GetYSize:0000000000000010 $d
     /tmp/ccYQ2vhW.s:1008   .text.LCD_SetXSize:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1015   .text.LCD_SetXSize:0000000000000000 LCD_SetXSize
     /tmp/ccYQ2vhW.s:1034   .text.LCD_SetXSize:0000000000000010 $d
     /tmp/ccYQ2vhW.s:1040   .text.LCD_SetYSize:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1047   .text.LCD_SetYSize:0000000000000000 LCD_SetYSize
     /tmp/ccYQ2vhW.s:1066   .text.LCD_SetYSize:0000000000000010 $d
     /tmp/ccYQ2vhW.s:1072   .text.LCD_LayerInit:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1079   .text.LCD_LayerInit:0000000000000000 LCD_LayerInit
     /tmp/ccYQ2vhW.s:1180   .text.LCD_LayerInit:0000000000000080 $d
     /tmp/ccYQ2vhW.s:1187   .text.LCD_SelectLayer:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1194   .text.LCD_SelectLayer:0000000000000000 LCD_SelectLayer
     /tmp/ccYQ2vhW.s:1209   .text.LCD_SelectLayer:0000000000000008 $d
     /tmp/ccYQ2vhW.s:1214   .text.LCD_SetLayerVisible:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1221   .text.LCD_SetLayerVisible:0000000000000000 LCD_SetLayerVisible
     /tmp/ccYQ2vhW.s:1262   .text.LCD_SetLayerVisible:000000000000003c $d
     /tmp/ccYQ2vhW.s:1267   .text.LCD_SetTransparency:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1274   .text.LCD_SetTransparency:0000000000000000 LCD_SetTransparency
     /tmp/ccYQ2vhW.s:1296   .text.LCD_SetTransparency:000000000000000c $d
     /tmp/ccYQ2vhW.s:1301   .text.LCD_SetLayerAddress:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1308   .text.LCD_SetLayerAddress:0000000000000000 LCD_SetLayerAddress
     /tmp/ccYQ2vhW.s:1330   .text.LCD_SetLayerAddress:000000000000000c $d
     /tmp/ccYQ2vhW.s:1335   .text.LCD_SetLayerWindow:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1342   .text.LCD_SetLayerWindow:0000000000000000 LCD_SetLayerWindow
     /tmp/ccYQ2vhW.s:1385   .text.LCD_SetLayerWindow:0000000000000028 $d
     /tmp/ccYQ2vhW.s:1390   .text.LCD_SetTextColor:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1397   .text.LCD_SetTextColor:0000000000000000 LCD_SetTextColor
     /tmp/ccYQ2vhW.s:1416   .text.LCD_SetTextColor:0000000000000010 $d
     /tmp/ccYQ2vhW.s:1422   .text.LCD_GetTextColor:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1429   .text.LCD_GetTextColor:0000000000000000 LCD_GetTextColor
     /tmp/ccYQ2vhW.s:1447   .text.LCD_GetTextColor:0000000000000010 $d
     /tmp/ccYQ2vhW.s:1453   .text.LCD_SetBackColor:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1460   .text.LCD_SetBackColor:0000000000000000 LCD_SetBackColor
     /tmp/ccYQ2vhW.s:1480   .text.LCD_SetBackColor:0000000000000014 $d
     /tmp/ccYQ2vhW.s:1486   .text.LCD_GetBackColor:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1493   .text.LCD_GetBackColor:0000000000000000 LCD_GetBackColor
ARM GAS  /tmp/ccYQ2vhW.s 			page 118


     /tmp/ccYQ2vhW.s:1512   .text.LCD_GetBackColor:0000000000000014 $d
     /tmp/ccYQ2vhW.s:1518   .text.LCD_SetColors:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1525   .text.LCD_SetColors:0000000000000000 LCD_SetColors
     /tmp/ccYQ2vhW.s:1550   .text.LCD_SetFont:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1557   .text.LCD_SetFont:0000000000000000 LCD_SetFont
     /tmp/ccYQ2vhW.s:1577   .text.LCD_SetFont:0000000000000014 $d
     /tmp/ccYQ2vhW.s:1583   .text.LCD_Init:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1590   .text.LCD_Init:0000000000000000 LCD_Init
     /tmp/ccYQ2vhW.s:1696   .text.LCD_Init:00000000000000a0 $d
     /tmp/ccYQ2vhW.s:1704   .text.LCD_GetFont:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1711   .text.LCD_GetFont:0000000000000000 LCD_GetFont
     /tmp/ccYQ2vhW.s:1730   .text.LCD_GetFont:0000000000000014 $d
     /tmp/ccYQ2vhW.s:1736   .text.LCD_ReadPixel:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1743   .text.LCD_ReadPixel:0000000000000000 LCD_ReadPixel
     /tmp/ccYQ2vhW.s:1846   .text.LCD_ReadPixel:0000000000000094 $d
     /tmp/ccYQ2vhW.s:1852   .text.LCD_Clear:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1859   .text.LCD_Clear:0000000000000000 LCD_Clear
     /tmp/ccYQ2vhW.s:1909   .text.LCD_Clear:0000000000000034 $d
     /tmp/ccYQ2vhW.s:1915   .text.LCD_DrawHLine:0000000000000000 $t
     /tmp/ccYQ2vhW.s:1922   .text.LCD_DrawHLine:0000000000000000 LCD_DrawHLine
     /tmp/ccYQ2vhW.s:2040   .text.LCD_DrawHLine:00000000000000ac $d
     /tmp/ccYQ2vhW.s:2047   .text.LCD_DrawVLine:0000000000000000 $t
     /tmp/ccYQ2vhW.s:2054   .text.LCD_DrawVLine:0000000000000000 LCD_DrawVLine
     /tmp/ccYQ2vhW.s:2175   .text.LCD_DrawVLine:00000000000000b0 $d
     /tmp/ccYQ2vhW.s:2182   .text.LCD_DrawRect:0000000000000000 $t
     /tmp/ccYQ2vhW.s:2189   .text.LCD_DrawRect:0000000000000000 LCD_DrawRect
     /tmp/ccYQ2vhW.s:2237   .text.LCD_DrawPixel:0000000000000000 $t
     /tmp/ccYQ2vhW.s:2244   .text.LCD_DrawPixel:0000000000000000 LCD_DrawPixel
     /tmp/ccYQ2vhW.s:2361   .text.LCD_DrawPixel:00000000000000c8 $d
     /tmp/ccYQ2vhW.s:2367   .text.DrawChar:0000000000000000 $t
     /tmp/ccYQ2vhW.s:2373   .text.DrawChar:0000000000000000 DrawChar
     /tmp/ccYQ2vhW.s:2539   .text.DrawChar:00000000000000e0 $d
     /tmp/ccYQ2vhW.s:2545   .text.LCD_DisplayChar:0000000000000000 $t
     /tmp/ccYQ2vhW.s:2552   .text.LCD_DisplayChar:0000000000000000 LCD_DisplayChar
     /tmp/ccYQ2vhW.s:2591   .text.LCD_DisplayChar:0000000000000030 $d
     /tmp/ccYQ2vhW.s:2597   .text.LCD_DisplayStringAt:0000000000000000 $t
     /tmp/ccYQ2vhW.s:2604   .text.LCD_DisplayStringAt:0000000000000000 LCD_DisplayStringAt
     /tmp/ccYQ2vhW.s:2763   .text.LCD_DisplayStringAt:00000000000000cc $d
     /tmp/ccYQ2vhW.s:2769   .text.LCD_DisplayStringLine:0000000000000000 $t
     /tmp/ccYQ2vhW.s:2776   .text.LCD_DisplayStringLine:0000000000000000 LCD_DisplayStringLine
     /tmp/ccYQ2vhW.s:2808   .text.LCD_DrawLine:0000000000000000 $t
     /tmp/ccYQ2vhW.s:2815   .text.LCD_DrawLine:0000000000000000 LCD_DrawLine
     /tmp/ccYQ2vhW.s:3026   .text.LCD_DrawLine:00000000000000f4 $d
     /tmp/ccYQ2vhW.s:3032   .text.LCD_DrawPolygon:0000000000000000 $t
     /tmp/ccYQ2vhW.s:3039   .text.LCD_DrawPolygon:0000000000000000 LCD_DrawPolygon
     /tmp/ccYQ2vhW.s:3112   .text.FillTriangle:0000000000000000 $t
     /tmp/ccYQ2vhW.s:3118   .text.FillTriangle:0000000000000000 FillTriangle
     /tmp/ccYQ2vhW.s:3330   .text.LCD_DrawCircle:0000000000000000 $t
     /tmp/ccYQ2vhW.s:3337   .text.LCD_DrawCircle:0000000000000000 LCD_DrawCircle
     /tmp/ccYQ2vhW.s:3514   .text.LCD_DrawCircle:0000000000000124 $d
     /tmp/ccYQ2vhW.s:3520   .text.LCD_DrawEllipse:0000000000000000 $t
     /tmp/ccYQ2vhW.s:3527   .text.LCD_DrawEllipse:0000000000000000 LCD_DrawEllipse
     /tmp/ccYQ2vhW.s:3704   .text.LCD_DrawEllipse:0000000000000108 $d
     /tmp/ccYQ2vhW.s:3710   .text.LCD_DrawBitmap:0000000000000000 $t
     /tmp/ccYQ2vhW.s:3717   .text.LCD_DrawBitmap:0000000000000000 LCD_DrawBitmap
     /tmp/ccYQ2vhW.s:3845   .text.LCD_DrawBitmap:000000000000009c $d
     /tmp/ccYQ2vhW.s:3851   .text.LCD_FillRect:0000000000000000 $t
ARM GAS  /tmp/ccYQ2vhW.s 			page 119


     /tmp/ccYQ2vhW.s:3858   .text.LCD_FillRect:0000000000000000 LCD_FillRect
     /tmp/ccYQ2vhW.s:3991   .text.LCD_FillRect:00000000000000cc $d
     /tmp/ccYQ2vhW.s:3998   .text.LCD_ClearLine:0000000000000000 $t
     /tmp/ccYQ2vhW.s:4005   .text.LCD_ClearLine:0000000000000000 LCD_ClearLine
     /tmp/ccYQ2vhW.s:4067   .text.LCD_ClearLine:0000000000000050 $d
     /tmp/ccYQ2vhW.s:4073   .text.LCD_FillCircle:0000000000000000 $t
     /tmp/ccYQ2vhW.s:4080   .text.LCD_FillCircle:0000000000000000 LCD_FillCircle
     /tmp/ccYQ2vhW.s:4232   .text.LCD_FillCircle:00000000000000d0 $d
     /tmp/ccYQ2vhW.s:4238   .text.LCD_FillPolygon:0000000000000000 $t
     /tmp/ccYQ2vhW.s:4245   .text.LCD_FillPolygon:0000000000000000 LCD_FillPolygon
     /tmp/ccYQ2vhW.s:4465   .text.LCD_FillEllipse:0000000000000000 $t
     /tmp/ccYQ2vhW.s:4472   .text.LCD_FillEllipse:0000000000000000 LCD_FillEllipse
     /tmp/ccYQ2vhW.s:4615   .text.LCD_DisplayOn:0000000000000000 $t
     /tmp/ccYQ2vhW.s:4622   .text.LCD_DisplayOn:0000000000000000 LCD_DisplayOn
     /tmp/ccYQ2vhW.s:4649   .text.LCD_DisplayOn:000000000000001c $d
     /tmp/ccYQ2vhW.s:4655   .text.LCD_DisplayOff:0000000000000000 $t
     /tmp/ccYQ2vhW.s:4662   .text.LCD_DisplayOff:0000000000000000 LCD_DisplayOff
     /tmp/ccYQ2vhW.s:4689   .text.LCD_DisplayOff:000000000000001c $d
     /tmp/ccYQ2vhW.s:4695   .bss.ActiveLayer:0000000000000000 $d
     /tmp/ccYQ2vhW.s:4699   .bss.ActiveLayer:0000000000000000 ActiveLayer
     /tmp/ccYQ2vhW.s:4702   .bss.Dma2d_Handler:0000000000000000 $d
     /tmp/ccYQ2vhW.s:4706   .bss.Dma2d_Handler:0000000000000000 Dma2d_Handler
     /tmp/ccYQ2vhW.s:4709   .bss.DrawProp:0000000000000000 $d
     /tmp/ccYQ2vhW.s:4713   .bss.DrawProp:0000000000000000 DrawProp
     /tmp/ccYQ2vhW.s:4716   .bss.Ltdc_Handler:0000000000000000 $d
     /tmp/ccYQ2vhW.s:4720   .bss.Ltdc_Handler:0000000000000000 Ltdc_Handler
     /tmp/ccYQ2vhW.s:4723   .bss.periph_clk_init_struct.12324:0000000000000000 $d
     /tmp/ccYQ2vhW.s:4727   .bss.periph_clk_init_struct.12324:0000000000000000 periph_clk_init_struct.12324
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
HAL_GPIO_Init
HAL_DMA2D_Init
HAL_DMA2D_ConfigLayer
HAL_DMA2D_Start
HAL_DMA2D_PollForTransfer
HAL_RCCEx_PeriphCLKConfig
HAL_LTDC_ConfigLayer
Font24
HAL_LTDC_SetAlpha
HAL_LTDC_SetAddress
HAL_LTDC_SetWindowSize
HAL_LTDC_SetWindowPosition
SDRAM_Init
HAL_LTDC_Init
HAL_Delay
HAL_GPIO_WritePin
